(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Lu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var np={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function JR(){if(W0)return su;W0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:a,key:c,ref:s!==void 0?s:null,props:l}}return su.Fragment=e,su.jsx=t,su.jsxs=t,su}var Z0;function eC(){return Z0||(Z0=1,np.exports=JR()),np.exports}var w=eC(),rp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function tC(){if(J0)return Oe;J0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,B={};function k(P,ne,ue){this.props=P,this.context=ne,this.refs=B,this.updater=ue||N}k.prototype.isReactComponent={},k.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function q(){}q.prototype=k.prototype;function Y(P,ne,ue){this.props=P,this.context=ne,this.refs=B,this.updater=ue||N}var z=Y.prototype=new q;z.constructor=Y,I(z,k.prototype),z.isPureReactComponent=!0;var K=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function O(P,ne,ue,se,he,Re){return ue=Re.ref,{$$typeof:n,type:P,key:ne,ref:ue!==void 0?ue:null,props:Re}}function C(P,ne){return O(P.type,ne,void 0,void 0,void 0,P.props)}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function V(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ne[ue]})}var L=/\/+/g;function j(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):ne.toString(36)}function D(){}function tt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Ye(P,ne,ue,se,he){var Re=typeof P;(Re==="undefined"||Re==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(Re){case"bigint":case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case n:case e:be=!0;break;case v:return be=P._init,Ye(be(P._payload),ne,ue,se,he)}}if(be)return he=he(P),be=se===""?"."+j(P,0):se,K(he)?(ue="",be!=null&&(ue=be.replace(L,"$&/")+"/"),Ye(he,ne,ue,"",function(Zt){return Zt})):he!=null&&(x(he)&&(he=C(he,ue+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+be)),ne.push(he)),1;be=0;var mt=se===""?".":se+":";if(K(P))for(var Xe=0;Xe<P.length;Xe++)se=P[Xe],Re=mt+j(se,Xe),be+=Ye(se,ne,ue,Re,he);else if(Xe=T(P),typeof Xe=="function")for(P=Xe.call(P),Xe=0;!(se=P.next()).done;)se=se.value,Re=mt+j(se,Xe++),be+=Ye(se,ne,ue,Re,he);else if(Re==="object"){if(typeof P.then=="function")return Ye(tt(P),ne,ue,se,he);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(P,ne,ue){if(P==null)return P;var se=[],he=0;return Ye(P,se,"","",function(Re){return ne.call(ue,Re,he++)}),se}function le(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var fe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ve(){}return Oe.Children={map:W,forEach:function(P,ne,ue){W(P,function(){ne.apply(this,arguments)},ue)},count:function(P){var ne=0;return W(P,function(){ne++}),ne},toArray:function(P){return W(P,function(ne){return ne})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Oe.Component=k,Oe.Fragment=t,Oe.Profiler=s,Oe.PureComponent=Y,Oe.StrictMode=a,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return ee.H.useMemoCache(P)}},Oe.cache=function(P){return function(){return P.apply(null,arguments)}},Oe.cloneElement=function(P,ne,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var se=I({},P.props),he=P.key,Re=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Re=void 0),ne.key!==void 0&&(he=""+ne.key),ne)!oe.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(se[be]=ne[be]);var be=arguments.length-2;if(be===1)se.children=ue;else if(1<be){for(var mt=Array(be),Xe=0;Xe<be;Xe++)mt[Xe]=arguments[Xe+2];se.children=mt}return O(P.type,he,void 0,void 0,Re,se)},Oe.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Oe.createElement=function(P,ne,ue){var se,he={},Re=null;if(ne!=null)for(se in ne.key!==void 0&&(Re=""+ne.key),ne)oe.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=ne[se]);var be=arguments.length-2;if(be===1)he.children=ue;else if(1<be){for(var mt=Array(be),Xe=0;Xe<be;Xe++)mt[Xe]=arguments[Xe+2];he.children=mt}if(P&&P.defaultProps)for(se in be=P.defaultProps,be)he[se]===void 0&&(he[se]=be[se]);return O(P,Re,void 0,void 0,null,he)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(P){return{$$typeof:d,render:P}},Oe.isValidElement=x,Oe.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:le}},Oe.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},Oe.startTransition=function(P){var ne=ee.T,ue={};ee.T=ue;try{var se=P(),he=ee.S;he!==null&&he(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ve,fe)}catch(Re){fe(Re)}finally{ee.T=ne}},Oe.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Oe.use=function(P){return ee.H.use(P)},Oe.useActionState=function(P,ne,ue){return ee.H.useActionState(P,ne,ue)},Oe.useCallback=function(P,ne){return ee.H.useCallback(P,ne)},Oe.useContext=function(P){return ee.H.useContext(P)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(P,ne){return ee.H.useDeferredValue(P,ne)},Oe.useEffect=function(P,ne,ue){var se=ee.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(P,ne)},Oe.useId=function(){return ee.H.useId()},Oe.useImperativeHandle=function(P,ne,ue){return ee.H.useImperativeHandle(P,ne,ue)},Oe.useInsertionEffect=function(P,ne){return ee.H.useInsertionEffect(P,ne)},Oe.useLayoutEffect=function(P,ne){return ee.H.useLayoutEffect(P,ne)},Oe.useMemo=function(P,ne){return ee.H.useMemo(P,ne)},Oe.useOptimistic=function(P,ne){return ee.H.useOptimistic(P,ne)},Oe.useReducer=function(P,ne,ue){return ee.H.useReducer(P,ne,ue)},Oe.useRef=function(P){return ee.H.useRef(P)},Oe.useState=function(P){return ee.H.useState(P)},Oe.useSyncExternalStore=function(P,ne,ue){return ee.H.useSyncExternalStore(P,ne,ue)},Oe.useTransition=function(){return ee.H.useTransition()},Oe.version="19.1.0",Oe}var eE;function yg(){return eE||(eE=1,rp.exports=tC()),rp.exports}var S=yg();const Ne=Lu(S);var ip={exports:{}},ou={},ap={exports:{}},sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function nC(){return tE||(tE=1,function(n){function e(W,le){var fe=W.length;W.push(le);e:for(;0<fe;){var Ve=fe-1>>>1,P=W[Ve];if(0<s(P,le))W[Ve]=le,W[fe]=P,fe=Ve;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var le=W[0],fe=W.pop();if(fe!==le){W[0]=fe;e:for(var Ve=0,P=W.length,ne=P>>>1;Ve<ne;){var ue=2*(Ve+1)-1,se=W[ue],he=ue+1,Re=W[he];if(0>s(se,fe))he<P&&0>s(Re,se)?(W[Ve]=Re,W[he]=fe,Ve=he):(W[Ve]=se,W[ue]=fe,Ve=ue);else if(he<P&&0>s(Re,fe))W[Ve]=Re,W[he]=fe,Ve=he;else break e}}return le}function s(W,le){var fe=W.sortIndex-le.sortIndex;return fe!==0?fe:W.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,T=3,N=!1,I=!1,B=!1,k=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K(W){for(var le=t(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=W)a(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(g)}}function ee(W){if(B=!1,K(W),!I)if(t(m)!==null)I=!0,oe||(oe=!0,j());else{var le=t(g);le!==null&&Ye(ee,le.startTime-W)}}var oe=!1,O=-1,C=5,x=-1;function V(){return k?!0:!(n.unstable_now()-x<C)}function L(){if(k=!1,oe){var W=n.unstable_now();x=W;var le=!0;try{e:{I=!1,B&&(B=!1,Y(O),O=-1),N=!0;var fe=T;try{t:{for(K(W),b=t(m);b!==null&&!(b.expirationTime>W&&V());){var Ve=b.callback;if(typeof Ve=="function"){b.callback=null,T=b.priorityLevel;var P=Ve(b.expirationTime<=W);if(W=n.unstable_now(),typeof P=="function"){b.callback=P,K(W),le=!0;break t}b===t(m)&&a(m),K(W)}else a(m);b=t(m)}if(b!==null)le=!0;else{var ne=t(g);ne!==null&&Ye(ee,ne.startTime-W),le=!1}}break e}finally{b=null,T=fe,N=!1}le=void 0}}finally{le?j():oe=!1}}}var j;if(typeof z=="function")j=function(){z(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,tt=D.port2;D.port1.onmessage=L,j=function(){tt.postMessage(null)}}else j=function(){q(L,0)};function Ye(W,le){O=q(function(){W(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(W){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var fe=T;T=le;try{return W()}finally{T=fe}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var fe=T;T=W;try{return le()}finally{T=fe}},n.unstable_scheduleCallback=function(W,le,fe){var Ve=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ve+fe:Ve):fe=Ve,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=fe+P,W={id:v++,callback:le,priorityLevel:W,startTime:fe,expirationTime:P,sortIndex:-1},fe>Ve?(W.sortIndex=fe,e(g,W),t(m)===null&&W===t(g)&&(B?(Y(O),O=-1):B=!0,Ye(ee,fe-Ve))):(W.sortIndex=P,e(m,W),I||N||(I=!0,oe||(oe=!0,j()))),W},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(W){var le=T;return function(){var fe=T;T=le;try{return W.apply(this,arguments)}finally{T=fe}}}}(sp)),sp}var nE;function rC(){return nE||(nE=1,ap.exports=nC()),ap.exports}var op={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function iC(){if(rE)return nn;rE=1;var n=yg();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},nn.flushSync=function(m){var g=c.T,v=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=g,a.p=v,a.d.f()}},nn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},nn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},nn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:N}):v==="script"&&a.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},nn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);a.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},nn.requestFormReset=function(m){a.d.r(m)},nn.unstable_batchedUpdates=function(m,g){return m(g)},nn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var iE;function db(){if(iE)return op.exports;iE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),op.exports=iC(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function aC(){if(aE)return ou;aE=1;var n=rC(),e=yg(),t=db();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(a(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(a(188));return i!==r?null:r}for(var o=r,u=i;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return d(h),r;if(p===u)return d(h),i;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=h,u=p;else{for(var E=!1,A=h.child;A;){if(A===o){E=!0,o=h,u=p;break}if(A===u){E=!0,u=h,o=p;break}A=A.sibling}if(!E){for(A=p.child;A;){if(A===o){E=!0,o=p,u=h;break}if(A===u){E=!0,u=p,o=h;break}A=A.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function tt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case k:return"Profiler";case B:return"StrictMode";case ee:return"Suspense";case oe:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case z:return(r.displayName||"Context")+".Provider";case Y:return(r._context.displayName||"Context")+".Consumer";case K:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:tt(r.type)||"Memo";case C:i=r._payload,r=r._init;try{return tt(r(i))}catch{}}return null}var Ye=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ve=[],P=-1;function ne(r){return{current:r}}function ue(r){0>P||(r.current=Ve[P],Ve[P]=null,P--)}function se(r,i){P++,Ve[P]=r.current,r.current=i}var he=ne(null),Re=ne(null),be=ne(null),mt=ne(null);function Xe(r,i){switch(se(be,i),se(Re,r),se(he,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?A0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=A0(i),r=R0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(he),se(he,r)}function Zt(){ue(he),ue(Re),ue(be)}function ln(r){r.memoizedState!==null&&se(mt,r);var i=he.current,o=R0(i,r.type);i!==o&&(se(Re,r),se(he,o))}function mn(r){Re.current===r&&(ue(he),ue(Re)),mt.current===r&&(ue(mt),tu._currentValue=fe)}var pn=Object.prototype.hasOwnProperty,Sn=n.unstable_scheduleCallback,gn=n.unstable_cancelCallback,We=n.unstable_shouldYield,Dr=n.unstable_requestPaint,Lt=n.unstable_now,Jo=n.unstable_getCurrentPriorityLevel,Ca=n.unstable_ImmediatePriority,Ai=n.unstable_UserBlockingPriority,Mr=n.unstable_NormalPriority,el=n.unstable_LowPriority,Ri=n.unstable_IdlePriority,Ci=n.log,Cs=n.unstable_setDisableYieldValue,_e=null,je=null;function Jt(r){if(typeof Ci=="function"&&Cs(r),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(_e,r)}catch{}}var en=Math.clz32?Math.clz32:Ia,ic=Math.log,id=Math.LN2;function Ia(r){return r>>>=0,r===0?32:31-(ic(r)/id|0)|0}var xa=256,Na=4194304;function Yn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Is(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?h=Yn(u):(E&=A,E!==0?h=Yn(E):o||(o=A&~r,o!==0&&(h=Yn(o))))):(A=u&~p,A!==0?h=Yn(A):E!==0?h=Yn(E):o||(o=u&~r,o!==0&&(h=Yn(o)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:h}function Oa(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function tl(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nl(){var r=xa;return xa<<=1,(xa&4194048)===0&&(xa=256),r}function rl(){var r=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),r}function kr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Vr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function il(r,i,o,u,h,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,M=r.expirationTimes,G=r.hiddenUpdates;for(o=E&~o;0<o;){var J=31-en(o),re=1<<J;A[J]=0,M[J]=-1;var Q=G[J];if(Q!==null)for(G[J]=null,J=0;J<Q.length;J++){var X=Q[J];X!==null&&(X.lane&=-536870913)}o&=~re}u!==0&&lr(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function lr(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-en(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function al(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-en(o),h=1<<u;h&i|r[u]&i&&(r[u]|=i),o&=~h}}function Ii(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function xs(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function xi(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:$0(r.type))}function ac(r,i){var o=le.p;try{return le.p=r,i()}finally{le.p=o}}var ft=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ft,St="__reactProps$"+ft,Vn="__reactContainer$"+ft,sl="__reactEvents$"+ft,ad="__reactListeners$"+ft,Ni="__reactHandles$"+ft,sc="__reactResources$"+ft,Da="__reactMarker$"+ft;function Oi(r){delete r[Nt],delete r[St],delete r[sl],delete r[ad],delete r[Ni]}function Pr(r){var i=r[Nt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Vn]||o[Nt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=N0(r);r!==null;){if(o=r[Nt])return o;r=N0(r)}return i}r=o,o=r.parentNode}return null}function ur(r){if(r=r[Nt]||r[Vn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function cr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function un(r){var i=r[sc];return i||(i=r[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(r){r[Da]=!0}var ol=new Set,Ns={};function Qn(r,i){Lr(r,i),Lr(r+"Capture",i)}function Lr(r,i){for(Ns[r]=i,r=0;r<i.length;r++)ol.add(i[r])}var oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},Ma={};function uc(r){return pn.call(Ma,r)?!0:pn.call(lc,r)?!1:oc.test(r)?Ma[r]=!0:(lc[r]=!0,!1)}function Di(r,i,o){if(uc(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function fr(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Ft(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}var ka,cc;function Ur(r){if(ka===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ka=i&&i[1]||"",cc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+r+cc}var Os=!1;function Ds(r,i){if(!r||Os)return"";Os=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Q=X}Reflect.construct(r,[],re)}else{try{re.call()}catch(X){Q=X}r.call(re.prototype)}}else{try{throw Error()}catch(X){Q=X}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],A=p[1];if(E&&A){var M=E.split(`
`),G=A.split(`
`);for(h=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(u===M.length||h===G.length)for(u=M.length-1,h=G.length-1;1<=u&&0<=h&&M[u]!==G[h];)h--;for(;1<=u&&0<=h;u--,h--)if(M[u]!==G[h]){if(u!==1||h!==1)do if(u--,h--,0>h||M[u]!==G[h]){var J=`
`+M[u].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=u&&0<=h);break}}}finally{Os=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ur(o):""}function ll(r){switch(r.tag){case 26:case 27:case 5:return Ur(r.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Ds(r.type,!1);case 11:return Ds(r.type.render,!1);case 1:return Ds(r.type,!0);case 31:return Ur("Activity");default:return""}}function Ms(r){try{var i="";do i+=ll(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ul(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sd(r){var i=ul(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ks(r){r._valueTracker||(r._valueTracker=sd(r))}function cl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=ul(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function Va(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var od=/[\n"\\]/g;function At(r){return r.replace(od,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function An(r,i,o,u,h,p,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+cn(i)):r.value!==""+cn(i)&&(r.value=""+cn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?Mi(r,E,cn(i)):o!=null?Mi(r,E,cn(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+cn(A):r.removeAttribute("name")}function Pa(r,i,o,u,h,p,E,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+cn(o):"",i=i!=null?""+cn(i):o,A||i===r.value||(r.value=i),r.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Mi(r,i,o){i==="number"&&Va(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function jr(r,i,o,u){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+cn(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function it(r,i,o){if(i!=null&&(i=""+cn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+cn(o):""}function La(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(Ye(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=cn(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Pn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||Ua.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function fl(r,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&o[h]!==u&&fc(r,h,u)}else for(var p in i)i.hasOwnProperty(p)&&fc(r,p,i[p])}function hl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ud=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(r){return ud.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Br=null;function Ln(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var zr=null,Hr=null;function dl(r){var i=ur(r);if(i&&(r=i.stateNode)){var o=r[St]||null;e:switch(r=i.stateNode,i.type){case"input":if(An(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+At(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var h=u[St]||null;if(!h)throw Error(a(90));An(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&cl(u)}break e;case"textarea":it(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&jr(r,!!o.multiple,i,!1)}}}var hr=!1;function hc(r,i,o){if(hr)return r(i,o);hr=!0;try{var u=r(i);return u}finally{if(hr=!1,(zr!==null||Hr!==null)&&(sf(),zr&&(i=zr,r=Hr,Hr=zr=null,dl(i),r)))for(i=0;i<r.length;i++)dl(r[i])}}function ja(r,i){var o=r.stateNode;if(o===null)return null;var u=o[St]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Xn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Un=!1}var dr=null,ki=null,qr=null;function ml(){if(qr)return qr;var r,i=ki,o=i.length,u,h="value"in dr?dr.value:dr.textContent,p=h.length;for(r=0;r<o&&i[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&i[o-u]===h[p-u];u++);return qr=h.slice(r,1<u?1-u:void 0)}function mr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function pl(){return!1}function Ut(r){function i(o,u,h,p,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pr:pl,this.isPropagationStopped=pl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Ut(Ze),za=v({},Ze,{view:0,detail:0}),dc=Ut(za),Ls,Us,gr,Ha=v({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gr&&(gr&&r.type==="mousemove"?(Ls=r.screenX-gr.screenX,Us=r.screenY-gr.screenY):Us=Ls=0,gr=r),Ls)},movementY:function(r){return"movementY"in r?r.movementY:Us}}),jn=Ut(Ha),mc=v({},Ha,{dataTransfer:0}),cd=Ut(mc),qa=v({},za,{relatedTarget:0}),js=Ut(qa),gl=v({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Bs=Ut(gl),pc=v({},Ze,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zs=Ut(pc),fd=v({},Ze,{data:0}),yl=Ut(fd),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=yc[r])?!!i[r]:!1}function $a(){return vl}var vc=v({},za,{key:function(r){if(r.key){var i=Fa[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(r){return r.type==="keypress"?mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Hs=Ut(vc),_c=v({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Ut(_c),Fr=v({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),Ec=Ut(Fr),Tc=v({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),bc=Ut(Tc),wc=v({},Ha,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=Ut(wc),fn=v({},Ze,{newState:0,oldState:0}),Sc=Ut(fn),Ac=[9,13,27,32],yr=Xn&&"CompositionEvent"in window,f=null;Xn&&"documentMode"in document&&(f=document.documentMode);var y=Xn&&"TextEvent"in window&&!f,_=Xn&&(!yr||f&&8<f&&11>=f),R=" ",F=!1;function Z(r,i){switch(r){case"keyup":return Ac.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var He=!1;function Ot(r,i){switch(r){case"compositionend":return ce(i);case"keypress":return i.which!==32?null:(F=!0,R);case"textInput":return r=i.data,r===R&&F?null:r;default:return null}}function qe(r,i){if(He)return r==="compositionend"||!yr&&Z(r,i)?(r=ml(),qr=ki=dr=null,He=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!jt[r.type]:i==="textarea"}function $r(r,i,o,u){zr?Hr?Hr.push(u):Hr=[u]:zr=u,i=hf(i,"onChange"),0<i.length&&(o=new Ps("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var $t=null,vr=null;function El(r){E0(r,0)}function Rc(r){var i=cr(r);if(cl(i))return r}function zy(r,i){if(r==="change")return i}var Hy=!1;if(Xn){var hd;if(Xn){var dd="oninput"in document;if(!dd){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),dd=typeof qy.oninput=="function"}hd=dd}else hd=!1;Hy=hd&&(!document.documentMode||9<document.documentMode)}function Fy(){$t&&($t.detachEvent("onpropertychange",$y),vr=$t=null)}function $y(r){if(r.propertyName==="value"&&Rc(vr)){var i=[];$r(i,vr,r,Ln(r)),hc(El,i)}}function xA(r,i,o){r==="focusin"?(Fy(),$t=i,vr=o,$t.attachEvent("onpropertychange",$y)):r==="focusout"&&Fy()}function NA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rc(vr)}function OA(r,i){if(r==="click")return Rc(i)}function DA(r,i){if(r==="input"||r==="change")return Rc(i)}function MA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Rn=typeof Object.is=="function"?Object.is:MA;function Tl(r,i){if(Rn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!pn.call(i,h)||!Rn(r[h],i[h]))return!1}return!0}function Gy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ky(r,i){var o=Gy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gy(o)}}function Yy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Yy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Qy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Va(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Va(r.document)}return i}function md(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var kA=Xn&&"documentMode"in document&&11>=document.documentMode,Fs=null,pd=null,bl=null,gd=!1;function Xy(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gd||Fs==null||Fs!==Va(u)||(u=Fs,"selectionStart"in u&&md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bl&&Tl(bl,u)||(bl=u,u=hf(pd,"onSelect"),0<u.length&&(i=new Ps("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=Fs)))}function Ga(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var $s={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},yd={},Wy={};Xn&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Ka(r){if(yd[r])return yd[r];if(!$s[r])return r;var i=$s[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Wy)return yd[r]=i[o];return r}var Zy=Ka("animationend"),Jy=Ka("animationiteration"),ev=Ka("animationstart"),VA=Ka("transitionrun"),PA=Ka("transitionstart"),LA=Ka("transitioncancel"),tv=Ka("transitionend"),nv=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function Wn(r,i){nv.set(r,i),Qn(i,[r])}var rv=new WeakMap;function Bn(r,i){if(typeof r=="object"&&r!==null){var o=rv.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Ms(i)},rv.set(r,i),i)}return{value:r,source:i,stack:Ms(i)}}var zn=[],Gs=0,_d=0;function Cc(){for(var r=Gs,i=_d=Gs=0;i<r;){var o=zn[i];zn[i++]=null;var u=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var p=zn[i];if(zn[i++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&iv(o,h,p)}}function Ic(r,i,o,u){zn[Gs++]=r,zn[Gs++]=i,zn[Gs++]=o,zn[Gs++]=u,_d|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Ed(r,i,o,u){return Ic(r,i,o,u),xc(r)}function Ks(r,i){return Ic(r,null,null,i),xc(r)}function iv(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&i!==null&&(h=31-en(o),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[i]:u.push(i),i.lane=o|536870912),p):null}function xc(r){if(50<Kl)throw Kl=0,Rm=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ys={};function UA(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,i,o,u){return new UA(r,i,o,u)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Gr(r,i){var o=r.alternate;return o===null?(o=Cn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function av(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Nc(r,i,o,u,h,p){var E=0;if(u=r,typeof r=="function")Td(r)&&(E=1);else if(typeof r=="string")E=BR(r,o,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case x:return r=Cn(31,o,i,h),r.elementType=x,r.lanes=p,r;case I:return Ya(o.children,h,p,i);case B:E=8,h|=24;break;case k:return r=Cn(12,o,i,h|2),r.elementType=k,r.lanes=p,r;case ee:return r=Cn(13,o,i,h),r.elementType=ee,r.lanes=p,r;case oe:return r=Cn(19,o,i,h),r.elementType=oe,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:case z:E=10;break e;case Y:E=9;break e;case K:E=11;break e;case O:E=14;break e;case C:E=16,u=null;break e}E=29,o=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=Cn(E,o,i,h),i.elementType=r,i.type=u,i.lanes=p,i}function Ya(r,i,o,u){return r=Cn(7,r,u,i),r.lanes=o,r}function bd(r,i,o){return r=Cn(6,r,null,i),r.lanes=o,r}function wd(r,i,o){return i=Cn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Qs=[],Xs=0,Oc=null,Dc=0,Hn=[],qn=0,Qa=null,Kr=1,Yr="";function Xa(r,i){Qs[Xs++]=Dc,Qs[Xs++]=Oc,Oc=r,Dc=i}function sv(r,i,o){Hn[qn++]=Kr,Hn[qn++]=Yr,Hn[qn++]=Qa,Qa=r;var u=Kr;r=Yr;var h=32-en(u)-1;u&=~(1<<h),o+=1;var p=32-en(i)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Kr=1<<32-en(i)+h|o<<h|u,Yr=p+r}else Kr=1<<p|o<<h|u,Yr=r}function Sd(r){r.return!==null&&(Xa(r,1),sv(r,1,0))}function Ad(r){for(;r===Oc;)Oc=Qs[--Xs],Qs[Xs]=null,Dc=Qs[--Xs],Qs[Xs]=null;for(;r===Qa;)Qa=Hn[--qn],Hn[qn]=null,Yr=Hn[--qn],Hn[qn]=null,Kr=Hn[--qn],Hn[qn]=null}var hn=null,vt=null,Qe=!1,Wa=null,_r=!1,Rd=Error(a(519));function Za(r){var i=Error(a(418,""));throw Al(Bn(i,r)),Rd}function ov(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[Nt]=r,i[St]=u,o){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(o=0;o<Ql.length;o++)Le(Ql[o],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Pa(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ks(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),La(i,u.value,u.defaultValue,u.children),ks(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||S0(i.textContent,o)?(u.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),u.onScroll!=null&&Le("scroll",i),u.onScrollEnd!=null&&Le("scrollend",i),u.onClick!=null&&(i.onclick=df),i=!0):i=!1,i||Za(r)}function lv(r){for(hn=r.return;hn;)switch(hn.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:hn=hn.return}}function wl(r){if(r!==hn)return!1;if(!Qe)return lv(r),Qe=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Hm(r.type,r.memoizedProps)),o=!o),o&&vt&&Za(r),lv(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){vt=Jn(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}vt=null}}else i===27?(i=vt,Xi(r.type)?(r=Gm,Gm=null,vt=r):vt=i):vt=hn?Jn(r.stateNode.nextSibling):null;return!0}function Sl(){vt=hn=null,Qe=!1}function uv(){var r=Wa;return r!==null&&(_n===null?_n=r:_n.push.apply(_n,r),Wa=null),r}function Al(r){Wa===null?Wa=[r]:Wa.push(r)}var Cd=ne(null),Ja=null,Qr=null;function Vi(r,i,o){se(Cd,i._currentValue),i._currentValue=o}function Xr(r){r._currentValue=Cd.current,ue(Cd)}function Id(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function xd(r,i,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=h;for(var M=0;M<i.length;M++)if(A.context===i[M]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),Id(p.return,o,r),u||(E=null);break e}p=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Id(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Rl(r,i,o,u){r=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var A=h.type;Rn(h.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(h===mt.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(tu):r=[tu])}h=h.return}r!==null&&xd(i,r,o,u),i.flags|=262144}function Mc(r){for(r=r.firstContext;r!==null;){if(!Rn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function es(r){Ja=r,Qr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return cv(Ja,r)}function kc(r,i){return Ja===null&&es(r),cv(r,i)}function cv(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Qr===null){if(r===null)throw Error(a(308));Qr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Qr=Qr.next=i;return o}var jA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},BA=n.unstable_scheduleCallback,zA=n.unstable_NormalPriority,Mt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new jA,data:new Map,refCount:0}}function Cl(r){r.refCount--,r.refCount===0&&BA(zA,function(){r.controller.abort()})}var Il=null,Od=0,Ws=0,Zs=null;function HA(r,i){if(Il===null){var o=Il=[];Od=0,Ws=Mm(),Zs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Od++,i.then(fv,fv),i}function fv(){if(--Od===0&&Il!==null){Zs!==null&&(Zs.status="fulfilled");var r=Il;Il=null,Ws=0,Zs=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function qA(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var hv=W.S;W.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&HA(r,i),hv!==null&&hv(r,i)};var ts=ne(null);function Dd(){var r=ts.current;return r!==null?r:ut.pooledCache}function Vc(r,i){i===null?se(ts,ts.current):se(ts,i.pool)}function dv(){var r=Dd();return r===null?null:{parent:Mt._currentValue,pool:r}}var xl=Error(a(460)),mv=Error(a(474)),Pc=Error(a(542)),Md={then:function(){}};function pv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Lc(){}function gv(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Lc,Lc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,vv(r),r;default:if(typeof i.status=="string")i.then(Lc,Lc);else{if(r=ut,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,vv(r),r}throw Nl=i,xl}}var Nl=null;function yv(){if(Nl===null)throw Error(a(459));var r=Nl;return Nl=null,r}function vv(r){if(r===xl||r===Pc)throw Error(a(483))}var Pi=!1;function kd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Li(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ui(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=xc(r),iv(r,null,o),i}return Ic(r,u,i,o),xc(r)}function Ol(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,al(r,o)}}function Pd(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=i:p=p.next=i}else h=p=i;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Ld=!1;function Dl(){if(Ld){var r=Zs;if(r!==null)throw r}}function Ml(r,i,o,u){Ld=!1;var h=r.updateQueue;Pi=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var M=A,G=M.next;M.next=null,E===null?p=G:E.next=G,E=M;var J=r.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=G:A.next=G,J.lastBaseUpdate=M))}if(p!==null){var re=h.baseState;E=0,J=G=M=null,A=p;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(Fe&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ws&&(Ld=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ce=r,Te=A;Q=i;var ot=o;switch(Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){re=Ce.call(ot,re,Q);break e}re=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,Q=typeof Ce=="function"?Ce.call(ot,re,Q):Ce,Q==null)break e;re=v({},re,Q);break e;case 2:Pi=!0}}Q=A.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(G=J=X,M=re):J=J.next=X,E|=Q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;X=A,A=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);J===null&&(M=re),h.baseState=M,h.firstBaseUpdate=G,h.lastBaseUpdate=J,p===null&&(h.shared.lanes=0),Gi|=E,r.lanes=E,r.memoizedState=re}}function _v(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function Ev(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)_v(o[r],i)}var Js=ne(null),Uc=ne(0);function Tv(r,i){r=ri,se(Uc,r),se(Js,i),ri=r|i.baseLanes}function Ud(){se(Uc,ri),se(Js,Js.current)}function jd(){ri=Uc.current,ue(Js),ue(Uc)}var ji=0,De=null,at=null,Rt=null,jc=!1,eo=!1,ns=!1,Bc=0,kl=0,to=null,FA=0;function Tt(){throw Error(a(321))}function Bd(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Rn(r[o],i[o]))return!1;return!0}function zd(r,i,o,u,h,p){return ji=p,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?i_:a_,ns=!1,p=o(u,h),ns=!1,eo&&(p=wv(i,o,u,h)),bv(r),p}function bv(r){W.H=Gc;var i=at!==null&&at.next!==null;if(ji=0,Rt=at=De=null,jc=!1,kl=0,to=null,i)throw Error(a(300));r===null||Bt||(r=r.dependencies,r!==null&&Mc(r)&&(Bt=!0))}function wv(r,i,o,u){De=r;var h=0;do{if(eo&&(to=null),kl=0,eo=!1,25<=h)throw Error(a(301));if(h+=1,Rt=at=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=WA,p=i(o,u)}while(eo);return p}function $A(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?Vl(i):i,r=r.useState()[0],(at!==null?at.memoizedState:null)!==r&&(De.flags|=1024),i}function Hd(){var r=Bc!==0;return Bc=0,r}function qd(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Fd(r){if(jc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jc=!1}ji=0,Rt=at=De=null,eo=!1,kl=Bc=0,to=null}function yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?De.memoizedState=Rt=r:Rt=Rt.next=r,Rt}function Ct(){if(at===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var i=Rt===null?De.memoizedState:Rt.next;if(i!==null)Rt=i,at=r;else{if(r===null)throw De.alternate===null?Error(a(467)):Error(a(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Rt===null?De.memoizedState=Rt=r:Rt=Rt.next=r}return Rt}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(r){var i=kl;return kl+=1,to===null&&(to=[]),r=gv(to,r,i),i=De,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?i_:a_),r}function zc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vl(r);if(r.$$typeof===z)return tn(r)}throw Error(a(438,String(r)))}function Gd(r){var i=null,o=De.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=$d(),De.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=V;return i.index++,o}function Wr(r,i){return typeof i=="function"?i(r):i}function Hc(r){var i=Ct();return Kd(i,at,r)}function Kd(r,i,o){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}i.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{i=h.next;var A=E=null,M=null,G=i,J=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Fe&re)===re:(ji&re)===re){var Q=G.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===Ws&&(J=!0);else if((ji&Q)===Q){G=G.next,Q===Ws&&(J=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(A=M=re,E=p):M=M.next=re,De.lanes|=Q,Gi|=Q;re=G.action,ns&&o(p,re),p=G.hasEagerState?G.eagerState:o(p,re)}else Q={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(A=M=Q,E=p):M=M.next=Q,De.lanes|=re,Gi|=re;G=G.next}while(G!==null&&G!==i);if(M===null?E=p:M.next=A,!Rn(p,r.memoizedState)&&(Bt=!0,J&&(o=Zs,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=M,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Yd(r){var i=Ct(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=i.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=r(p,E.action),E=E.next;while(E!==h);Rn(p,i.memoizedState)||(Bt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function Sv(r,i,o){var u=De,h=Ct(),p=Qe;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=i();var E=!Rn((at||h).memoizedState,o);E&&(h.memoizedState=o,Bt=!0),h=h.queue;var A=Cv.bind(null,u,h,r);if(Pl(2048,8,A,[r]),h.getSnapshot!==i||E||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,no(9,qc(),Rv.bind(null,u,h,o,i),null),ut===null)throw Error(a(349));p||(ji&124)!==0||Av(u,i,o)}return o}function Av(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=De.updateQueue,i===null?(i=$d(),De.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Rv(r,i,o,u){i.value=o,i.getSnapshot=u,Iv(i)&&xv(r)}function Cv(r,i,o){return o(function(){Iv(i)&&xv(r)})}function Iv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Rn(r,o)}catch{return!0}}function xv(r){var i=Ks(r,2);i!==null&&Dn(i,r,2)}function Qd(r){var i=yn();if(typeof r=="function"){var o=r;if(r=o(),ns){Jt(!0);try{o()}finally{Jt(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:r},i}function Nv(r,i,o,u){return r.baseState=o,Kd(r,at,typeof u=="function"?u:Wr)}function GA(r,i,o,u,h){if($c(r))throw Error(a(485));if(r=i.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,Ov(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Ov(r,i){var o=i.action,u=i.payload,h=r.state;if(i.isTransition){var p=W.T,E={};W.T=E;try{var A=o(h,u),M=W.S;M!==null&&M(E,A),Dv(r,i,A)}catch(G){Xd(r,i,G)}finally{W.T=p}}else try{p=o(h,u),Dv(r,i,p)}catch(G){Xd(r,i,G)}}function Dv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Mv(r,i,u)},function(u){return Xd(r,i,u)}):Mv(r,i,o)}function Mv(r,i,o){i.status="fulfilled",i.value=o,kv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,Ov(r,o)))}function Xd(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,kv(i),i=i.next;while(i!==u)}r.action=null}function kv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Vv(r,i){return i}function Pv(r,i){if(Qe){var o=ut.formState;if(o!==null){e:{var u=De;if(Qe){if(vt){t:{for(var h=vt,p=_r;h.nodeType!==8;){if(!p){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){vt=Jn(h.nextSibling),u=h.data==="F!";break e}}Za(u)}u=!1}u&&(i=o[0])}}return o=yn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vv,lastRenderedState:i},o.queue=u,o=t_.bind(null,De,u),u.dispatch=o,u=Qd(!1),p=tm.bind(null,De,!1,u.queue),u=yn(),h={state:i,dispatch:null,action:r,pending:null},u.queue=h,o=GA.bind(null,De,h,p,o),h.dispatch=o,u.memoizedState=r,[i,o,!1]}function Lv(r){var i=Ct();return Uv(i,at,r)}function Uv(r,i,o){if(i=Kd(r,i,Vv)[0],r=Hc(Wr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Vl(i)}catch(E){throw E===xl?Pc:E}else u=i;i=Ct();var h=i.queue,p=h.dispatch;return o!==i.memoizedState&&(De.flags|=2048,no(9,qc(),KA.bind(null,h,o),null)),[u,p,r]}function KA(r,i){r.action=i}function jv(r){var i=Ct(),o=at;if(o!==null)return Uv(i,o,r);Ct(),i=i.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function no(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=De.updateQueue,i===null&&(i=$d(),De.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function qc(){return{destroy:void 0,resource:void 0}}function Bv(){return Ct().memoizedState}function Fc(r,i,o,u){var h=yn();u=u===void 0?null:u,De.flags|=r,h.memoizedState=no(1|i,qc(),o,u)}function Pl(r,i,o,u){var h=Ct();u=u===void 0?null:u;var p=h.memoizedState.inst;at!==null&&u!==null&&Bd(u,at.memoizedState.deps)?h.memoizedState=no(i,p,o,u):(De.flags|=r,h.memoizedState=no(1|i,p,o,u))}function zv(r,i){Fc(8390656,8,r,i)}function Hv(r,i){Pl(2048,8,r,i)}function qv(r,i){return Pl(4,2,r,i)}function Fv(r,i){return Pl(4,4,r,i)}function $v(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Gv(r,i,o){o=o!=null?o.concat([r]):null,Pl(4,4,$v.bind(null,i,r),o)}function Wd(){}function Kv(r,i){var o=Ct();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Bd(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function Yv(r,i){var o=Ct();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Bd(i,u[1]))return u[0];if(u=r(),ns){Jt(!0);try{r()}finally{Jt(!1)}}return o.memoizedState=[u,i],u}function Zd(r,i,o){return o===void 0||(ji&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=W_(),De.lanes|=r,Gi|=r,o)}function Qv(r,i,o,u){return Rn(o,i)?o:Js.current!==null?(r=Zd(r,o,u),Rn(r,i)||(Bt=!0),r):(ji&42)===0?(Bt=!0,r.memoizedState=o):(r=W_(),De.lanes|=r,Gi|=r,i)}function Xv(r,i,o,u,h){var p=le.p;le.p=p!==0&&8>p?p:8;var E=W.T,A={};W.T=A,tm(r,!1,i,o);try{var M=h(),G=W.S;if(G!==null&&G(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=qA(M,u);Ll(r,i,J,On(r))}else Ll(r,i,u,On(r))}catch(re){Ll(r,i,{then:function(){},status:"rejected",reason:re},On())}finally{le.p=p,W.T=E}}function YA(){}function Jd(r,i,o,u){if(r.tag!==5)throw Error(a(476));var h=Wv(r).queue;Xv(r,h,i,fe,o===null?YA:function(){return Zv(r),o(u)})}function Wv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:fe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Zv(r){var i=Wv(r).next.queue;Ll(r,i,{},On())}function em(){return tn(tu)}function Jv(){return Ct().memoizedState}function e_(){return Ct().memoizedState}function QA(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=On();r=Li(o);var u=Ui(i,r,o);u!==null&&(Dn(u,i,o),Ol(u,i,o)),i={cache:Nd()},r.payload=i;return}i=i.return}}function XA(r,i,o){var u=On();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},$c(r)?n_(i,o):(o=Ed(r,i,o,u),o!==null&&(Dn(o,r,u),r_(o,i,u)))}function t_(r,i,o){var u=On();Ll(r,i,o,u)}function Ll(r,i,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if($c(r))n_(i,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,A=p(E,o);if(h.hasEagerState=!0,h.eagerState=A,Rn(A,E))return Ic(r,i,h,0),ut===null&&Cc(),!1}catch{}finally{}if(o=Ed(r,i,h,u),o!==null)return Dn(o,r,u),r_(o,i,u),!0}return!1}function tm(r,i,o,u){if(u={lane:2,revertLane:Mm(),action:u,hasEagerState:!1,eagerState:null,next:null},$c(r)){if(i)throw Error(a(479))}else i=Ed(r,o,u,2),i!==null&&Dn(i,r,2)}function $c(r){var i=r.alternate;return r===De||i!==null&&i===De}function n_(r,i){eo=jc=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function r_(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,al(r,o)}}var Gc={readContext:tn,use:zc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},i_={readContext:tn,use:zc,useCallback:function(r,i){return yn().memoizedState=[r,i===void 0?null:i],r},useContext:tn,useEffect:zv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Fc(4194308,4,$v.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Fc(4194308,4,r,i)},useInsertionEffect:function(r,i){Fc(4,2,r,i)},useMemo:function(r,i){var o=yn();i=i===void 0?null:i;var u=r();if(ns){Jt(!0);try{r()}finally{Jt(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=yn();if(o!==void 0){var h=o(i);if(ns){Jt(!0);try{o(i)}finally{Jt(!1)}}}else h=i;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=XA.bind(null,De,r),[u.memoizedState,r]},useRef:function(r){var i=yn();return r={current:r},i.memoizedState=r},useState:function(r){r=Qd(r);var i=r.queue,o=t_.bind(null,De,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Wd,useDeferredValue:function(r,i){var o=yn();return Zd(o,r,i)},useTransition:function(){var r=Qd(!1);return r=Xv.bind(null,De,r.queue,!0,!1),yn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=De,h=yn();if(Qe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),ut===null)throw Error(a(349));(Fe&124)!==0||Av(u,i,o)}h.memoizedState=o;var p={value:o,getSnapshot:i};return h.queue=p,zv(Cv.bind(null,u,p,r),[r]),u.flags|=2048,no(9,qc(),Rv.bind(null,u,p,o,i),null),o},useId:function(){var r=yn(),i=ut.identifierPrefix;if(Qe){var o=Yr,u=Kr;o=(u&~(1<<32-en(u)-1)).toString(32)+o,i=""+i+"R"+o,o=Bc++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=FA++,i=""+i+"r"+o.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:em,useFormState:Pv,useActionState:Pv,useOptimistic:function(r){var i=yn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=tm.bind(null,De,!0,o),o.dispatch=i,[r,i]},useMemoCache:Gd,useCacheRefresh:function(){return yn().memoizedState=QA.bind(null,De)}},a_={readContext:tn,use:zc,useCallback:Kv,useContext:tn,useEffect:Hv,useImperativeHandle:Gv,useInsertionEffect:qv,useLayoutEffect:Fv,useMemo:Yv,useReducer:Hc,useRef:Bv,useState:function(){return Hc(Wr)},useDebugValue:Wd,useDeferredValue:function(r,i){var o=Ct();return Qv(o,at.memoizedState,r,i)},useTransition:function(){var r=Hc(Wr)[0],i=Ct().memoizedState;return[typeof r=="boolean"?r:Vl(r),i]},useSyncExternalStore:Sv,useId:Jv,useHostTransitionStatus:em,useFormState:Lv,useActionState:Lv,useOptimistic:function(r,i){var o=Ct();return Nv(o,at,r,i)},useMemoCache:Gd,useCacheRefresh:e_},WA={readContext:tn,use:zc,useCallback:Kv,useContext:tn,useEffect:Hv,useImperativeHandle:Gv,useInsertionEffect:qv,useLayoutEffect:Fv,useMemo:Yv,useReducer:Yd,useRef:Bv,useState:function(){return Yd(Wr)},useDebugValue:Wd,useDeferredValue:function(r,i){var o=Ct();return at===null?Zd(o,r,i):Qv(o,at.memoizedState,r,i)},useTransition:function(){var r=Yd(Wr)[0],i=Ct().memoizedState;return[typeof r=="boolean"?r:Vl(r),i]},useSyncExternalStore:Sv,useId:Jv,useHostTransitionStatus:em,useFormState:jv,useActionState:jv,useOptimistic:function(r,i){var o=Ct();return at!==null?Nv(o,at,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:e_},ro=null,Ul=0;function Kc(r){var i=Ul;return Ul+=1,ro===null&&(ro=[]),gv(ro,r,i)}function jl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Yc(r,i){throw i.$$typeof===b?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function s_(r){var i=r._init;return i(r._payload)}function o_(r){function i(H,U){if(r){var $=H.deletions;$===null?(H.deletions=[U],H.flags|=16):$.push(U)}}function o(H,U){if(!r)return null;for(;U!==null;)i(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function h(H,U){return H=Gr(H,U),H.index=0,H.sibling=null,H}function p(H,U,$){return H.index=$,r?($=H.alternate,$!==null?($=$.index,$<U?(H.flags|=67108866,U):$):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function E(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function A(H,U,$,te){return U===null||U.tag!==6?(U=bd($,H.mode,te),U.return=H,U):(U=h(U,$),U.return=H,U)}function M(H,U,$,te){var me=$.type;return me===I?J(H,U,$.props.children,te,$.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&s_(me)===U.type)?(U=h(U,$.props),jl(U,$),U.return=H,U):(U=Nc($.type,$.key,$.props,null,H.mode,te),jl(U,$),U.return=H,U)}function G(H,U,$,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=wd($,H.mode,te),U.return=H,U):(U=h(U,$.children||[]),U.return=H,U)}function J(H,U,$,te,me){return U===null||U.tag!==7?(U=Ya($,H.mode,te,me),U.return=H,U):(U=h(U,$),U.return=H,U)}function re(H,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bd(""+U,H.mode,$),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return $=Nc(U.type,U.key,U.props,null,H.mode,$),jl($,U),$.return=H,$;case N:return U=wd(U,H.mode,$),U.return=H,U;case C:var te=U._init;return U=te(U._payload),re(H,U,$)}if(Ye(U)||j(U))return U=Ya(U,H.mode,$,null),U.return=H,U;if(typeof U.then=="function")return re(H,Kc(U),$);if(U.$$typeof===z)return re(H,kc(H,U),$);Yc(H,U)}return null}function Q(H,U,$,te){var me=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:A(H,U,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===me?M(H,U,$,te):null;case N:return $.key===me?G(H,U,$,te):null;case C:return me=$._init,$=me($._payload),Q(H,U,$,te)}if(Ye($)||j($))return me!==null?null:J(H,U,$,te,null);if(typeof $.then=="function")return Q(H,U,Kc($),te);if($.$$typeof===z)return Q(H,U,kc(H,$),te);Yc(H,$)}return null}function X(H,U,$,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get($)||null,A(U,H,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return H=H.get(te.key===null?$:te.key)||null,M(U,H,te,me);case N:return H=H.get(te.key===null?$:te.key)||null,G(U,H,te,me);case C:var ke=te._init;return te=ke(te._payload),X(H,U,$,te,me)}if(Ye(te)||j(te))return H=H.get($)||null,J(U,H,te,me,null);if(typeof te.then=="function")return X(H,U,$,Kc(te),me);if(te.$$typeof===z)return X(H,U,$,kc(U,te),me);Yc(U,te)}return null}function Ce(H,U,$,te){for(var me=null,ke=null,ye=U,we=U=0,Ht=null;ye!==null&&we<$.length;we++){ye.index>we?(Ht=ye,ye=null):Ht=ye.sibling;var Ge=Q(H,ye,$[we],te);if(Ge===null){ye===null&&(ye=Ht);break}r&&ye&&Ge.alternate===null&&i(H,ye),U=p(Ge,U,we),ke===null?me=Ge:ke.sibling=Ge,ke=Ge,ye=Ht}if(we===$.length)return o(H,ye),Qe&&Xa(H,we),me;if(ye===null){for(;we<$.length;we++)ye=re(H,$[we],te),ye!==null&&(U=p(ye,U,we),ke===null?me=ye:ke.sibling=ye,ke=ye);return Qe&&Xa(H,we),me}for(ye=u(ye);we<$.length;we++)Ht=X(ye,H,we,$[we],te),Ht!==null&&(r&&Ht.alternate!==null&&ye.delete(Ht.key===null?we:Ht.key),U=p(Ht,U,we),ke===null?me=Ht:ke.sibling=Ht,ke=Ht);return r&&ye.forEach(function(ta){return i(H,ta)}),Qe&&Xa(H,we),me}function Te(H,U,$,te){if($==null)throw Error(a(151));for(var me=null,ke=null,ye=U,we=U=0,Ht=null,Ge=$.next();ye!==null&&!Ge.done;we++,Ge=$.next()){ye.index>we?(Ht=ye,ye=null):Ht=ye.sibling;var ta=Q(H,ye,Ge.value,te);if(ta===null){ye===null&&(ye=Ht);break}r&&ye&&ta.alternate===null&&i(H,ye),U=p(ta,U,we),ke===null?me=ta:ke.sibling=ta,ke=ta,ye=Ht}if(Ge.done)return o(H,ye),Qe&&Xa(H,we),me;if(ye===null){for(;!Ge.done;we++,Ge=$.next())Ge=re(H,Ge.value,te),Ge!==null&&(U=p(Ge,U,we),ke===null?me=Ge:ke.sibling=Ge,ke=Ge);return Qe&&Xa(H,we),me}for(ye=u(ye);!Ge.done;we++,Ge=$.next())Ge=X(ye,H,we,Ge.value,te),Ge!==null&&(r&&Ge.alternate!==null&&ye.delete(Ge.key===null?we:Ge.key),U=p(Ge,U,we),ke===null?me=Ge:ke.sibling=Ge,ke=Ge);return r&&ye.forEach(function(ZR){return i(H,ZR)}),Qe&&Xa(H,we),me}function ot(H,U,$,te){if(typeof $=="object"&&$!==null&&$.type===I&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:e:{for(var me=$.key;U!==null;){if(U.key===me){if(me=$.type,me===I){if(U.tag===7){o(H,U.sibling),te=h(U,$.props.children),te.return=H,H=te;break e}}else if(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&s_(me)===U.type){o(H,U.sibling),te=h(U,$.props),jl(te,$),te.return=H,H=te;break e}o(H,U);break}else i(H,U);U=U.sibling}$.type===I?(te=Ya($.props.children,H.mode,te,$.key),te.return=H,H=te):(te=Nc($.type,$.key,$.props,null,H.mode,te),jl(te,$),te.return=H,H=te)}return E(H);case N:e:{for(me=$.key;U!==null;){if(U.key===me)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(H,U.sibling),te=h(U,$.children||[]),te.return=H,H=te;break e}else{o(H,U);break}else i(H,U);U=U.sibling}te=wd($,H.mode,te),te.return=H,H=te}return E(H);case C:return me=$._init,$=me($._payload),ot(H,U,$,te)}if(Ye($))return Ce(H,U,$,te);if(j($)){if(me=j($),typeof me!="function")throw Error(a(150));return $=me.call($),Te(H,U,$,te)}if(typeof $.then=="function")return ot(H,U,Kc($),te);if($.$$typeof===z)return ot(H,U,kc(H,$),te);Yc(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(H,U.sibling),te=h(U,$),te.return=H,H=te):(o(H,U),te=bd($,H.mode,te),te.return=H,H=te),E(H)):o(H,U)}return function(H,U,$,te){try{Ul=0;var me=ot(H,U,$,te);return ro=null,me}catch(ye){if(ye===xl||ye===Pc)throw ye;var ke=Cn(29,ye,null,H.mode);return ke.lanes=te,ke.return=H,ke}finally{}}}var io=o_(!0),l_=o_(!1),Fn=ne(null),Er=null;function Bi(r){var i=r.alternate;se(kt,kt.current&1),se(Fn,r),Er===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(Er=r)}function u_(r){if(r.tag===22){if(se(kt,kt.current),se(Fn,r),Er===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Er=r)}}else zi()}function zi(){se(kt,kt.current),se(Fn,Fn.current)}function Zr(r){ue(Fn),Er===r&&(Er=null),ue(kt)}var kt=ne(0);function Qc(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$m(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function nm(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var rm={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=On(),h=Li(u);h.payload=i,o!=null&&(h.callback=o),i=Ui(r,h,u),i!==null&&(Dn(i,r,u),Ol(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=On(),h=Li(u);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=Ui(r,h,u),i!==null&&(Dn(i,r,u),Ol(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=On(),u=Li(o);u.tag=2,i!=null&&(u.callback=i),i=Ui(r,u,o),i!==null&&(Dn(i,r,o),Ol(i,r,o))}};function c_(r,i,o,u,h,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):i.prototype&&i.prototype.isPureReactComponent?!Tl(o,u)||!Tl(h,p):!0}function f_(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&rm.enqueueReplaceState(i,i.state,null)}function rs(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Xc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function h_(r){Xc(r)}function d_(r){console.error(r)}function m_(r){Xc(r)}function Wc(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function p_(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function im(r,i,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){Wc(r,i)},o}function g_(r){return r=Li(r),r.tag=3,r}function y_(r,i,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){p_(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){p_(i,o,u),typeof h!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function ZA(r,i,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Rl(i,o,h,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return Er===null?Im():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Md?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Nm(r,u,h)),!1;case 22:return o.flags|=65536,u===Md?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Nm(r,u,h)),!1}throw Error(a(435,o.tag))}return Nm(r,u,h),Im(),!1}if(Qe)return i=Fn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==Rd&&(r=Error(a(422),{cause:u}),Al(Bn(r,o)))):(u!==Rd&&(i=Error(a(423),{cause:u}),Al(Bn(i,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Bn(u,o),h=im(r.stateNode,u,h),Pd(r,h),_t!==4&&(_t=2)),!1;var p=Error(a(520),{cause:u});if(p=Bn(p,o),Gl===null?Gl=[p]:Gl.push(p),_t!==4&&(_t=2),i===null)return!0;u=Bn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=im(o.stateNode,u,r),Pd(o,r),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ki===null||!Ki.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=g_(h),y_(h,r,o,u),Pd(o,h),!1}o=o.return}while(o!==null);return!1}var v_=Error(a(461)),Bt=!1;function Gt(r,i,o,u){i.child=r===null?l_(i,null,o,u):io(i,r.child,o,u)}function __(r,i,o,u,h){o=o.render;var p=i.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return es(i),u=zd(r,i,o,E,p,h),A=Hd(),r!==null&&!Bt?(qd(r,i,h),Jr(r,i,h)):(Qe&&A&&Sd(i),i.flags|=1,Gt(r,i,u,h),i.child)}function E_(r,i,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!Td(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,T_(r,i,p,u,h)):(r=Nc(o.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!hm(r,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Tl,o(E,u)&&r.ref===i.ref)return Jr(r,i,h)}return i.flags|=1,r=Gr(p,u),r.ref=i.ref,r.return=i,i.child=r}function T_(r,i,o,u,h){if(r!==null){var p=r.memoizedProps;if(Tl(p,u)&&r.ref===i.ref)if(Bt=!1,i.pendingProps=u=p,hm(r,h))(r.flags&131072)!==0&&(Bt=!0);else return i.lanes=r.lanes,Jr(r,i,h)}return am(r,i,o,u,h)}function b_(r,i,o){var u=i.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(h=i.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return w_(r,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vc(i,p!==null?p.cachePool:null),p!==null?Tv(i,p):Ud(),u_(i);else return i.lanes=i.childLanes=536870912,w_(r,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(Vc(i,p.cachePool),Tv(i,p),zi(),i.memoizedState=null):(r!==null&&Vc(i,null),Ud(),zi());return Gt(r,i,h,o),i.child}function w_(r,i,o,u){var h=Dd();return h=h===null?null:{parent:Mt._currentValue,pool:h},i.memoizedState={baseLanes:o,cachePool:h},r!==null&&Vc(i,null),Ud(),u_(i),r!==null&&Rl(r,i,u,!0),null}function Zc(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function am(r,i,o,u,h){return es(i),o=zd(r,i,o,u,void 0,h),u=Hd(),r!==null&&!Bt?(qd(r,i,h),Jr(r,i,h)):(Qe&&u&&Sd(i),i.flags|=1,Gt(r,i,o,h),i.child)}function S_(r,i,o,u,h,p){return es(i),i.updateQueue=null,o=wv(i,u,o,h),bv(r),u=Hd(),r!==null&&!Bt?(qd(r,i,p),Jr(r,i,p)):(Qe&&u&&Sd(i),i.flags|=1,Gt(r,i,o,p),i.child)}function A_(r,i,o,u,h){if(es(i),i.stateNode===null){var p=Ys,E=o.contextType;typeof E=="object"&&E!==null&&(p=tn(E)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=rm,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},kd(i),E=o.contextType,p.context=typeof E=="object"&&E!==null?tn(E):Ys,p.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(nm(i,o,E,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&rm.enqueueReplaceState(p,p.state,null),Ml(i,u,p,h),Dl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){p=i.stateNode;var A=i.memoizedProps,M=rs(o,A);p.props=M;var G=p.context,J=o.contextType;E=Ys,typeof J=="object"&&J!==null&&(E=tn(J));var re=o.getDerivedStateFromProps;J=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==E)&&f_(i,p,u,E),Pi=!1;var Q=i.memoizedState;p.state=Q,Ml(i,u,p,h),Dl(),G=i.memoizedState,A||Q!==G||Pi?(typeof re=="function"&&(nm(i,o,re,u),G=i.memoizedState),(M=Pi||c_(i,o,M,u,Q,G,E))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),p.props=u,p.state=G,p.context=E,u=M):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Vd(r,i),E=i.memoizedProps,J=rs(o,E),p.props=J,re=i.pendingProps,Q=p.context,G=o.contextType,M=Ys,typeof G=="object"&&G!==null&&(M=tn(G)),A=o.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==re||Q!==M)&&f_(i,p,u,M),Pi=!1,Q=i.memoizedState,p.state=Q,Ml(i,u,p,h),Dl();var X=i.memoizedState;E!==re||Q!==X||Pi||r!==null&&r.dependencies!==null&&Mc(r.dependencies)?(typeof A=="function"&&(nm(i,o,A,u),X=i.memoizedState),(J=Pi||c_(i,o,J,u,Q,X,M)||r!==null&&r.dependencies!==null&&Mc(r.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,M)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=X),p.props=u,p.state=X,p.context=M,u=J):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),u=!1)}return p=u,Zc(r,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&u?(i.child=io(i,r.child,null,h),i.child=io(i,null,o,h)):Gt(r,i,o,h),i.memoizedState=p.state,r=i.child):r=Jr(r,i,h),r}function R_(r,i,o,u){return Sl(),i.flags|=256,Gt(r,i,o,u),i.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function om(r){return{baseLanes:r,cachePool:dv()}}function lm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=$n),r}function C_(r,i,o){var u=i.pendingProps,h=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(kt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(Qe){if(h?Bi(i):zi(),Qe){var A=vt,M;if(M=A){e:{for(M=A,A=_r;M.nodeType!==8;){if(!A){A=null;break e}if(M=Jn(M.nextSibling),M===null){A=null;break e}}A=M}A!==null?(i.memoizedState={dehydrated:A,treeContext:Qa!==null?{id:Kr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},M=Cn(18,null,null,0),M.stateNode=A,M.return=i,i.child=M,hn=i,vt=null,M=!0):M=!1}M||Za(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return $m(A)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return A=u.children,u=u.fallback,h?(zi(),h=i.mode,A=Jc({mode:"hidden",children:A},h),u=Ya(u,h,o,null),A.return=i,u.return=i,A.sibling=u,i.child=A,h=i.child,h.memoizedState=om(o),h.childLanes=lm(r,E,o),i.memoizedState=sm,u):(Bi(i),um(i,A))}if(M=r.memoizedState,M!==null&&(A=M.dehydrated,A!==null)){if(p)i.flags&256?(Bi(i),i.flags&=-257,i=cm(r,i,o)):i.memoizedState!==null?(zi(),i.child=r.child,i.flags|=128,i=null):(zi(),h=u.fallback,A=i.mode,u=Jc({mode:"visible",children:u.children},A),h=Ya(h,A,o,null),h.flags|=2,u.return=i,h.return=i,u.sibling=h,i.child=u,io(i,r.child,null,o),u=i.child,u.memoizedState=om(o),u.childLanes=lm(r,E,o),i.memoizedState=sm,i=h);else if(Bi(i),$m(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(a(419)),u.stack="",u.digest=E,Al({value:u,source:null,stack:null}),i=cm(r,i,o)}else if(Bt||Rl(r,i,o,!1),E=(o&r.childLanes)!==0,Bt||E){if(E=ut,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ii(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Ks(r,u),Dn(E,r,u),v_;A.data==="$?"||Im(),i=cm(r,i,o)}else A.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=M.treeContext,vt=Jn(A.nextSibling),hn=i,Qe=!0,Wa=null,_r=!1,r!==null&&(Hn[qn++]=Kr,Hn[qn++]=Yr,Hn[qn++]=Qa,Kr=r.id,Yr=r.overflow,Qa=i),i=um(i,u.children),i.flags|=4096);return i}return h?(zi(),h=u.fallback,A=i.mode,M=r.child,G=M.sibling,u=Gr(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,G!==null?h=Gr(G,h):(h=Ya(h,A,o,null),h.flags|=2),h.return=i,u.return=i,u.sibling=h,i.child=u,u=h,h=i.child,A=r.child.memoizedState,A===null?A=om(o):(M=A.cachePool,M!==null?(G=Mt._currentValue,M=M.parent!==G?{parent:G,pool:G}:M):M=dv(),A={baseLanes:A.baseLanes|o,cachePool:M}),h.memoizedState=A,h.childLanes=lm(r,E,o),i.memoizedState=sm,u):(Bi(i),o=r.child,r=o.sibling,o=Gr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=o,i.memoizedState=null,o)}function um(r,i){return i=Jc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Jc(r,i){return r=Cn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cm(r,i,o){return io(i,r.child,null,o),r=um(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function I_(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Id(r.return,i,o)}function fm(r,i,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function x_(r,i,o){var u=i.pendingProps,h=u.revealOrder,p=u.tail;if(Gt(r,i,u.children,o),u=kt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&I_(r,o,i);else if(r.tag===19)I_(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(se(kt,u),h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&Qc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),fm(i,!1,h,o,p);break;case"backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&Qc(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}fm(i,!0,o,null,p);break;case"together":fm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Gi|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Rl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,o=Gr(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Gr(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function hm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Mc(r)))}function JA(r,i,o){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),Vi(i,Mt,r.memoizedState.cache),Sl();break;case 27:case 5:ln(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Bi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?C_(r,i,o):(Bi(i),r=Jr(r,i,o),r!==null?r.sibling:null);Bi(i);break;case 19:var h=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Rl(r,i,o,!1),u=(o&i.childLanes)!==0),h){if(u)return x_(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(kt,kt.current),u)break;return null;case 22:case 23:return i.lanes=0,b_(r,i,o);case 24:Vi(i,Mt,r.memoizedState.cache)}return Jr(r,i,o)}function N_(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Bt=!0;else{if(!hm(r,o)&&(i.flags&128)===0)return Bt=!1,JA(r,i,o);Bt=(r.flags&131072)!==0}else Bt=!1,Qe&&(i.flags&1048576)!==0&&sv(i,Dc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,h=u._init;if(u=h(u._payload),i.type=u,typeof u=="function")Td(u)?(r=rs(u,r),i.tag=1,i=A_(null,i,u,r,o)):(i.tag=0,i=am(null,i,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===K){i.tag=11,i=__(null,i,u,r,o);break e}else if(h===O){i.tag=14,i=E_(null,i,u,r,o);break e}}throw i=tt(u)||u,Error(a(306,i,""))}}return i;case 0:return am(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,h=rs(u,i.pendingProps),A_(r,i,u,h,o);case 3:e:{if(Xe(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var p=i.memoizedState;h=p.element,Vd(r,i),Ml(i,u,null,o);var E=i.memoizedState;if(u=E.cache,Vi(i,Mt,u),u!==p.cache&&xd(i,[Mt],o,!0),Dl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=R_(r,i,u,o);break e}else if(u!==h){h=Bn(Error(a(424)),i),Al(h),i=R_(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vt=Jn(r.firstChild),hn=i,Qe=!0,Wa=null,_r=!0,o=l_(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Sl(),u===h){i=Jr(r,i,o);break e}Gt(r,i,u,o)}i=i.child}return i;case 26:return Zc(r,i),r===null?(o=k0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Qe||(o=i.type,r=i.pendingProps,u=mf(be.current).createElement(o),u[Nt]=i,u[St]=r,Yt(u,o,r),Et(u),i.stateNode=u):i.memoizedState=k0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return ln(i),r===null&&Qe&&(u=i.stateNode=O0(i.type,i.pendingProps,be.current),hn=i,_r=!0,h=vt,Xi(i.type)?(Gm=h,vt=Jn(u.firstChild)):vt=h),Gt(r,i,i.pendingProps.children,o),Zc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Qe&&((h=u=vt)&&(u=CR(u,i.type,i.pendingProps,_r),u!==null?(i.stateNode=u,hn=i,vt=Jn(u.firstChild),_r=!1,h=!0):h=!1),h||Za(i)),ln(i),h=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,Hm(h,p)?u=null:E!==null&&Hm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=zd(r,i,$A,null,null,o),tu._currentValue=h),Zc(r,i),Gt(r,i,u,o),i.child;case 6:return r===null&&Qe&&((r=o=vt)&&(o=IR(o,i.pendingProps,_r),o!==null?(i.stateNode=o,hn=i,vt=null,r=!0):r=!1),r||Za(i)),null;case 13:return C_(r,i,o);case 4:return Xe(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=io(i,null,u,o):Gt(r,i,u,o),i.child;case 11:return __(r,i,i.type,i.pendingProps,o);case 7:return Gt(r,i,i.pendingProps,o),i.child;case 8:return Gt(r,i,i.pendingProps.children,o),i.child;case 12:return Gt(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Vi(i,i.type,u.value),Gt(r,i,u.children,o),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,es(i),h=tn(h),u=u(h),i.flags|=1,Gt(r,i,u,o),i.child;case 14:return E_(r,i,i.type,i.pendingProps,o);case 15:return T_(r,i,i.type,i.pendingProps,o);case 19:return x_(r,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},r===null?(o=Jc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Gr(r.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return b_(r,i,o);case 24:return es(i),u=tn(Mt),r===null?(h=Dd(),h===null&&(h=ut,p=Nd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),i.memoizedState={parent:u,cache:h},kd(i),Vi(i,Mt,h)):((r.lanes&o)!==0&&(Vd(r,i),Ml(i,null,null,o),Dl()),h=r.memoizedState,p=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vi(i,Mt,u)):(u=p.cache,Vi(i,Mt,u),u!==h.cache&&xd(i,[Mt],o,!0))),Gt(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ei(r){r.flags|=4}function O_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!j0(i)){if(i=Fn.current,i!==null&&((Fe&4194048)===Fe?Er!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||i!==Er))throw Nl=Md,mv;r.flags|=8192}}function ef(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?rl():536870912,r.lanes|=i,lo|=i)}function Bl(r,i){if(!Qe)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function pt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function eR(r,i,o){var u=i.pendingProps;switch(Ad(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Xr(Mt),Zt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wl(i)?ei(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uv())),pt(i),null;case 26:return o=i.memoizedState,r===null?(ei(i),o!==null?(pt(i),O_(i,o)):(pt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(ei(i),pt(i),O_(i,o)):(pt(i),i.flags&=-16777217):(r.memoizedProps!==u&&ei(i),pt(i),i.flags&=-16777217),null;case 27:mn(i),o=be.current;var h=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ei(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return pt(i),null}r=he.current,wl(i)?ov(i):(r=O0(h,u,o),i.stateNode=r,ei(i))}return pt(i),null;case 5:if(mn(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ei(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return pt(i),null}if(r=he.current,wl(i))ov(i);else{switch(h=mf(be.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Nt]=i,r[St]=u;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=r;e:switch(Yt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ei(i)}}return pt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&ei(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=be.current,wl(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,h=hn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Nt]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||S0(r.nodeValue,o)),r||Za(i)}else r=mf(r).createTextNode(u),r[Nt]=i,i.stateNode=r}return pt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=wl(i),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=i}else Sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),h=!1}else h=uv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),ef(i,i.updateQueue),pt(i),null;case 4:return Zt(),r===null&&Lm(i.stateNode.containerInfo),pt(i),null;case 10:return Xr(i.type),pt(i),null;case 19:if(ue(kt),h=i.memoizedState,h===null)return pt(i),null;if(u=(i.flags&128)!==0,p=h.rendering,p===null)if(u)Bl(h,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=Qc(r),p!==null){for(i.flags|=128,Bl(h,!1),r=p.updateQueue,i.updateQueue=r,ef(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)av(o,r),o=o.sibling;return se(kt,kt.current&1|2),i.child}r=r.sibling}h.tail!==null&&Lt()>rf&&(i.flags|=128,u=!0,Bl(h,!1),i.lanes=4194304)}else{if(!u)if(r=Qc(p),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,ef(i,r),Bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Qe)return pt(i),null}else 2*Lt()-h.renderingStartTime>rf&&o!==536870912&&(i.flags|=128,u=!0,Bl(h,!1),i.lanes=4194304);h.isBackwards?(p.sibling=i.child,i.child=p):(r=h.last,r!==null?r.sibling=p:i.child=p,h.last=p)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Lt(),i.sibling=null,r=kt.current,se(kt,u?r&1|2:r&1),i):(pt(i),null);case 22:case 23:return Zr(i),jd(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),o=i.updateQueue,o!==null&&ef(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&ue(ts),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Xr(Mt),pt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function tR(r,i){switch(Ad(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Xr(Mt),Zt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(Zr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Sl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ue(kt),null;case 4:return Zt(),null;case 10:return Xr(i.type),null;case 22:case 23:return Zr(i),jd(),r!==null&&ue(ts),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Xr(Mt),null;case 25:return null;default:return null}}function D_(r,i){switch(Ad(i),i.tag){case 3:Xr(Mt),Zt();break;case 26:case 27:case 5:mn(i);break;case 4:Zt();break;case 13:Zr(i);break;case 19:ue(kt);break;case 10:Xr(i.type);break;case 22:case 23:Zr(i),jd(),r!==null&&ue(ts);break;case 24:Xr(Mt)}}function zl(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==h)}}catch(A){lt(i,i.return,A)}}function Hi(r,i,o){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var M=o,G=A;try{G()}catch(J){lt(h,M,J)}}}u=u.next}while(u!==p)}}catch(J){lt(i,i.return,J)}}function M_(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Ev(i,o)}catch(u){lt(r,r.return,u)}}}function k_(r,i,o){o.props=rs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){lt(r,i,u)}}function Hl(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){lt(r,i,h)}}function Tr(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){lt(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){lt(r,i,h)}else o.current=null}function V_(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){lt(r,r.return,h)}}function dm(r,i,o){try{var u=r.stateNode;bR(u,r.type,o,i),u[St]=i}catch(h){lt(r,r.return,h)}}function P_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Xi(r.type)||r.tag===4}function mm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||P_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Xi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pm(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=df));else if(u!==4&&(u===27&&Xi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(pm(r,i,o),r=r.sibling;r!==null;)pm(r,i,o),r=r.sibling}function tf(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&Xi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(tf(r,i,o),r=r.sibling;r!==null;)tf(r,i,o),r=r.sibling}function L_(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,u,o),i[Nt]=r,i[St]=o}catch(p){lt(r,r.return,p)}}var ti=!1,bt=!1,gm=!1,U_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function nR(r,i){if(r=r.containerInfo,Bm=Ef,r=Qy(r),md(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,A=-1,M=-1,G=0,J=0,re=r,Q=null;t:for(;;){for(var X;re!==o||h!==0&&re.nodeType!==3||(A=E+h),re!==p||u!==0&&re.nodeType!==3||(M=E+u),re.nodeType===3&&(E+=re.nodeValue.length),(X=re.firstChild)!==null;)Q=re,re=X;for(;;){if(re===r)break t;if(Q===o&&++G===h&&(A=E),Q===p&&++J===u&&(M=E),(X=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=X}o=A===-1||M===-1?null:{start:A,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(zm={focusedElem:r,selectionRange:o},Ef=!1,zt=i;zt!==null;)if(i=zt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,zt=r;else for(;zt!==null;){switch(i=zt,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=i,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Ce=rs(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ce,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){lt(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Fm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Fm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,zt=r;break}zt=i.return}}function j_(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:qi(r,o),u&4&&zl(5,o);break;case 1:if(qi(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(E){lt(o,o.return,E)}else{var h=rs(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){lt(o,o.return,E)}}u&64&&M_(o),u&512&&Hl(o,o.return);break;case 3:if(qi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Ev(r,i)}catch(E){lt(o,o.return,E)}}break;case 27:i===null&&u&4&&L_(o);case 26:case 5:qi(r,o),i===null&&u&4&&V_(o),u&512&&Hl(o,o.return);break;case 12:qi(r,o);break;case 13:qi(r,o),u&4&&H_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=fR.bind(null,o),xR(r,o))));break;case 22:if(u=o.memoizedState!==null||ti,!u){i=i!==null&&i.memoizedState!==null||bt,h=ti;var p=bt;ti=u,(bt=i)&&!p?Fi(r,o,(o.subtreeFlags&8772)!==0):qi(r,o),ti=h,bt=p}break;case 30:break;default:qi(r,o)}}function B_(r){var i=r.alternate;i!==null&&(r.alternate=null,B_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Oi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ht=null,vn=!1;function ni(r,i,o){for(o=o.child;o!==null;)z_(r,i,o),o=o.sibling}function z_(r,i,o){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(_e,o)}catch{}switch(o.tag){case 26:bt||Tr(o,i),ni(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||Tr(o,i);var u=ht,h=vn;Xi(o.type)&&(ht=o.stateNode,vn=!1),ni(r,i,o),Wl(o.stateNode),ht=u,vn=h;break;case 5:bt||Tr(o,i);case 6:if(u=ht,h=vn,ht=null,ni(r,i,o),ht=u,vn=h,ht!==null)if(vn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(p){lt(o,i,p)}else try{ht.removeChild(o.stateNode)}catch(p){lt(o,i,p)}break;case 18:ht!==null&&(vn?(r=ht,x0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),au(r)):x0(ht,o.stateNode));break;case 4:u=ht,h=vn,ht=o.stateNode.containerInfo,vn=!0,ni(r,i,o),ht=u,vn=h;break;case 0:case 11:case 14:case 15:bt||Hi(2,o,i),bt||Hi(4,o,i),ni(r,i,o);break;case 1:bt||(Tr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&k_(o,i,u)),ni(r,i,o);break;case 21:ni(r,i,o);break;case 22:bt=(u=bt)||o.memoizedState!==null,ni(r,i,o),bt=u;break;default:ni(r,i,o)}}function H_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{au(r)}catch(o){lt(i,i.return,o)}}function rR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new U_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new U_),i;default:throw Error(a(435,r.tag))}}function ym(r,i){var o=rR(r);i.forEach(function(u){var h=hR.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function In(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Xi(A.type)){ht=A.stateNode,vn=!1;break e}break;case 5:ht=A.stateNode,vn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,vn=!0;break e}A=A.return}if(ht===null)throw Error(a(160));z_(p,E,h),ht=null,vn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)q_(i,r),i=i.sibling}var Zn=null;function q_(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:In(i,r),xn(r),u&4&&(Hi(3,r,r.return),zl(3,r),Hi(5,r,r.return));break;case 1:In(i,r),xn(r),u&512&&(bt||o===null||Tr(o,o.return)),u&64&&ti&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Zn;if(In(i,r),xn(r),u&512&&(bt||o===null||Tr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Da]||p[Nt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),Yt(p,u,o),p[Nt]=r,Et(p),u=p;break e;case"link":var E=L0("link","href",h).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(p=E[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}p=h.createElement(u),Yt(p,u,o),h.head.appendChild(p);break;case"meta":if(E=L0("meta","content",h).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(p=E[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}p=h.createElement(u),Yt(p,u,o),h.head.appendChild(p);break;default:throw Error(a(468,u))}p[Nt]=r,Et(p),u=p}r.stateNode=u}else U0(h,r.type,r.stateNode);else r.stateNode=P0(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?U0(h,r.type,r.stateNode):P0(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&dm(r,r.memoizedProps,o.memoizedProps)}break;case 27:In(i,r),xn(r),u&512&&(bt||o===null||Tr(o,o.return)),o!==null&&u&4&&dm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(In(i,r),xn(r),u&512&&(bt||o===null||Tr(o,o.return)),r.flags&32){h=r.stateNode;try{Pn(h,"")}catch(X){lt(r,r.return,X)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,dm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(gm=!0);break;case 6:if(In(i,r),xn(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(X){lt(r,r.return,X)}}break;case 3:if(yf=null,h=Zn,Zn=pf(i.containerInfo),In(i,r),Zn=h,xn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{au(i.containerInfo)}catch(X){lt(r,r.return,X)}gm&&(gm=!1,F_(r));break;case 4:u=Zn,Zn=pf(r.stateNode.containerInfo),In(i,r),xn(r),Zn=u;break;case 12:In(i,r),xn(r);break;case 13:In(i,r),xn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wm=Lt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ym(r,u)));break;case 22:h=r.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,G=ti,J=bt;if(ti=G||h,bt=J||M,In(i,r),bt=J,ti=G,xn(r),u&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||M||ti||bt||is(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){M=o=i;try{if(p=M.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=M.stateNode;var re=M.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){lt(M,M.return,X)}}}else if(i.tag===6){if(o===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(X){lt(M,M.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ym(r,o))));break;case 19:In(i,r),xn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ym(r,u)));break;case 30:break;case 21:break;default:In(i,r),xn(r)}}function xn(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(P_(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,p=mm(r);tf(r,p,h);break;case 5:var E=o.stateNode;o.flags&32&&(Pn(E,""),o.flags&=-33);var A=mm(r);tf(r,A,E);break;case 3:case 4:var M=o.stateNode.containerInfo,G=mm(r);pm(r,G,M);break;default:throw Error(a(161))}}catch(J){lt(r,r.return,J)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function F_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;F_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function qi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)j_(r,i.alternate,i),i=i.sibling}function is(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Hi(4,i,i.return),is(i);break;case 1:Tr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&k_(i,i.return,o),is(i);break;case 27:Wl(i.stateNode);case 26:case 5:Tr(i,i.return),is(i);break;case 22:i.memoizedState===null&&is(i);break;case 30:is(i);break;default:is(i)}r=r.sibling}}function Fi(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:Fi(h,p,o),zl(4,p);break;case 1:if(Fi(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){lt(u,u.return,G)}if(u=p,h=u.updateQueue,h!==null){var A=u.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)_v(M[h],A)}catch(G){lt(u,u.return,G)}}o&&E&64&&M_(p),Hl(p,p.return);break;case 27:L_(p);case 26:case 5:Fi(h,p,o),o&&u===null&&E&4&&V_(p),Hl(p,p.return);break;case 12:Fi(h,p,o);break;case 13:Fi(h,p,o),o&&E&4&&H_(h,p);break;case 22:p.memoizedState===null&&Fi(h,p,o),Hl(p,p.return);break;case 30:break;default:Fi(h,p,o)}i=i.sibling}}function vm(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Cl(o))}function _m(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Cl(r))}function br(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$_(r,i,o,u),i=i.sibling}function $_(r,i,o,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:br(r,i,o,u),h&2048&&zl(9,i);break;case 1:br(r,i,o,u);break;case 3:br(r,i,o,u),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Cl(r)));break;case 12:if(h&2048){br(r,i,o,u),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,A=p.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){lt(i,i.return,M)}}else br(r,i,o,u);break;case 13:br(r,i,o,u);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?br(r,i,o,u):ql(r,i):p._visibility&2?br(r,i,o,u):(p._visibility|=2,ao(r,i,o,u,(i.subtreeFlags&10256)!==0)),h&2048&&vm(E,i);break;case 24:br(r,i,o,u),h&2048&&_m(i.alternate,i);break;default:br(r,i,o,u)}}function ao(r,i,o,u,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,A=o,M=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:ao(p,E,A,M,h),zl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ao(p,E,A,M,h):ql(p,E):(J._visibility|=2,ao(p,E,A,M,h)),h&&G&2048&&vm(E.alternate,E);break;case 24:ao(p,E,A,M,h),h&&G&2048&&_m(E.alternate,E);break;default:ao(p,E,A,M,h)}i=i.sibling}}function ql(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,h=u.flags;switch(u.tag){case 22:ql(o,u),h&2048&&vm(u.alternate,u);break;case 24:ql(o,u),h&2048&&_m(u.alternate,u);break;default:ql(o,u)}i=i.sibling}}var Fl=8192;function so(r){if(r.subtreeFlags&Fl)for(r=r.child;r!==null;)G_(r),r=r.sibling}function G_(r){switch(r.tag){case 26:so(r),r.flags&Fl&&r.memoizedState!==null&&HR(Zn,r.memoizedState,r.memoizedProps);break;case 5:so(r);break;case 3:case 4:var i=Zn;Zn=pf(r.stateNode.containerInfo),so(r),Zn=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Fl,Fl=16777216,so(r),Fl=i):so(r));break;default:so(r)}}function K_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function $l(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];zt=u,Q_(u,r)}K_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Y_(r),r=r.sibling}function Y_(r){switch(r.tag){case 0:case 11:case 15:$l(r),r.flags&2048&&Hi(9,r,r.return);break;case 3:$l(r);break;case 12:$l(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,nf(r)):$l(r);break;default:$l(r)}}function nf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];zt=u,Q_(u,r)}K_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Hi(8,i,i.return),nf(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,nf(i));break;default:nf(i)}r=r.sibling}}function Q_(r,i){for(;zt!==null;){var o=zt;switch(o.tag){case 0:case 11:case 15:Hi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,zt=u;else e:for(o=r;zt!==null;){u=zt;var h=u.sibling,p=u.return;if(B_(u),u===o){zt=null;break e}if(h!==null){h.return=p,zt=h;break e}zt=p}}}var iR={getCacheForType:function(r){var i=tn(Mt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},aR=typeof WeakMap=="function"?WeakMap:Map,nt=0,ut=null,Pe=null,Fe=0,rt=0,Nn=null,$i=!1,oo=!1,Em=!1,ri=0,_t=0,Gi=0,as=0,Tm=0,$n=0,lo=0,Gl=null,_n=null,bm=!1,wm=0,rf=1/0,af=null,Ki=null,Kt=0,Yi=null,uo=null,co=0,Sm=0,Am=null,X_=null,Kl=0,Rm=null;function On(){if((nt&2)!==0&&Fe!==0)return Fe&-Fe;if(W.T!==null){var r=Ws;return r!==0?r:Mm()}return xi()}function W_(){$n===0&&($n=(Fe&536870912)===0||Qe?nl():536870912);var r=Fn.current;return r!==null&&(r.flags|=32),$n}function Dn(r,i,o){(r===ut&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(fo(r,0),Qi(r,Fe,$n,!1)),Vr(r,o),((nt&2)===0||r!==ut)&&(r===ut&&((nt&2)===0&&(as|=o),_t===4&&Qi(r,Fe,$n,!1)),wr(r))}function Z_(r,i,o){if((nt&6)!==0)throw Error(a(327));var u=!o&&(i&124)===0&&(i&r.expiredLanes)===0||Oa(r,i),h=u?lR(r,i):xm(r,i,!0),p=u;do{if(h===0){oo&&!u&&Qi(r,i,0,!1);break}else{if(o=r.current.alternate,p&&!sR(o)){h=xm(r,i,!1),p=!1;continue}if(h===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=r;h=Gl;var M=A.current.memoizedState.isDehydrated;if(M&&(fo(A,E).flags|=256),E=xm(A,E,!1),E!==2){if(Em&&!M){A.errorRecoveryDisabledLanes|=p,as|=p,h=4;break e}p=_n,_n=h,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){fo(r,0),Qi(r,i,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Qi(u,i,$n,!$i);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=wm+300-Lt(),10<h)){if(Qi(u,i,$n,!$i),Is(u,0,!0)!==0)break e;u.timeoutHandle=C0(J_.bind(null,u,o,_n,af,bm,i,$n,as,lo,$i,p,2,-0,0),h);break e}J_(u,o,_n,af,bm,i,$n,as,lo,$i,p,0,-0,0)}}break}while(!0);wr(r)}function J_(r,i,o,u,h,p,E,A,M,G,J,re,Q,X){if(r.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:zR},G_(i),re=qR(),re!==null)){r.cancelPendingCommit=re(s0.bind(null,r,i,p,o,u,h,E,A,M,J,1,Q,X)),Qi(r,p,E,!G);return}s0(r,i,p,o,u,h,E,A,M)}function sR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Rn(p(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(r,i,o,u){i&=~Tm,i&=~as,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var h=i;0<h;){var p=31-en(h),E=1<<p;u[p]=-1,h&=~E}o!==0&&lr(r,o,i)}function sf(){return(nt&6)===0?(Yl(0),!1):!0}function Cm(){if(Pe!==null){if(rt===0)var r=Pe.return;else r=Pe,Qr=Ja=null,Fd(r),ro=null,Ul=0,r=Pe;for(;r!==null;)D_(r.alternate,r),r=r.return;Pe=null}}function fo(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,SR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Cm(),ut=r,Pe=o=Gr(r.current,null),Fe=i,rt=0,Nn=null,$i=!1,oo=Oa(r,i),Em=!1,lo=$n=Tm=as=Gi=_t=0,_n=Gl=null,bm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var h=31-en(u),p=1<<h;i|=r[h],u&=~p}return ri=i,Cc(),o}function e0(r,i){De=null,W.H=Gc,i===xl||i===Pc?(i=yv(),rt=3):i===mv?(i=yv(),rt=4):rt=i===v_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Pe===null&&(_t=1,Wc(r,Bn(i,r.current)))}function t0(){var r=W.H;return W.H=Gc,r===null?Gc:r}function n0(){var r=W.A;return W.A=iR,r}function Im(){_t=4,$i||(Fe&4194048)!==Fe&&Fn.current!==null||(oo=!0),(Gi&134217727)===0&&(as&134217727)===0||ut===null||Qi(ut,Fe,$n,!1)}function xm(r,i,o){var u=nt;nt|=2;var h=t0(),p=n0();(ut!==r||Fe!==i)&&(af=null,fo(r,i)),i=!1;var E=_t;e:do try{if(rt!==0&&Pe!==null){var A=Pe,M=Nn;switch(rt){case 8:Cm(),E=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(i=!0);var G=rt;if(rt=0,Nn=null,ho(r,A,M,G),o&&oo){E=0;break e}break;default:G=rt,rt=0,Nn=null,ho(r,A,M,G)}}oR(),E=_t;break}catch(J){e0(r,J)}while(!0);return i&&r.shellSuspendCounter++,Qr=Ja=null,nt=u,W.H=h,W.A=p,Pe===null&&(ut=null,Fe=0,Cc()),E}function oR(){for(;Pe!==null;)r0(Pe)}function lR(r,i){var o=nt;nt|=2;var u=t0(),h=n0();ut!==r||Fe!==i?(af=null,rf=Lt()+500,fo(r,i)):oo=Oa(r,i);e:do try{if(rt!==0&&Pe!==null){i=Pe;var p=Nn;t:switch(rt){case 1:rt=0,Nn=null,ho(r,i,p,1);break;case 2:case 9:if(pv(p)){rt=0,Nn=null,i0(i);break}i=function(){rt!==2&&rt!==9||ut!==r||(rt=7),wr(r)},p.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:pv(p)?(rt=0,Nn=null,i0(i)):(rt=0,Nn=null,ho(r,i,p,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var A=Pe;if(!E||j0(E)){rt=0,Nn=null;var M=A.sibling;if(M!==null)Pe=M;else{var G=A.return;G!==null?(Pe=G,of(G)):Pe=null}break t}}rt=0,Nn=null,ho(r,i,p,5);break;case 6:rt=0,Nn=null,ho(r,i,p,6);break;case 8:Cm(),_t=6;break e;default:throw Error(a(462))}}uR();break}catch(J){e0(r,J)}while(!0);return Qr=Ja=null,W.H=u,W.A=h,nt=o,Pe!==null?0:(ut=null,Fe=0,Cc(),_t)}function uR(){for(;Pe!==null&&!We();)r0(Pe)}function r0(r){var i=N_(r.alternate,r,ri);r.memoizedProps=r.pendingProps,i===null?of(r):Pe=i}function i0(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=S_(o,i,i.pendingProps,i.type,void 0,Fe);break;case 11:i=S_(o,i,i.pendingProps,i.type.render,i.ref,Fe);break;case 5:Fd(i);default:D_(o,i),i=Pe=av(i,ri),i=N_(o,i,ri)}r.memoizedProps=r.pendingProps,i===null?of(r):Pe=i}function ho(r,i,o,u){Qr=Ja=null,Fd(i),ro=null,Ul=0;var h=i.return;try{if(ZA(r,h,i,o,Fe)){_t=1,Wc(r,Bn(o,r.current)),Pe=null;return}}catch(p){if(h!==null)throw Pe=h,p;_t=1,Wc(r,Bn(o,r.current)),Pe=null;return}i.flags&32768?(Qe||u===1?r=!0:oo||(Fe&536870912)!==0?r=!1:($i=r=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),a0(i,r)):of(i)}function of(r){var i=r;do{if((i.flags&32768)!==0){a0(i,$i);return}r=i.return;var o=eR(i.alternate,i,ri);if(o!==null){Pe=o;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=r}while(i!==null);_t===0&&(_t=5)}function a0(r,i){do{var o=tR(r.alternate,r);if(o!==null){o.flags&=32767,Pe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=o}while(r!==null);_t=6,Pe=null}function s0(r,i,o,u,h,p,E,A,M){r.cancelPendingCommit=null;do lf();while(Kt!==0);if((nt&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=_d,il(r,o,p,E,A,M),r===ut&&(Pe=ut=null,Fe=0),uo=i,Yi=r,co=o,Sm=p,Am=h,X_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dR(Mr,function(){return f0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=le.p,le.p=2,E=nt,nt|=4;try{nR(r,i,o)}finally{nt=E,le.p=h,W.T=u}}Kt=1,o0(),l0(),u0()}}function o0(){if(Kt===1){Kt=0;var r=Yi,i=uo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var h=nt;nt|=4;try{q_(i,r);var p=zm,E=Qy(r.containerInfo),A=p.focusedElem,M=p.selectionRange;if(E!==A&&A&&A.ownerDocument&&Yy(A.ownerDocument.documentElement,A)){if(M!==null&&md(A)){var G=M.start,J=M.end;if(J===void 0&&(J=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(J,A.value.length);else{var re=A.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Ce=A.textContent.length,Te=Math.min(M.start,Ce),ot=M.end===void 0?Te:Math.min(M.end,Ce);!X.extend&&Te>ot&&(E=ot,ot=Te,Te=E);var H=Ky(A,Te),U=Ky(A,ot);if(H&&U&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var $=re.createRange();$.setStart(H.node,H.offset),X.removeAllRanges(),Te>ot?(X.addRange($),X.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),X.addRange($))}}}}for(re=[],X=A;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var te=re[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ef=!!Bm,zm=Bm=null}finally{nt=h,le.p=u,W.T=o}}r.current=i,Kt=2}}function l0(){if(Kt===2){Kt=0;var r=Yi,i=uo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var h=nt;nt|=4;try{j_(r,i.alternate,i)}finally{nt=h,le.p=u,W.T=o}}Kt=3}}function u0(){if(Kt===4||Kt===3){Kt=0,Dr();var r=Yi,i=uo,o=co,u=X_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,uo=Yi=null,c0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ki=null),xs(o),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(_e,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,h=le.p,le.p=2,W.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var A=u[E];p(A.value,{componentStack:A.stack})}}finally{W.T=i,le.p=h}}(co&3)!==0&&lf(),wr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Rm?Kl++:(Kl=0,Rm=r):Kl=0,Yl(0)}}function c0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Cl(i)))}function lf(r){return o0(),l0(),u0(),f0()}function f0(){if(Kt!==5)return!1;var r=Yi,i=Sm;Sm=0;var o=xs(co),u=W.T,h=le.p;try{le.p=32>o?32:o,W.T=null,o=Am,Am=null;var p=Yi,E=co;if(Kt=0,uo=Yi=null,co=0,(nt&6)!==0)throw Error(a(331));var A=nt;if(nt|=4,Y_(p.current),$_(p,p.current,E,o),nt=A,Yl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(_e,p)}catch{}return!0}finally{le.p=h,W.T=u,c0(r,i)}}function h0(r,i,o){i=Bn(o,i),i=im(r.stateNode,i,2),r=Ui(r,i,2),r!==null&&(Vr(r,2),wr(r))}function lt(r,i,o){if(r.tag===3)h0(r,r,o);else for(;i!==null;){if(i.tag===3){h0(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ki===null||!Ki.has(u))){r=Bn(o,r),o=g_(2),u=Ui(i,o,2),u!==null&&(y_(o,u,i,r),Vr(u,2),wr(u));break}}i=i.return}}function Nm(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new aR;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(o)||(Em=!0,h.add(o),r=cR.bind(null,r,i,o),i.then(r,r))}function cR(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ut===r&&(Fe&o)===o&&(_t===4||_t===3&&(Fe&62914560)===Fe&&300>Lt()-wm?(nt&2)===0&&fo(r,0):Tm|=o,lo===Fe&&(lo=0)),wr(r)}function d0(r,i){i===0&&(i=rl()),r=Ks(r,i),r!==null&&(Vr(r,i),wr(r))}function fR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),d0(r,o)}function hR(r,i){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),d0(r,o)}function dR(r,i){return Sn(r,i)}var uf=null,mo=null,Om=!1,cf=!1,Dm=!1,ss=0;function wr(r){r!==mo&&r.next===null&&(mo===null?uf=mo=r:mo=mo.next=r),cf=!0,Om||(Om=!0,pR())}function Yl(r,i){if(!Dm&&cf){Dm=!0;do for(var o=!1,u=uf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-en(42|r)+1)-1,p&=h&~(E&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,y0(u,p))}else p=Fe,p=Is(u,u===ut?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Oa(u,p)||(o=!0,y0(u,p));u=u.next}while(o);Dm=!1}}function mR(){m0()}function m0(){cf=Om=!1;var r=0;ss!==0&&(wR()&&(r=ss),ss=0);for(var i=Lt(),o=null,u=uf;u!==null;){var h=u.next,p=p0(u,i);p===0?(u.next=null,o===null?uf=h:o.next=h,h===null&&(mo=o)):(o=u,(r!==0||(p&3)!==0)&&(cf=!0)),u=h}Yl(r)}function p0(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-en(p),A=1<<E,M=h[E];M===-1?((A&o)===0||(A&u)!==0)&&(h[E]=tl(A,i)):M<=i&&(r.expiredLanes|=A),p&=~A}if(i=ut,o=Fe,o=Is(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&gn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Oa(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&gn(u),xs(o)){case 2:case 8:o=Ai;break;case 32:o=Mr;break;case 268435456:o=Ri;break;default:o=Mr}return u=g0.bind(null,r),o=Sn(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&gn(u),r.callbackPriority=2,r.callbackNode=null,2}function g0(r,i){if(Kt!==0&&Kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(lf()&&r.callbackNode!==o)return null;var u=Fe;return u=Is(r,r===ut?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Z_(r,u,i),p0(r,Lt()),r.callbackNode!=null&&r.callbackNode===o?g0.bind(null,r):null)}function y0(r,i){if(lf())return null;Z_(r,i,!0)}function pR(){AR(function(){(nt&6)!==0?Sn(Ca,mR):m0()})}function Mm(){return ss===0&&(ss=nl()),ss}function v0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Vs(""+r)}function _0(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function gR(r,i,o,u,h){if(i==="submit"&&o&&o.stateNode===h){var p=v0((h[St]||null).action),E=u.submitter;E&&(i=(i=E[St]||null)?v0(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var A=new Ps("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ss!==0){var M=E?_0(h,E):new FormData(h);Jd(o,{pending:!0,data:M,method:h.method,action:p},null,M)}}else typeof p=="function"&&(A.preventDefault(),M=E?_0(h,E):new FormData(h),Jd(o,{pending:!0,data:M,method:h.method,action:p},p,M))},currentTarget:h}]})}}for(var km=0;km<vd.length;km++){var Vm=vd[km],yR=Vm.toLowerCase(),vR=Vm[0].toUpperCase()+Vm.slice(1);Wn(yR,"on"+vR)}Wn(Zy,"onAnimationEnd"),Wn(Jy,"onAnimationIteration"),Wn(ev,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(VA,"onTransitionRun"),Wn(PA,"onTransitionStart"),Wn(LA,"onTransitionCancel"),Wn(tv,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_R=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function E0(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var E=u.length-1;0<=E;E--){var A=u[E],M=A.instance,G=A.currentTarget;if(A=A.listener,M!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=G;try{p(h)}catch(J){Xc(J)}h.currentTarget=null,p=M}else for(E=0;E<u.length;E++){if(A=u[E],M=A.instance,G=A.currentTarget,A=A.listener,M!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=G;try{p(h)}catch(J){Xc(J)}h.currentTarget=null,p=M}}}}function Le(r,i){var o=i[sl];o===void 0&&(o=i[sl]=new Set);var u=r+"__bubble";o.has(u)||(T0(i,r,2,!1),o.add(u))}function Pm(r,i,o){var u=0;i&&(u|=4),T0(o,r,u,i)}var ff="_reactListening"+Math.random().toString(36).slice(2);function Lm(r){if(!r[ff]){r[ff]=!0,ol.forEach(function(o){o!=="selectionchange"&&(_R.has(o)||Pm(o,!1,r),Pm(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ff]||(i[ff]=!0,Pm("selectionchange",!1,i))}}function T0(r,i,o,u){switch($0(i)){case 2:var h=GR;break;case 8:h=KR;break;default:h=Wm}o=h.bind(null,i,o,r),h=void 0,!Un||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function Um(r,i,o,u,h){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=Pr(A),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=p=E;continue e}A=A.parentNode}}u=u.return}hc(function(){var G=p,J=Ln(o),re=[];e:{var Q=nv.get(r);if(Q!==void 0){var X=Ps,Ce=r;switch(r){case"keypress":if(mr(o)===0)break e;case"keydown":case"keyup":X=Hs;break;case"focusin":Ce="focus",X=js;break;case"focusout":Ce="blur",X=js;break;case"beforeblur":case"afterblur":X=js;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ec;break;case Zy:case Jy:case ev:X=Bs;break;case tv:X=bc;break;case"scroll":case"scrollend":X=dc;break;case"wheel":X=qs;break;case"copy":case"cut":case"paste":X=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=_l;break;case"toggle":case"beforetoggle":X=Sc}var Te=(i&4)!==0,ot=!Te&&(r==="scroll"||r==="scrollend"),H=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var U=G,$;U!==null;){var te=U;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||H===null||(te=ja(U,H),te!=null&&Te.push(Xl(U,te,$))),ot)break;U=U.return}0<Te.length&&(Q=new X(Q,Ce,null,o,J),re.push({event:Q,listeners:Te}))}}if((i&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&o!==Br&&(Ce=o.relatedTarget||o.fromElement)&&(Pr(Ce)||Ce[Vn]))break e;if((X||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Ce=o.relatedTarget||o.toElement,X=G,Ce=Ce?Pr(Ce):null,Ce!==null&&(ot=l(Ce),Te=Ce.tag,Ce!==ot||Te!==5&&Te!==27&&Te!==6)&&(Ce=null)):(X=null,Ce=G),X!==Ce)){if(Te=jn,te="onMouseLeave",H="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Te=_l,te="onPointerLeave",H="onPointerEnter",U="pointer"),ot=X==null?Q:cr(X),$=Ce==null?Q:cr(Ce),Q=new Te(te,U+"leave",X,o,J),Q.target=ot,Q.relatedTarget=$,te=null,Pr(J)===G&&(Te=new Te(H,U+"enter",Ce,o,J),Te.target=$,Te.relatedTarget=ot,te=Te),ot=te,X&&Ce)t:{for(Te=X,H=Ce,U=0,$=Te;$;$=po($))U++;for($=0,te=H;te;te=po(te))$++;for(;0<U-$;)Te=po(Te),U--;for(;0<$-U;)H=po(H),$--;for(;U--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=po(Te),H=po(H)}Te=null}else Te=null;X!==null&&b0(re,Q,X,Te,!1),Ce!==null&&ot!==null&&b0(re,ot,Ce,Te,!0)}}e:{if(Q=G?cr(G):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var me=zy;else if(Dt(Q))if(Hy)me=DA;else{me=NA;var ke=xA}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&hl(G.elementType)&&(me=zy):me=OA;if(me&&(me=me(r,G))){$r(re,me,o,J);break e}ke&&ke(r,Q,G),r==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Mi(Q,"number",Q.value)}switch(ke=G?cr(G):window,r){case"focusin":(Dt(ke)||ke.contentEditable==="true")&&(Fs=ke,pd=G,bl=null);break;case"focusout":bl=pd=Fs=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Xy(re,o,J);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":Xy(re,o,J)}var ye;if(yr)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else He?Z(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(_&&o.locale!=="ko"&&(He||we!=="onCompositionStart"?we==="onCompositionEnd"&&He&&(ye=ml()):(dr=J,ki="value"in dr?dr.value:dr.textContent,He=!0)),ke=hf(G,we),0<ke.length&&(we=new yl(we,r,null,o,J),re.push({event:we,listeners:ke}),ye?we.data=ye:(ye=ce(o),ye!==null&&(we.data=ye)))),(ye=y?Ot(r,o):qe(r,o))&&(we=hf(G,"onBeforeInput"),0<we.length&&(ke=new yl("onBeforeInput","beforeinput",null,o,J),re.push({event:ke,listeners:we}),ke.data=ye)),gR(re,r,G,o,J)}E0(re,i)})}function Xl(r,i,o){return{instance:r,listener:i,currentTarget:o}}function hf(r,i){for(var o=i+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ja(r,o),h!=null&&u.unshift(Xl(r,h,p)),h=ja(r,i),h!=null&&u.push(Xl(r,h,p))),r.tag===3)return u;r=r.return}return[]}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function b0(r,i,o,u,h){for(var p=i._reactName,E=[];o!==null&&o!==u;){var A=o,M=A.alternate,G=A.stateNode;if(A=A.tag,M!==null&&M===u)break;A!==5&&A!==26&&A!==27||G===null||(M=G,h?(G=ja(o,p),G!=null&&E.unshift(Xl(o,G,M))):h||(G=ja(o,p),G!=null&&E.push(Xl(o,G,M)))),o=o.return}E.length!==0&&r.push({event:i,listeners:E})}var ER=/\r\n?/g,TR=/\u0000|\uFFFD/g;function w0(r){return(typeof r=="string"?r:""+r).replace(ER,`
`).replace(TR,"")}function S0(r,i){return i=w0(i),w0(r)===i}function df(){}function st(r,i,o,u,h,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Pn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Pn(r,""+u);break;case"className":fr(r,"class",u);break;case"tabIndex":fr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(r,o,u);break;case"style":fl(r,u,p);break;case"data":if(i!=="object"){fr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Vs(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&st(r,i,"name",h.name,h,null),st(r,i,"formEncType",h.formEncType,h,null),st(r,i,"formMethod",h.formMethod,h,null),st(r,i,"formTarget",h.formTarget,h,null)):(st(r,i,"encType",h.encType,h,null),st(r,i,"method",h.method,h,null),st(r,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Vs(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=df);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Vs(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Di(r,"popover",u);break;case"xlinkActuate":Ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ld.get(o)||o,Di(r,o,u))}}function jm(r,i,o,u,h,p){switch(o){case"style":fl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Pn(r,u):(typeof u=="number"||typeof u=="bigint")&&Pn(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),p=r[St]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(i,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Di(r,o,u)}}}function Yt(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:st(r,i,p,E,o,null)}}h&&st(r,i,"srcSet",o.srcSet,o,null),u&&st(r,i,"src",o.src,o,null);return;case"input":Le("invalid",r);var A=p=E=h=null,M=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":h=J;break;case"type":E=J;break;case"checked":M=J;break;case"defaultChecked":G=J;break;case"value":p=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:st(r,i,u,J,o,null)}}Pa(r,p,A,M,G,E,h,!1),ks(r);return;case"select":Le("invalid",r),u=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":p=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:st(r,i,h,A,o,null)}i=p,o=E,r.multiple=!!u,i!=null?jr(r,!!u,i,!1):o!=null&&jr(r,!!u,o,!0);return;case"textarea":Le("invalid",r),p=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":h=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:st(r,i,E,A,o,null)}La(r,u,h,p),ks(r);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(r,i,M,u,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<Ql.length;u++)Le(Ql[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:st(r,i,G,u,o,null)}return;default:if(hl(i)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&jm(r,i,J,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&st(r,i,A,u,o,null))}function bR(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,A=null,M=null,G=null,J=null;for(X in o){var re=o[X];if(o.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=re;default:u.hasOwnProperty(X)||st(r,i,X,null,u,re)}}for(var Q in u){var X=u[Q];if(re=o[Q],u.hasOwnProperty(Q)&&(X!=null||re!=null))switch(Q){case"type":p=X;break;case"name":h=X;break;case"checked":G=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==re&&st(r,i,Q,X,u,re)}}An(r,E,A,M,G,J,p,h);return;case"select":X=E=A=Q=null;for(p in o)if(M=o[p],o.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(p)||st(r,i,p,null,u,M)}for(h in u)if(p=u[h],M=o[h],u.hasOwnProperty(h)&&(p!=null||M!=null))switch(h){case"value":Q=p;break;case"defaultValue":A=p;break;case"multiple":E=p;default:p!==M&&st(r,i,h,p,u,M)}i=A,o=E,u=X,Q!=null?jr(r,!!o,Q,!1):!!u!=!!o&&(i!=null?jr(r,!!o,i,!0):jr(r,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:st(r,i,A,null,u,h)}for(E in u)if(h=u[E],p=o[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==p&&st(r,i,E,h,u,p)}it(r,Q,X);return;case"option":for(var Ce in o)if(Q=o[Ce],o.hasOwnProperty(Ce)&&Q!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:st(r,i,Ce,null,u,Q)}for(M in u)if(Q=u[M],X=o[M],u.hasOwnProperty(M)&&Q!==X&&(Q!=null||X!=null))switch(M){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:st(r,i,M,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&st(r,i,Te,null,u,Q);for(G in u)if(Q=u[G],X=o[G],u.hasOwnProperty(G)&&Q!==X&&(Q!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:st(r,i,G,Q,u,X)}return;default:if(hl(i)){for(var ot in o)Q=o[ot],o.hasOwnProperty(ot)&&Q!==void 0&&!u.hasOwnProperty(ot)&&jm(r,i,ot,void 0,u,Q);for(J in u)Q=u[J],X=o[J],!u.hasOwnProperty(J)||Q===X||Q===void 0&&X===void 0||jm(r,i,J,Q,u,X);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&st(r,i,H,null,u,Q);for(re in u)Q=u[re],X=o[re],!u.hasOwnProperty(re)||Q===X||Q==null&&X==null||st(r,i,re,Q,u,X)}var Bm=null,zm=null;function mf(r){return r.nodeType===9?r:r.ownerDocument}function A0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Hm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qm=null;function wR(){var r=window.event;return r&&r.type==="popstate"?r===qm?!1:(qm=r,!0):(qm=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(r){return I0.resolve(null).then(r).catch(RR)}:C0;function RR(r){setTimeout(function(){throw r})}function Xi(r){return r==="head"}function x0(r,i){var o=i,u=0,h=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Wl(E.documentElement),o&2&&Wl(E.body),o&4)for(o=E.head,Wl(o),E=o.firstChild;E;){var A=E.nextSibling,M=E.nodeName;E[Da]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(h===0){r.removeChild(p),au(i);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);au(i)}function Fm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fm(o),Oi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function CR(r,i,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Da])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Jn(r.nextSibling),r===null)break}return null}function IR(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Jn(r.nextSibling),r===null))return null;return r}function $m(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function xR(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Jn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Gm=null;function N0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function O0(r,i,o){switch(i=mf(o),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Wl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Oi(r)}var Gn=new Map,D0=new Set;function pf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ii=le.d;le.d={f:NR,r:OR,D:DR,C:MR,L:kR,m:VR,X:LR,S:PR,M:UR};function NR(){var r=ii.f(),i=sf();return r||i}function OR(r){var i=ur(r);i!==null&&i.tag===5&&i.type==="form"?Zv(i):ii.r(r)}var go=typeof document>"u"?null:document;function M0(r,i,o){var u=go;if(u&&typeof i=="string"&&i){var h=At(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),D0.has(h)||(D0.add(h),r={rel:r,crossOrigin:o,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),Yt(i,"link",r),Et(i),u.head.appendChild(i)))}}function DR(r){ii.D(r),M0("dns-prefetch",r,null)}function MR(r,i){ii.C(r,i),M0("preconnect",r,i)}function kR(r,i,o){ii.L(r,i,o);var u=go;if(u&&r&&i){var h='link[rel="preload"][as="'+At(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+At(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+At(o.imageSizes)+'"]')):h+='[href="'+At(r)+'"]';var p=h;switch(i){case"style":p=yo(r);break;case"script":p=vo(r)}Gn.has(p)||(r=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Gn.set(p,r),u.querySelector(h)!==null||i==="style"&&u.querySelector(Zl(p))||i==="script"&&u.querySelector(Jl(p))||(i=u.createElement("link"),Yt(i,"link",r),Et(i),u.head.appendChild(i)))}}function VR(r,i){ii.m(r,i);var o=go;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+At(u)+'"][href="'+At(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=vo(r)}if(!Gn.has(p)&&(r=v({rel:"modulepreload",href:r},i),Gn.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Jl(p)))return}u=o.createElement("link"),Yt(u,"link",r),Et(u),o.head.appendChild(u)}}}function PR(r,i,o){ii.S(r,i,o);var u=go;if(u&&r){var h=un(u).hoistableStyles,p=yo(r);i=i||"default";var E=h.get(p);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(Zl(p)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Gn.get(p))&&Km(r,o);var M=E=u.createElement("link");Et(M),Yt(M,"link",r),M._p=new Promise(function(G,J){M.onload=G,M.onerror=J}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,gf(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(p,E)}}}function LR(r,i){ii.X(r,i);var o=go;if(o&&r){var u=un(o).hoistableScripts,h=vo(r),p=u.get(h);p||(p=o.querySelector(Jl(h)),p||(r=v({src:r,async:!0},i),(i=Gn.get(h))&&Ym(r,i),p=o.createElement("script"),Et(p),Yt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function UR(r,i){ii.M(r,i);var o=go;if(o&&r){var u=un(o).hoistableScripts,h=vo(r),p=u.get(h);p||(p=o.querySelector(Jl(h)),p||(r=v({src:r,async:!0,type:"module"},i),(i=Gn.get(h))&&Ym(r,i),p=o.createElement("script"),Et(p),Yt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function k0(r,i,o,u){var h=(h=be.current)?pf(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=yo(o.href),o=un(h).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=yo(o.href);var p=un(h).hoistableStyles,E=p.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=h.querySelector(Zl(r)))&&!p._p&&(E.instance=p,E.state.loading=5),Gn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(r,o),p||jR(h,r,o,E.state))),i&&u===null)throw Error(a(528,""));return E}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(o),o=un(h).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function yo(r){return'href="'+At(r)+'"'}function Zl(r){return'link[rel="stylesheet"]['+r+"]"}function V0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function jR(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Yt(i,"link",o),Et(i),r.head.appendChild(i))}function vo(r){return'[src="'+At(r)+'"]'}function Jl(r){return"script[async]"+r}function P0(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+At(o.href)+'"]');if(u)return i.instance=u,Et(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Et(u),Yt(u,"style",h),gf(u,o.precedence,r),i.instance=u;case"stylesheet":h=yo(o.href);var p=r.querySelector(Zl(h));if(p)return i.state.loading|=4,i.instance=p,Et(p),p;u=V0(o),(h=Gn.get(h))&&Km(u,h),p=(r.ownerDocument||r).createElement("link"),Et(p);var E=p;return E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),Yt(p,"link",u),i.state.loading|=4,gf(p,o.precedence,r),i.instance=p;case"script":return p=vo(o.src),(h=r.querySelector(Jl(p)))?(i.instance=h,Et(h),h):(u=o,(h=Gn.get(p))&&(u=v({},o),Ym(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Et(h),Yt(h,"link",u),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,gf(u,o.precedence,r));return i.instance}function gf(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===i)p=A;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Km(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Ym(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var yf=null;function L0(r,i,o){if(yf===null){var u=new Map,h=yf=new Map;h.set(o,u)}else h=yf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[Da]||p[Nt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var A=u.get(E);A?A.push(p):u.set(E,[p])}}return u}function U0(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function BR(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function j0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var eu=null;function zR(){}function HR(r,i,o){if(eu===null)throw Error(a(475));var u=eu;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=yo(o.href),p=r.querySelector(Zl(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=vf.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=p,Et(p);return}p=r.ownerDocument||r,o=V0(o),(h=Gn.get(h))&&Km(o,h),p=p.createElement("link"),Et(p);var E=p;E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),Yt(p,"link",o),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=vf.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function qR(){if(eu===null)throw Error(a(475));var r=eu;return r.stylesheets&&r.count===0&&Qm(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Qm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function vf(){if(this.count--,this.count===0){if(this.stylesheets)Qm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _f=null;function Qm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_f=new Map,i.forEach(FR,r),_f=null,vf.call(r))}function FR(r,i){if(!(i.state.loading&4)){var o=_f.get(r);if(o)var u=o.get(null);else{o=new Map,_f.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=i.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,h),o.set(E,h),this.count++,u=vf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var tu={$$typeof:z,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function $R(r,i,o,u,h,p,E,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function B0(r,i,o,u,h,p,E,A,M,G,J,re){return r=new $R(r,i,o,E,A,M,G,re),i=1,p===!0&&(i|=24),p=Cn(3,null,null,i),r.current=p,p.stateNode=r,i=Nd(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},kd(p),r}function z0(r){return r?(r=Ys,r):Ys}function H0(r,i,o,u,h,p){h=z0(h),u.context===null?u.context=h:u.pendingContext=h,u=Li(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ui(r,u,i),o!==null&&(Dn(o,r,i),Ol(o,r,i))}function q0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Xm(r,i){q0(r,i),(r=r.alternate)&&q0(r,i)}function F0(r){if(r.tag===13){var i=Ks(r,67108864);i!==null&&Dn(i,r,67108864),Xm(r,67108864)}}var Ef=!0;function GR(r,i,o,u){var h=W.T;W.T=null;var p=le.p;try{le.p=2,Wm(r,i,o,u)}finally{le.p=p,W.T=h}}function KR(r,i,o,u){var h=W.T;W.T=null;var p=le.p;try{le.p=8,Wm(r,i,o,u)}finally{le.p=p,W.T=h}}function Wm(r,i,o,u){if(Ef){var h=Zm(u);if(h===null)Um(r,i,u,Tf,o),G0(r,u);else if(QR(h,r,i,o,u))u.stopPropagation();else if(G0(r,u),i&4&&-1<YR.indexOf(r)){for(;h!==null;){var p=ur(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Yn(p.pendingLanes);if(E!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var M=1<<31-en(E);A.entanglements[1]|=M,E&=~M}wr(p),(nt&6)===0&&(rf=Lt()+500,Yl(0))}}break;case 13:A=Ks(p,2),A!==null&&Dn(A,p,2),sf(),Xm(p,2)}if(p=Zm(u),p===null&&Um(r,i,u,Tf,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Um(r,i,u,null,o)}}function Zm(r){return r=Ln(r),Jm(r)}var Tf=null;function Jm(r){if(Tf=null,r=Pr(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Tf=r,null}function $0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jo()){case Ca:return 2;case Ai:return 8;case Mr:case el:return 32;case Ri:return 268435456;default:return 32}default:return 32}}var ep=!1,Wi=null,Zi=null,Ji=null,nu=new Map,ru=new Map,ea=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(r,i){switch(r){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":nu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function iu(r,i,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},i!==null&&(i=ur(i),i!==null&&F0(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function QR(r,i,o,u,h){switch(i){case"focusin":return Wi=iu(Wi,r,i,o,u,h),!0;case"dragenter":return Zi=iu(Zi,r,i,o,u,h),!0;case"mouseover":return Ji=iu(Ji,r,i,o,u,h),!0;case"pointerover":var p=h.pointerId;return nu.set(p,iu(nu.get(p)||null,r,i,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ru.set(p,iu(ru.get(p)||null,r,i,o,u,h)),!0}return!1}function K0(r){var i=Pr(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,ac(r.priority,function(){if(o.tag===13){var u=On();u=Ii(u);var h=Ks(o,u);h!==null&&Dn(h,o,u),Xm(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function bf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Zm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Br=u,o.target.dispatchEvent(u),Br=null}else return i=ur(o),i!==null&&F0(i),r.blockedOn=o,!1;i.shift()}return!0}function Y0(r,i,o){bf(r)&&o.delete(i)}function XR(){ep=!1,Wi!==null&&bf(Wi)&&(Wi=null),Zi!==null&&bf(Zi)&&(Zi=null),Ji!==null&&bf(Ji)&&(Ji=null),nu.forEach(Y0),ru.forEach(Y0)}function wf(r,i){r.blockedOn===i&&(r.blockedOn=null,ep||(ep=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XR)))}var Sf=null;function Q0(r){Sf!==r&&(Sf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sf===r&&(Sf=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],h=r[i+2];if(typeof u!="function"){if(Jm(u||o)===null)continue;break}var p=ur(o);p!==null&&(r.splice(i,3),i-=3,Jd(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function au(r){function i(M){return wf(M,r)}Wi!==null&&wf(Wi,r),Zi!==null&&wf(Zi,r),Ji!==null&&wf(Ji,r),nu.forEach(i),ru.forEach(i);for(var o=0;o<ea.length;o++){var u=ea[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ea.length&&(o=ea[0],o.blockedOn===null);)K0(o),o.blockedOn===null&&ea.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],E=h[St]||null;if(typeof p=="function")E||Q0(o);else if(E){var A=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[St]||null)A=E.formAction;else if(Jm(h)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),Q0(o)}}}function tp(r){this._internalRoot=r}Af.prototype.render=tp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=On();H0(o,u,r,i,null,null)},Af.prototype.unmount=tp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;H0(r.current,2,null,r,null,null),sf(),i[Vn]=null}};function Af(r){this._internalRoot=r}Af.prototype.unstable_scheduleHydration=function(r){if(r){var i=xi();r={blockedOn:null,target:r,priority:i};for(var o=0;o<ea.length&&i!==0&&i<ea[o].priority;o++);ea.splice(o,0,r),o===0&&K0(r)}};var X0=e.version;if(X0!=="19.1.0")throw Error(a(527,X0,"19.1.0"));le.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var WR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{_e=Rf.inject(WR),je=Rf}catch{}}return ou.createRoot=function(r,i){if(!s(r))throw Error(a(299));var o=!1,u="",h=h_,p=d_,E=m_,A=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=B0(r,1,!1,null,null,o,u,h,p,E,A,null),r[Vn]=i.current,Lm(r),new tp(i)},ou.hydrateRoot=function(r,i,o){if(!s(r))throw Error(a(299));var u=!1,h="",p=h_,E=d_,A=m_,M=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),i=B0(r,1,!0,i,o??null,u,h,p,E,A,M,G),i.context=z0(null),o=i.current,u=On(),u=Ii(u),h=Li(u),h.callback=null,Ui(o,h,u),o=u,i.current.lanes=o,Vr(i,o),wr(i),r[Vn]=i.current,Lm(r),new Af(i)},ou.version="19.1.0",ou}var sE;function sC(){if(sE)return ip.exports;sE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ip.exports=aC(),ip.exports}var oC=sC();const lC=Lu(oC);var lu={},oE;function uC(){if(oE)return lu;oE=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=c,lu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,N){const I=new l,B=T.length;if(B<2)return I;const k=(N==null?void 0:N.decode)||v;let q=0;do{const Y=T.indexOf("=",q);if(Y===-1)break;const z=T.indexOf(";",q),K=z===-1?B:z;if(Y>K){q=T.lastIndexOf(";",Y-1)+1;continue}const ee=d(T,q,Y),oe=m(T,Y,ee),O=T.slice(ee,oe);if(I[O]===void 0){let C=d(T,Y+1,K),x=m(T,K,C);const V=k(T.slice(C,x));I[O]=V}q=K+1}while(q<B);return I}function d(T,N,I){do{const B=T.charCodeAt(N);if(B!==32&&B!==9)return N}while(++N<I);return I}function m(T,N,I){for(;N>I;){const B=T.charCodeAt(--N);if(B!==32&&B!==9)return N+1}return I}function g(T,N,I){const B=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const k=B(N);if(!e.test(k))throw new TypeError(`argument val is invalid: ${N}`);let q=T+"="+k;if(!I)return q;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);q+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);q+="; Domain="+I.domain}if(I.path){if(!a.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);q+="; Path="+I.path}if(I.expires){if(!b(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);q+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(q+="; HttpOnly"),I.secure&&(q+="; Secure"),I.partitioned&&(q+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return q}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return s.call(T)==="[object Date]"}return lu}uC();var lE="popstate";function cC(n={}){function e(a,s){let{pathname:l,search:c,hash:d}=a.location;return Np("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(a,s){return typeof s=="string"?s:Au(s)}return hC(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fC(){return Math.random().toString(36).substring(2,10)}function uE(n,e){return{usr:n.state,key:n.key,idx:e}}function Np(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:t,key:e&&e.key||a||fC()}}function Au({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function hC(n,e,t,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let k=v(),q=k==null?null:k-g;g=k,m&&m({action:d,location:B.location,delta:q})}function T(k,q){d="PUSH";let Y=Np(B.location,k,q);g=v()+1;let z=uE(Y,g),K=B.createHref(Y);try{c.pushState(z,"",K)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;s.location.assign(K)}l&&m&&m({action:d,location:B.location,delta:1})}function N(k,q){d="REPLACE";let Y=Np(B.location,k,q);g=v();let z=uE(Y,g),K=B.createHref(Y);c.replaceState(z,"",K),l&&m&&m({action:d,location:B.location,delta:0})}function I(k){return dC(k)}let B={get action(){return d},get location(){return n(s,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(lE,b),m=k,()=>{s.removeEventListener(lE,b),m=null}},createHref(k){return e(s,k)},createURL:I,encodeLocation(k){let q=I(k);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:T,replace:N,go(k){return c.go(k)}};return B}function dC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Au(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function mb(n,e,t="/"){return mC(n,e,t,!1)}function mC(n,e,t,a){let s=typeof e=="string"?Bo(e):e,l=pi(s.pathname||"/",t);if(l==null)return null;let c=pb(n);pC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=RC(l);d=SC(c[m],g,a)}return d}function pb(n,e=[],t=[],a=""){let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(dt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=fi([a,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),pb(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:bC(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of gb(l.path))s(l,c,m)}),e}function gb(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=gb(a.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function pC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wC(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var gC=/^:[\w-]+$/,yC=3,vC=2,_C=1,EC=10,TC=-2,cE=n=>n==="*";function bC(n,e){let t=n.split("/"),a=t.length;return t.some(cE)&&(a+=TC),e&&(a+=vC),t.filter(s=>!cE(s)).reduce((s,l)=>s+(gC.test(l)?yC:l===""?_C:EC),a)}function wC(n,e){return n.length===e.length&&n.slice(0,-1).every((a,s)=>a===e[s])?n[n.length-1]-e[e.length-1]:0}function SC(n,e,t=!1){let{routesMeta:a}=n,s={},l="/",c=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!b&&g&&t&&!a[a.length-1].route.index&&(b=Xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:fi([l,b.pathname]),pathnameBase:NC(fi([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=fi([l,b.pathnameBase]))}return c}function Xf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=AC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let I=d[T]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const N=d[T];return b&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function AC(n,e=!1,t=!0){rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function RC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function CC(n,e="/"){let{pathname:t,search:a="",hash:s=""}=typeof n=="string"?Bo(n):n;return{pathname:t?t.startsWith("/")?t:IC(t,e):e,search:OC(a),hash:DC(s)}}function IC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function lp(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vg(n){let e=xC(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function _g(n,e,t,a=!1){let s;typeof n=="string"?s=Bo(n):(s={...n},dt(!s.pathname||!s.pathname.includes("?"),lp("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),lp("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),lp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!a&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;s.pathname=T.join("/")}d=b>=0?e[b]:"/"}let m=CC(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var fi=n=>n.join("/").replace(/\/\/+/g,"/"),NC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yb=["POST","PUT","PATCH","DELETE"];new Set(yb);var kC=["GET",...yb];new Set(kC);var zo=S.createContext(null);zo.displayName="DataRouter";var Sh=S.createContext(null);Sh.displayName="DataRouterState";var vb=S.createContext({isTransitioning:!1});vb.displayName="ViewTransition";var VC=S.createContext(new Map);VC.displayName="Fetchers";var PC=S.createContext(null);PC.displayName="Await";var sr=S.createContext(null);sr.displayName="Navigation";var Uu=S.createContext(null);Uu.displayName="Location";var or=S.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Eg=S.createContext(null);Eg.displayName="RouteError";function LC(n,{relative:e}={}){dt(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=S.useContext(sr),{hash:s,pathname:l,search:c}=ju(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:fi([t,l])),a.createHref({pathname:d,search:c,hash:s})}function Ho(){return S.useContext(Uu)!=null}function ba(){return dt(Ho(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Uu).location}var _b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eb(n){S.useContext(sr).static||S.useLayoutEffect(n)}function bs(){let{isDataRoute:n}=S.useContext(or);return n?WC():UC()}function UC(){dt(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(zo),{basename:e,navigator:t}=S.useContext(sr),{matches:a}=S.useContext(or),{pathname:s}=ba(),l=JSON.stringify(vg(a)),c=S.useRef(!1);return Eb(()=>{c.current=!0}),S.useCallback((m,g={})=>{if(rr(c.current,_b),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=_g(m,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}S.createContext(null);function jC(){let{matches:n}=S.useContext(or),e=n[n.length-1];return e?e.params:{}}function ju(n,{relative:e}={}){let{matches:t}=S.useContext(or),{pathname:a}=ba(),s=JSON.stringify(vg(t));return S.useMemo(()=>_g(n,JSON.parse(s),a,e==="path"),[n,s,a,e])}function BC(n,e){return Tb(n,e)}function Tb(n,e,t,a){var Y;dt(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=S.useContext(sr),{matches:c}=S.useContext(or),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let z=b&&b.path||"";bb(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=ba(),N;if(e){let z=typeof e=="string"?Bo(e):e;dt(v==="/"||((Y=z.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),N=z}else N=T;let I=N.pathname||"/",B=I;if(v!=="/"){let z=v.replace(/^\//,"").split("/");B="/"+I.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:mb(n,{pathname:B});rr(b||k!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),rr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=$C(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:fi([v,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:fi([v,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,t,a);return e&&q?S.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},q):q}function zC(){let n=XC(),e=MC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,c)}var HC=S.createElement(zC,null),qC=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(or.Provider,{value:this.props.routeContext},S.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FC({routeContext:n,match:e,children:t}){let a=S.useContext(zo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(or.Provider,{value:n},t)}function $C(n,e=[],t=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:b}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,g,v)=>{let b,T=!1,N=null,I=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||HC,c&&(d<0&&v===0?(bb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):d===v&&(T=!0,I=g.route.hydrateFallbackElement||null)));let B=e.concat(s.slice(0,v+1)),k=()=>{let q;return b?q=N:T?q=I:g.route.Component?q=S.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,S.createElement(FC,{match:g,routeContext:{outlet:m,matches:B,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?S.createElement(qC,{location:t.location,revalidation:t.revalidation,component:N,error:b,children:k(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):k()},null)}function Tg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GC(n){let e=S.useContext(zo);return dt(e,Tg(n)),e}function KC(n){let e=S.useContext(Sh);return dt(e,Tg(n)),e}function YC(n){let e=S.useContext(or);return dt(e,Tg(n)),e}function bg(n){let e=YC(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QC(){return bg("useRouteId")}function XC(){var a;let n=S.useContext(Eg),e=KC("useRouteError"),t=bg("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[t]}function WC(){let{router:n}=GC("useNavigate"),e=bg("useNavigate"),t=S.useRef(!1);return Eb(()=>{t.current=!0}),S.useCallback(async(s,l={})=>{rr(t.current,_b),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var fE={};function bb(n,e,t){!e&&!fE[n]&&(fE[n]=!0,rr(!1,t))}S.memo(ZC);function ZC({routes:n,future:e,state:t}){return Tb(n,void 0,t,e)}function JC({to:n,replace:e,state:t,relative:a}){dt(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(sr);rr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(or),{pathname:c}=ba(),d=bs(),m=_g(n,vg(l),c,a==="path"),g=JSON.stringify(m);return S.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function ai(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eI({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:s,static:l=!1}){dt(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Bo(t));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:T="default"}=t,N=S.useMemo(()=>{let I=pi(m,c);return I==null?null:{location:{pathname:I,search:g,hash:v,state:b,key:T},navigationType:a}},[c,m,g,v,b,T,a]);return rr(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:S.createElement(sr.Provider,{value:d},S.createElement(Uu.Provider,{children:e,value:N}))}function tI({children:n,location:e}){return BC(Op(n),e)}function Op(n,e=[]){let t=[];return S.Children.forEach(n,(a,s)=>{if(!S.isValidElement(a))return;let l=[...e,s];if(a.type===S.Fragment){t.push.apply(t,Op(a.props.children,l));return}dt(a.type===ai,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Op(a.props.children,l)),t.push(c)}),t}var Uf="get",jf="application/x-www-form-urlencoded";function Ah(n){return n!=null&&typeof n.tagName=="string"}function nI(n){return Ah(n)&&n.tagName.toLowerCase()==="button"}function rI(n){return Ah(n)&&n.tagName.toLowerCase()==="form"}function iI(n){return Ah(n)&&n.tagName.toLowerCase()==="input"}function aI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sI(n,e){return n.button===0&&(!e||e==="_self")&&!aI(n)}var Cf=null;function oI(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var lI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(n){return n!=null&&!lI.has(n)?(rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):n}function uI(n,e){let t,a,s,l,c;if(rI(n)){let d=n.getAttribute("action");a=d?pi(d,e):null,t=n.getAttribute("method")||Uf,s=up(n.getAttribute("enctype"))||jf,l=new FormData(n)}else if(nI(n)||iI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(a=m?pi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Uf,s=up(n.getAttribute("formenctype"))||up(d.getAttribute("enctype"))||jf,l=new FormData(d,n),!oI()){let{name:g,type:v,value:b}=n;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(Ah(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uf,a=null,s=jf,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:s,formData:l,body:c}}function wg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function cI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hI(n,e,t){let a=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await cI(l,t);return c.links?c.links():[]}return[]}));return gI(a.flat(1).filter(fI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function hE(n,e,t,a,s,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var b;let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function dI(n,e,{includeHydrateFallback:t}={}){return mI(n.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function mI(n){return[...new Set(n)]}function pI(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function gI(n,e){let t=new Set;return new Set(e),n.reduce((a,s)=>{let l=JSON.stringify(pI(s));return t.has(l)||(t.add(l),a.push({key:l,link:s})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yI=new Set([100,101,204,205]);function vI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&pi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function wb(){let n=S.useContext(zo);return wg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _I(){let n=S.useContext(Sh);return wg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Sg=S.createContext(void 0);Sg.displayName="FrameworkContext";function Sb(){let n=S.useContext(Sg);return wg(n,"You must render this element inside a <HydratedRouter> element"),n}function EI(n,e){let t=S.useContext(Sg),[a,s]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let B=q=>{q.forEach(Y=>{c(Y.isIntersecting)})},k=new IntersectionObserver(B,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),S.useEffect(()=>{if(a){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[a]);let N=()=>{s(!0)},I=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:uu(d,N),onBlur:uu(m,I),onMouseEnter:uu(g,N),onMouseLeave:uu(v,I),onTouchStart:uu(b,N)}]:[!1,T,{}]}function uu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TI({page:n,...e}){let{router:t}=wb(),a=S.useMemo(()=>mb(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?S.createElement(wI,{page:n,matches:a,...e}):null}function bI(n){let{manifest:e,routeModules:t}=Sb(),[a,s]=S.useState([]);return S.useEffect(()=>{let l=!1;return hI(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),a}function wI({page:n,matches:e,...t}){let a=ba(),{manifest:s,routeModules:l}=Sb(),{basename:c}=wb(),{loaderData:d,matches:m}=_I(),g=S.useMemo(()=>hE(n,e,m,s,a,"data"),[n,e,m,s,a]),v=S.useMemo(()=>hE(n,e,m,s,a,"assets"),[n,e,m,s,a]),b=S.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let I=new Set,B=!1;if(e.forEach(q=>{var z;let Y=s.routes[q.route.id];!Y||!Y.hasLoader||(!g.some(K=>K.route.id===q.route.id)&&q.route.id in d&&((z=l[q.route.id])!=null&&z.shouldRevalidate)||Y.hasClientLoader?B=!0:I.add(q.route.id))}),I.size===0)return[];let k=vI(n,c);return B&&I.size>0&&k.searchParams.set("_routes",e.filter(q=>I.has(q.route.id)).map(q=>q.route.id).join(",")),[k.pathname+k.search]},[c,d,a,s,g,e,n,l]),T=S.useMemo(()=>dI(v,s),[v,s]),N=bI(v);return S.createElement(S.Fragment,null,b.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),T.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),N.map(({key:I,link:B})=>S.createElement("link",{key:I,...B})))}function SI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ab&&(window.__reactRouterVersion="7.6.0")}catch{}function AI({basename:n,children:e,window:t}){let a=S.useRef();a.current==null&&(a.current=cC({window:t,v5Compat:!0}));let s=a.current,[l,c]=S.useState({action:s.action,location:s.location}),d=S.useCallback(m=>{S.startTransition(()=>c(m))},[c]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.createElement(eI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var Rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ar=S.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:b,...T},N){let{basename:I}=S.useContext(sr),B=typeof g=="string"&&Rb.test(g),k,q=!1;if(typeof g=="string"&&B&&(k=g,Ab))try{let x=new URL(window.location.href),V=g.startsWith("//")?new URL(x.protocol+g):new URL(g),L=pi(V.pathname,I);V.origin===x.origin&&L!=null?g=L+V.search+V.hash:q=!0}catch{rr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=LC(g,{relative:s}),[z,K,ee]=EI(a,T),oe=xI(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:s,viewTransition:b});function O(x){e&&e(x),x.defaultPrevented||oe(x)}let C=S.createElement("a",{...T,...ee,href:k||Y,onClick:q||l?e:O,ref:SI(N,K),target:m,"data-discover":!B&&t==="render"?"true":void 0});return z&&!B?S.createElement(S.Fragment,null,C,S.createElement(TI,{page:Y})):C});Ar.displayName="Link";var RI=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let b=ju(c,{relative:g.relative}),T=ba(),N=S.useContext(Sh),{navigator:I,basename:B}=S.useContext(sr),k=N!=null&&kI(b)&&d===!0,q=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,Y=T.pathname,z=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),z=z?z.toLowerCase():null,q=q.toLowerCase()),z&&B&&(z=pi(z,B)||z);const K=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ee=Y===q||!s&&Y.startsWith(q)&&Y.charAt(K)==="/",oe=z!=null&&(z===q||!s&&z.startsWith(q)&&z.charAt(q.length)==="/"),O={isActive:ee,isPending:oe,isTransitioning:k},C=ee?e:void 0,x;typeof a=="function"?x=a(O):x=[a,ee?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(O):l;return S.createElement(Ar,{...g,"aria-current":C,className:x,ref:v,style:V,to:c,viewTransition:d},typeof m=="function"?m(O):m)});RI.displayName="NavLink";var CI=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:s,state:l,method:c=Uf,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...T},N)=>{let I=DI(),B=MI(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&Rb.test(d),Y=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let K=z.nativeEvent.submitter,ee=(K==null?void 0:K.getAttribute("formmethod"))||c;I(K||z.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return S.createElement("form",{ref:N,method:k,action:B,onSubmit:a?m:Y,...T,"data-discover":!q&&n==="render"?"true":void 0})});CI.displayName="Form";function II(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cb(n){let e=S.useContext(zo);return dt(e,II(n)),e}function xI(n,{target:e,replace:t,state:a,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=bs(),m=ba(),g=ju(n,{relative:l});return S.useCallback(v=>{if(sI(v,e)){v.preventDefault();let b=t!==void 0?t:Au(m)===Au(g);d(n,{replace:b,state:a,preventScrollReset:s,relative:l,viewTransition:c})}},[m,d,g,t,a,e,n,s,l,c])}var NI=0,OI=()=>`__${String(++NI)}__`;function DI(){let{router:n}=Cb("useSubmit"),{basename:e}=S.useContext(sr),t=QC();return S.useCallback(async(a,s={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=uI(a,e);if(s.navigate===!1){let v=s.fetcherKey||OI();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function MI(n,{relative:e}={}){let{basename:t}=S.useContext(sr),a=S.useContext(or);dt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...ju(n||".",{relative:e})},c=ba();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fi([t,l.pathname])),Au(l)}function kI(n,e={}){let t=S.useContext(vb);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Cb("useViewTransitionState"),s=ju(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=pi(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=pi(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Xf(s.pathname,c)!=null||Xf(s.pathname,l)!=null}[...yI];var VI=db();const Ao=Lu(VI);function Ib(n){var e,t,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=Ib(n[e]))&&(a&&(a+=" "),a+=t)}else for(t in n)n[t]&&(a&&(a+=" "),a+=t);return a}function fs(){for(var n,e,t=0,a="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=Ib(n))&&(a&&(a+=" "),a+=e);return a}function PI(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}PI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Bu=n=>typeof n=="number"&&!isNaN(n),ds=n=>typeof n=="string",gi=n=>typeof n=="function",LI=n=>ds(n)||Bu(n),Dp=n=>ds(n)||gi(n)?n:null,UI=(n,e)=>n===!1||Bu(n)&&n>0?n:e,Mp=n=>S.isValidElement(n)||ds(n)||gi(n)||Bu(n);function jI(n,e,t=300){let{scrollHeight:a,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=a+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function BI({enter:n,exit:e,appendPosition:t=!1,collapse:a=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:g,isIn:v,playToast:b}){let T=t?`${n}--${c}`:n,N=t?`${e}--${c}`:e,I=S.useRef(0);return S.useLayoutEffect(()=>{let B=g.current,k=T.split(" "),q=Y=>{Y.target===g.current&&(b(),B.removeEventListener("animationend",q),B.removeEventListener("animationcancel",q),I.current===0&&Y.type!=="animationcancel"&&B.classList.remove(...k))};B.classList.add(...k),B.addEventListener("animationend",q),B.addEventListener("animationcancel",q)},[]),S.useEffect(()=>{let B=g.current,k=()=>{B.removeEventListener("animationend",k),a?jI(B,m,s):m()};v||(d?k():(I.current=1,B.className+=` ${N}`,B.addEventListener("animationend",k)))},[v]),Ne.createElement(Ne.Fragment,null,l)}}function dE(n,e){return{content:xb(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function xb(n,e,t=!1){return S.isValidElement(n)&&!ds(n.type)?S.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):gi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function zI({closeToast:n,theme:e,ariaLabel:t="close"}){return Ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:a=>{a.stopPropagation(),n(!0)},"aria-label":t},Ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function HI({delay:n,isRunning:e,closeToast:t,type:a="default",hide:s,className:l,controlledProgress:c,progress:d,rtl:m,isIn:g,theme:v}){let b=s||c&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(T.transform=`scaleX(${d})`);let N=fs("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":m}),I=gi(l)?l({rtl:m,type:a,defaultClassName:N}):fs(N,l),B={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&t()}};return Ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},Ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${a}`}),Ne.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:I,style:T,...B}))}var qI=1,Nb=()=>`${qI++}`;function FI(n,e,t){let a=1,s=0,l=[],c=[],d=e,m=new Map,g=new Set,v=Y=>(g.add(Y),()=>g.delete(Y)),b=()=>{c=Array.from(m.values()),g.forEach(Y=>Y())},T=({containerId:Y,toastId:z,updateId:K})=>{let ee=Y?Y!==n:n!==1,oe=m.has(z)&&K==null;return ee||oe},N=(Y,z)=>{m.forEach(K=>{var ee;(z==null||z===K.props.toastId)&&((ee=K.toggle)==null||ee.call(K,Y))})},I=Y=>{var z,K;(K=(z=Y.props)==null?void 0:z.onClose)==null||K.call(z,Y.removalReason),Y.isActive=!1},B=Y=>{if(Y==null)m.forEach(I);else{let z=m.get(Y);z&&I(z)}b()},k=()=>{s-=l.length,l=[]},q=Y=>{var z,K;let{toastId:ee,updateId:oe}=Y.props,O=oe==null;Y.staleId&&m.delete(Y.staleId),Y.isActive=!0,m.set(ee,Y),b(),t(dE(Y,O?"added":"updated")),O&&((K=(z=Y.props).onOpen)==null||K.call(z))};return{id:n,props:d,observe:v,toggle:N,removeToast:B,toasts:m,clearQueue:k,buildToast:(Y,z)=>{if(T(z))return;let{toastId:K,updateId:ee,data:oe,staleId:O,delay:C}=z,x=ee==null;x&&s++;let V={...d,style:d.toastStyle,key:a++,...Object.fromEntries(Object.entries(z).filter(([j,D])=>D!=null)),toastId:K,updateId:ee,data:oe,isIn:!1,className:Dp(z.className||d.toastClassName),progressClassName:Dp(z.progressClassName||d.progressClassName),autoClose:z.isLoading?!1:UI(z.autoClose,d.autoClose),closeToast(j){m.get(K).removalReason=j,B(K)},deleteToast(){let j=m.get(K);if(j!=null){if(t(dE(j,"removed")),m.delete(K),s--,s<0&&(s=0),l.length>0){q(l.shift());return}b()}}};V.closeButton=d.closeButton,z.closeButton===!1||Mp(z.closeButton)?V.closeButton=z.closeButton:z.closeButton===!0&&(V.closeButton=Mp(d.closeButton)?d.closeButton:!0);let L={content:Y,props:V,staleId:O};d.limit&&d.limit>0&&s>d.limit&&x?l.push(L):Bu(C)?setTimeout(()=>{q(L)},C):q(L)},setProps(Y){d=Y},setToggle:(Y,z)=>{let K=m.get(Y);K&&(K.toggle=z)},isToastActive:Y=>{var z;return(z=m.get(Y))==null?void 0:z.isActive},getSnapshot:()=>c}}var dn=new Map,Ru=[],kp=new Set,$I=n=>kp.forEach(e=>e(n)),Ob=()=>dn.size>0;function GI(){Ru.forEach(n=>Mb(n.content,n.options)),Ru=[]}var KI=(n,{containerId:e})=>{var t;return(t=dn.get(e||1))==null?void 0:t.toasts.get(n)};function Db(n,e){var t;if(e)return!!((t=dn.get(e))!=null&&t.isToastActive(n));let a=!1;return dn.forEach(s=>{s.isToastActive(n)&&(a=!0)}),a}function YI(n){if(!Ob()){Ru=Ru.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||LI(n))dn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=dn.get(n.containerId);e?e.removeToast(n.id):dn.forEach(t=>{t.removeToast(n.id)})}}var QI=(n={})=>{dn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Mb(n,e){Mp(n)&&(Ob()||Ru.push({content:n,options:e}),dn.forEach(t=>{t.buildToast(n,e)}))}function XI(n){var e;(e=dn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function kb(n,e){dn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function WI(n){let e=n.containerId||1;return{subscribe(t){let a=FI(e,n,$I);dn.set(e,a);let s=a.observe(t);return GI(),()=>{s(),dn.delete(e)}},setProps(t){var a;(a=dn.get(e))==null||a.setProps(t)},getSnapshot(){var t;return(t=dn.get(e))==null?void 0:t.getSnapshot()}}}function ZI(n){return kp.add(n),()=>{kp.delete(n)}}function JI(n){return n&&(ds(n.toastId)||Bu(n.toastId))?n.toastId:Nb()}function zu(n,e){return Mb(n,e),e.toastId}function Rh(n,e){return{...e,type:e&&e.type||n,toastId:JI(e)}}function Ch(n){return(e,t)=>zu(e,Rh(n,t))}function Ue(n,e){return zu(n,Rh("default",e))}Ue.loading=(n,e)=>zu(n,Rh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function ex(n,{pending:e,error:t,success:a},s){let l;e&&(l=ds(e)?Ue.loading(e,s):Ue.loading(e.render,{...s,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,v,b)=>{if(v==null){Ue.dismiss(l);return}let T={type:g,...c,...s,data:b},N=ds(v)?{render:v}:v;return l?Ue.update(l,{...T,...N}):Ue(N.render,{...T,...N}),b},m=gi(n)?n():n;return m.then(g=>d("success",a,g)).catch(g=>d("error",t,g)),m}Ue.promise=ex;Ue.success=Ch("success");Ue.info=Ch("info");Ue.error=Ch("error");Ue.warning=Ch("warning");Ue.warn=Ue.warning;Ue.dark=(n,e)=>zu(n,Rh("default",{theme:"dark",...e}));function tx(n){YI(n)}Ue.dismiss=tx;Ue.clearWaitingQueue=QI;Ue.isActive=Db;Ue.update=(n,e={})=>{let t=KI(n,e);if(t){let{props:a,content:s}=t,l={delay:100,...a,...e,toastId:e.toastId||n,updateId:Nb()};l.toastId!==n&&(l.staleId=n);let c=l.render||s;delete l.render,zu(c,l)}};Ue.done=n=>{Ue.update(n,{progress:1})};Ue.onChange=ZI;Ue.play=n=>kb(!0,n);Ue.pause=n=>kb(!1,n);function nx(n){var e;let{subscribe:t,getSnapshot:a,setProps:s}=S.useRef(WI(n)).current;s(n);let l=(e=S.useSyncExternalStore(t,a,a))==null?void 0:e.slice();function c(d){if(!l)return[];let m=new Map;return n.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:v}=g.props;m.has(v)||m.set(v,[]),m.get(v).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:Db,count:l==null?void 0:l.length}}function rx(n){let[e,t]=S.useState(!1),[a,s]=S.useState(!1),l=S.useRef(null),c=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:v,closeOnClick:b}=n;XI({id:n.toastId,containerId:n.containerId,fn:t}),S.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{N()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||q(),window.addEventListener("focus",k),window.addEventListener("blur",q)}function N(){window.removeEventListener("focus",k),window.removeEventListener("blur",q)}function I(O){if(n.draggable===!0||n.draggable===O.pointerType){Y();let C=l.current;c.canCloseOnClick=!0,c.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(c.start=O.clientX,c.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(c.start=O.clientY,c.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function B(O){let{top:C,bottom:x,left:V,right:L}=l.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&n.pauseOnHover&&O.clientX>=V&&O.clientX<=L&&O.clientY>=C&&O.clientY<=x?q():k()}function k(){t(!0)}function q(){t(!1)}function Y(){c.didMove=!1,document.addEventListener("pointermove",K),document.addEventListener("pointerup",ee)}function z(){document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",ee)}function K(O){let C=l.current;if(c.canDrag&&C){c.didMove=!0,e&&q(),n.draggableDirection==="x"?c.delta=O.clientX-c.start:c.delta=O.clientY-c.start,c.start!==O.clientX&&(c.canCloseOnClick=!1);let x=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;C.style.transform=`translate3d(${x},0)`,C.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function ee(){z();let O=l.current;if(c.canDrag&&c.didMove&&O){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let oe={onPointerDown:I,onPointerUp:B};return d&&m&&(oe.onMouseEnter=q,n.stacked||(oe.onMouseLeave=k)),b&&(oe.onClick=O=>{v&&v(O),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:q,isRunning:e,preventExitTransition:a,toastRef:l,eventHandlers:oe}}var ix=typeof window<"u"?S.useLayoutEffect:S.useEffect,Ih=({theme:n,type:e,isLoading:t,...a})=>Ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...a});function ax(n){return Ne.createElement(Ih,{...n},Ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function sx(n){return Ne.createElement(Ih,{...n},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ox(n){return Ne.createElement(Ih,{...n},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function lx(n){return Ne.createElement(Ih,{...n},Ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ux(){return Ne.createElement("div",{className:"Toastify__spinner"})}var Vp={info:sx,warning:ax,success:ox,error:lx,spinner:ux},cx=n=>n in Vp;function fx({theme:n,type:e,isLoading:t,icon:a}){let s=null,l={theme:n,type:e};return a===!1||(gi(a)?s=a({...l,isLoading:t}):S.isValidElement(a)?s=S.cloneElement(a,l):t?s=Vp.spinner():cx(e)&&(s=Vp[e](l))),s}var hx=n=>{let{isRunning:e,preventExitTransition:t,toastRef:a,eventHandlers:s,playToast:l}=rx(n),{closeButton:c,children:d,autoClose:m,onClick:g,type:v,hideProgressBar:b,closeToast:T,transition:N,position:I,className:B,style:k,progressClassName:q,updateId:Y,role:z,progress:K,rtl:ee,toastId:oe,deleteToast:O,isIn:C,isLoading:x,closeOnClick:V,theme:L,ariaLabel:j}=n,D=fs("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":ee},{"Toastify__toast--close-on-click":V}),tt=gi(B)?B({rtl:ee,position:I,type:v,defaultClassName:D}):fs(D,B),Ye=fx(n),W=!!K||!m,le={closeToast:T,type:v,theme:L},fe=null;return c===!1||(gi(c)?fe=c(le):S.isValidElement(c)?fe=S.cloneElement(c,le):fe=zI(le)),Ne.createElement(N,{isIn:C,done:O,position:I,preventExitTransition:t,nodeRef:a,playToast:l},Ne.createElement("div",{id:oe,tabIndex:0,onClick:g,"data-in":C,className:tt,...s,style:k,ref:a,...C&&{role:z,"aria-label":j}},Ye!=null&&Ne.createElement("div",{className:fs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},Ye),xb(d,n,!e),fe,!n.customProgressBar&&Ne.createElement(HI,{...Y&&!W?{key:`p-${Y}`}:{},rtl:ee,theme:L,delay:m,isRunning:e,isIn:C,closeToast:T,hide:b,type:v,className:q,controlledProgress:W,progress:K||0})))},dx=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),mx=BI(dx("bounce",!0)),px={position:"top-right",transition:mx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Vb(n){let e={...px,...n},t=n.stacked,[a,s]=S.useState(!0),l=S.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=nx(e),{className:g,style:v,rtl:b,containerId:T,hotKeys:N}=e;function I(k){let q=fs("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":b});return gi(g)?g({position:k,rtl:b,defaultClassName:q}):fs(q,Dp(g))}function B(){t&&(s(!0),Ue.play())}return ix(()=>{var k;if(t){let q=l.current.querySelectorAll('[data-in="true"]'),Y=12,z=(k=e.position)==null?void 0:k.includes("top"),K=0,ee=0;Array.from(q).reverse().forEach((oe,O)=>{let C=oe;C.classList.add("Toastify__toast--stacked"),O>0&&(C.dataset.collapsed=`${a}`),C.dataset.pos||(C.dataset.pos=z?"top":"bot");let x=K*(a?.2:1)+(a?0:Y*O);C.style.setProperty("--y",`${z?x:x*-1}px`),C.style.setProperty("--g",`${Y}`),C.style.setProperty("--s",`${1-(a?ee:0)}`),K+=C.offsetHeight,ee+=.025})}},[a,m,t]),S.useEffect(()=>{function k(q){var Y;let z=l.current;N(q)&&((Y=z.querySelector('[tabIndex="0"]'))==null||Y.focus(),s(!1),Ue.pause()),q.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(s(!0),Ue.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[N]),Ne.createElement("section",{ref:l,className:"Toastify",id:T,onMouseEnter:()=>{t&&(s(!1),Ue.pause())},onMouseLeave:B,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,q)=>{let Y=q.length?{...v}:{...v,pointerEvents:"none"};return Ne.createElement("div",{tabIndex:-1,className:I(k),"data-stacked":t,style:Y,key:`c-${k}`},q.map(({content:z,props:K})=>Ne.createElement(hx,{...K,stacked:t,collapseAll:B,isIn:d(K.toastId,K.containerId),key:`t-${K.key}`},z)))}))}var cp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var mE;function gx(){return mE||(mE=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=s(l,a(d)))}return l}function a(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=s(c,d));return c}function s(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(cp)),cp.exports}var yx=gx();const ge=Lu(yx);function Pp(){return Pp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Pp.apply(null,arguments)}function Pb(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)!==-1)continue;t[a]=n[a]}return t}function pE(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function vx(n){var e=_x(n,"string");return typeof e=="symbol"?e:String(e)}function _x(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Ex(n,e,t){var a=S.useRef(n!==void 0),s=S.useState(e),l=s[0],c=s[1],d=n!==void 0,m=a.current;return a.current=d,!d&&m&&l!==e&&c(e),[d?n:l,S.useCallback(function(g){for(var v=arguments.length,b=new Array(v>1?v-1:0),T=1;T<v;T++)b[T-1]=arguments[T];t&&t.apply(void 0,[g].concat(b)),c(g)},[t])]}function Ag(n,e){return Object.keys(e).reduce(function(t,a){var s,l=t,c=l[pE(a)],d=l[a],m=Pb(l,[pE(a),a].map(vx)),g=e[a],v=Ex(d,c,n[g]),b=v[0],T=v[1];return Pp({},m,(s={},s[a]=b,s[g]=T,s))},n)}function Lp(n,e){return Lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Lp(n,e)}function Tx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Lp(n,e)}const Lb=["xxl","xl","lg","md","sm","xs"],Ub="xs",Hu=S.createContext({prefixes:{},breakpoints:Lb,minBreakpoint:Ub}),{Consumer:K3,Provider:Y3}=Hu;function Ee(n,e){const{prefixes:t}=S.useContext(Hu);return n||t[e]||e}function Rg(){const{breakpoints:n}=S.useContext(Hu);return n}function Cg(){const{minBreakpoint:n}=S.useContext(Hu);return n}function bx(){const{dir:n}=S.useContext(Hu);return n==="rtl"}function xh(n){return n&&n.ownerDocument||document}function wx(n){var e=xh(n);return e&&e.defaultView||window}function Sx(n,e){return wx(n).getComputedStyle(n,e)}var Ax=/([A-Z])/g;function Rx(n){return n.replace(Ax,"-$1").toLowerCase()}var Cx=/^ms-/;function If(n){return Rx(n).replace(Cx,"-ms-")}var Ix=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xx(n){return!!(n&&Ix.test(n))}function hi(n,e){var t="",a="";if(typeof e=="string")return n.style.getPropertyValue(If(e))||Sx(n).getPropertyValue(If(e));Object.keys(e).forEach(function(s){var l=e[s];!l&&l!==0?n.style.removeProperty(If(s)):xx(s)?a+=s+"("+l+") ":t+=If(s)+": "+l+";"}),a&&(t+="transform: "+a+";"),n.style.cssText+=";"+t}var fp={exports:{}},hp,gE;function Nx(){if(gE)return hp;gE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hp=n,hp}var dp,yE;function Ox(){if(yE)return dp;yE=1;var n=Nx();function e(){}function t(){}return t.resetWarningCache=e,dp=function(){function a(c,d,m,g,v,b){if(b!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}a.isRequired=a;function s(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},dp}var vE;function Dx(){return vE||(vE=1,fp.exports=Ox()()),fp.exports}var Mx=Dx();const di=Lu(Mx),_E={disabled:!1},jb=Ne.createContext(null);var kx=function(e){return e.scrollTop},hu="unmounted",ra="exited",er="entering",si="entered",Cu="exiting",bi=function(n){Tx(e,n);function e(a,s){var l;l=n.call(this,a,s)||this;var c=s,d=c&&!c.isMounting?a.enter:a.appear,m;return l.appearStatus=null,a.in?d?(m=ra,l.appearStatus=er):m=si:a.unmountOnExit||a.mountOnEnter?m=hu:m=ra,l.state={status:m},l.nextCallback=null,l}e.getDerivedStateFromProps=function(s,l){var c=s.in;return c&&l.status===hu?{status:ra}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var l=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==er&&c!==si&&(l=er):(c===er||c===si)&&(l=Cu)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,l,c,d;return l=c=d=s,s!=null&&typeof s!="number"&&(l=s.exit,c=s.enter,d=s.appear!==void 0?s.appear:c),{exit:l,enter:c,appear:d}},t.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===er){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Ao.findDOMNode(this);c&&kx(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ra&&this.setState({status:hu})},t.performEnter=function(s){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:s,m=this.props.nodeRef?[d]:[Ao.findDOMNode(this),d],g=m[0],v=m[1],b=this.getTimeouts(),T=d?b.appear:b.enter;if(!s&&!c||_E.disabled){this.safeSetState({status:si},function(){l.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:er},function(){l.props.onEntering(g,v),l.onTransitionEnd(T,function(){l.safeSetState({status:si},function(){l.props.onEntered(g,v)})})})},t.performExit=function(){var s=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:Ao.findDOMNode(this);if(!l||_E.disabled){this.safeSetState({status:ra},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Cu},function(){s.props.onExiting(d),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:ra},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},t.setNextCallback=function(s){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,s(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(s,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Ao.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=m[0],v=m[1];this.props.addEndListener(g,v)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===hu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=Pb(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ne.createElement(jb.Provider,{value:null},typeof c=="function"?c(s,d):Ne.cloneElement(Ne.Children.only(c),d))},e}(Ne.Component);bi.contextType=jb;bi.propTypes={};function _o(){}bi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_o,onEntering:_o,onEntered:_o,onExit:_o,onExiting:_o,onExited:_o};bi.UNMOUNTED=hu;bi.EXITED=ra;bi.ENTERING=er;bi.ENTERED=si;bi.EXITING=Cu;function Vx(n){return n.code==="Escape"||n.keyCode===27}function Px(){const n=S.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function qo(n){if(!n||typeof n=="function")return null;const{major:e}=Px();return e>=19?n.props.ref:n.ref}const Fo=!!(typeof window<"u"&&window.document&&window.document.createElement);var Up=!1,jp=!1;try{var mp={get passive(){return Up=!0},get once(){return jp=Up=!0}};Fo&&(window.addEventListener("test",mp,mp),window.removeEventListener("test",mp,!0))}catch{}function Bb(n,e,t,a){if(a&&typeof a!="boolean"&&!jp){var s=a.once,l=a.capture,c=t;!jp&&s&&(c=t.__once||function d(m){this.removeEventListener(e,d,l),t.call(this,m)},t.__once=c),n.addEventListener(e,c,Up?a:l)}n.addEventListener(e,t,a)}function Bp(n,e,t,a){var s=a&&typeof a!="boolean"?a.capture:a;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function Wf(n,e,t,a){return Bb(n,e,t,a),function(){Bp(n,e,t,a)}}function Lx(n,e,t,a){if(a===void 0&&(a=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,a),n.dispatchEvent(s)}}function Ux(n){var e=hi(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function jx(n,e,t){t===void 0&&(t=5);var a=!1,s=setTimeout(function(){a||Lx(n,"transitionend",!0)},e+t),l=Wf(n,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(s),l()}}function zb(n,e,t,a){t==null&&(t=Ux(n)||0);var s=jx(n,t,a),l=Wf(n,"transitionend",e);return function(){s(),l()}}function EE(n,e){const t=hi(n,e)||"",a=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*a}function Ig(n,e){const t=EE(n,"transitionDuration"),a=EE(n,"transitionDelay"),s=zb(n,l=>{l.target===n&&(s(),e(l))},t+a)}function cu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function Hb(n){n.offsetHeight}const TE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Bx(n,e){const t=TE(n),a=TE(e);return s=>{t&&t(s),a&&a(s)}}function qb(n,e){return S.useMemo(()=>Bx(n,e),[n,e])}function zx(n){return n&&"setState"in n?Ao.findDOMNode(n):n??null}const Nh=Ne.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:a,onExiting:s,onExited:l,addEndListener:c,children:d,childRef:m,...g},v)=>{const b=S.useRef(null),T=qb(b,m),N=oe=>{T(zx(oe))},I=oe=>O=>{oe&&b.current&&oe(b.current,O)},B=S.useCallback(I(n),[n]),k=S.useCallback(I(e),[e]),q=S.useCallback(I(t),[t]),Y=S.useCallback(I(a),[a]),z=S.useCallback(I(s),[s]),K=S.useCallback(I(l),[l]),ee=S.useCallback(I(c),[c]);return w.jsx(bi,{ref:v,...g,onEnter:B,onEntered:q,onEntering:k,onExit:Y,onExited:K,onExiting:z,addEndListener:ee,nodeRef:b,children:typeof d=="function"?(oe,O)=>d(oe,{...O,ref:N}):Ne.cloneElement(d,{ref:N})})});Nh.displayName="TransitionWrapper";const Hx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function qx(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,a=e[t],s=Hx[n];return a+parseInt(hi(e,s[0]),10)+parseInt(hi(e,s[1]),10)}const Fx={[ra]:"collapse",[Cu]:"collapsing",[er]:"collapsing",[si]:"collapse show"},Fb=Ne.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:a,onExiting:s,className:l,children:c,dimension:d="height",in:m=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:b=!1,appear:T=!1,getDimensionValue:N=qx,...I},B)=>{const k=typeof d=="function"?d():d,q=S.useMemo(()=>cu(oe=>{oe.style[k]="0"},n),[k,n]),Y=S.useMemo(()=>cu(oe=>{const O=`scroll${k[0].toUpperCase()}${k.slice(1)}`;oe.style[k]=`${oe[O]}px`},e),[k,e]),z=S.useMemo(()=>cu(oe=>{oe.style[k]=null},t),[k,t]),K=S.useMemo(()=>cu(oe=>{oe.style[k]=`${N(k,oe)}px`,Hb(oe)},a),[a,N,k]),ee=S.useMemo(()=>cu(oe=>{oe.style[k]=null},s),[k,s]);return w.jsx(Nh,{ref:B,addEndListener:Ig,...I,"aria-expanded":I.role?m:null,onEnter:q,onEntering:Y,onEntered:z,onExit:K,onExiting:ee,childRef:qo(c),in:m,timeout:g,mountOnEnter:v,unmountOnExit:b,appear:T,children:(oe,O)=>Ne.cloneElement(c,{...O,className:ge(l,c.props.className,Fx[oe],k==="width"&&"collapse-horizontal")})})});Fb.displayName="Collapse";function $x(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function ms(n){const e=$x(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const qu=n=>S.forwardRef((e,t)=>w.jsx("div",{...e,ref:t,className:ge(e.className,n)})),$b=qu("h4");$b.displayName="DivStyledAsH4";const Gb=S.forwardRef(({className:n,bsPrefix:e,as:t=$b,...a},s)=>(e=Ee(e,"alert-heading"),w.jsx(t,{ref:s,className:ge(n,e),...a})));Gb.displayName="AlertHeading";function Gx(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function oi(n){const e=Gx(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function Kx(){const n=S.useRef(!0),e=S.useRef(()=>n.current);return S.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Yx(n){const e=S.useRef(null);return S.useEffect(()=>{e.current=n}),e.current}const Qx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Xx=typeof document<"u",bE=Xx||Qx?S.useLayoutEffect:S.useEffect,Wx=["as","disabled"];function Zx(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function Jx(n){return!n||n.trim()==="#"}function xg({tagName:n,disabled:e,href:t,target:a,rel:s,role:l,onClick:c,tabIndex:d=0,type:m}){n||(t!=null||a!=null||s!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:m||"button",disabled:e},g];const v=T=>{if((e||n==="a"&&Jx(t))&&T.preventDefault(),e){T.stopPropagation();return}c==null||c(T)},b=T=>{T.key===" "&&(T.preventDefault(),v(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?a:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:v,onKeyDown:b},g]}const Kb=S.forwardRef((n,e)=>{let{as:t,disabled:a}=n,s=Zx(n,Wx);const[l,{tagName:c}]=xg(Object.assign({tagName:t,disabled:a},s));return w.jsx(c,Object.assign({},s,l,{ref:e}))});Kb.displayName="Button";const e2=["onKeyDown"];function t2(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function n2(n){return!n||n.trim()==="#"}const Ng=S.forwardRef((n,e)=>{let{onKeyDown:t}=n,a=t2(n,e2);const[s]=xg(Object.assign({tagName:"a"},a)),l=oi(c=>{s.onKeyDown(c),t==null||t(c)});return n2(a.href)||a.role==="button"?w.jsx("a",Object.assign({ref:e},a,s,{onKeyDown:l})):w.jsx("a",Object.assign({ref:e},a,{onKeyDown:t}))});Ng.displayName="Anchor";const Yb=S.forwardRef(({className:n,bsPrefix:e,as:t=Ng,...a},s)=>(e=Ee(e,"alert-link"),w.jsx(t,{ref:s,className:ge(n,e),...a})));Yb.displayName="AlertLink";const r2={[er]:"show",[si]:"show"},Oo=S.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:a,...s},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=S.useCallback((m,g)=>{Hb(m),a==null||a(m,g)},[a]);return w.jsx(Nh,{ref:l,addEndListener:Ig,...c,onEnter:d,childRef:qo(e),children:(m,g)=>S.cloneElement(e,{...g,className:ge("fade",n,e.props.className,r2[m],t[m])})})});Oo.displayName="Fade";const i2={"aria-label":di.string,onClick:di.func,variant:di.oneOf(["white"])},Oh=S.forwardRef(({className:n,variant:e,"aria-label":t="Close",...a},s)=>w.jsx("button",{ref:s,type:"button",className:ge("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...a}));Oh.displayName="CloseButton";Oh.propTypes=i2;const Qb=S.forwardRef((n,e)=>{const{bsPrefix:t,show:a=!0,closeLabel:s="Close alert",closeVariant:l,className:c,children:d,variant:m="primary",onClose:g,dismissible:v,transition:b=Oo,...T}=Ag(n,{show:"onClose"}),N=Ee(t,"alert"),I=ms(q=>{g&&g(!1,q)}),B=b===!0?Oo:b,k=w.jsxs("div",{role:"alert",...B?void 0:T,ref:e,className:ge(c,N,m&&`${N}-${m}`,v&&`${N}-dismissible`),children:[v&&w.jsx(Oh,{onClick:I,"aria-label":s,variant:l}),d]});return B?w.jsx(B,{unmountOnExit:!0,...T,ref:void 0,in:a,children:k}):a?k:null});Qb.displayName="Alert";const zp=Object.assign(Qb,{Link:Yb,Heading:Gb}),Xb=S.forwardRef(({bsPrefix:n,bg:e="primary",pill:t=!1,text:a,className:s,as:l="span",...c},d)=>{const m=Ee(n,"badge");return w.jsx(l,{ref:d,...c,className:ge(s,m,t&&"rounded-pill",a&&`text-${a}`,e&&`bg-${e}`)})});Xb.displayName="Badge";const bn=S.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:a,active:s=!1,disabled:l=!1,className:c,...d},m)=>{const g=Ee(e,"btn"),[v,{tagName:b}]=xg({tagName:n,disabled:l,...d}),T=b;return w.jsx(T,{...v,...d,ref:m,disabled:l,className:ge(c,g,s&&"active",t&&`${g}-${t}`,a&&`${g}-${a}`,d.href&&l&&"disabled")})});bn.displayName="Button";const Og=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"card-body"),w.jsx(t,{ref:s,className:ge(n,e),...a})));Og.displayName="CardBody";const Wb=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"card-footer"),w.jsx(t,{ref:s,className:ge(n,e),...a})));Wb.displayName="CardFooter";const Dg=S.createContext(null);Dg.displayName="CardHeaderContext";const Zb=S.forwardRef(({bsPrefix:n,className:e,as:t="div",...a},s)=>{const l=Ee(n,"card-header"),c=S.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return w.jsx(Dg.Provider,{value:c,children:w.jsx(t,{ref:s,...a,className:ge(e,l)})})});Zb.displayName="CardHeader";const Jb=S.forwardRef(({bsPrefix:n,className:e,variant:t,as:a="img",...s},l)=>{const c=Ee(n,"card-img");return w.jsx(a,{ref:l,className:ge(t?`${c}-${t}`:c,e),...s})});Jb.displayName="CardImg";const e1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"card-img-overlay"),w.jsx(t,{ref:s,className:ge(n,e),...a})));e1.displayName="CardImgOverlay";const t1=S.forwardRef(({className:n,bsPrefix:e,as:t="a",...a},s)=>(e=Ee(e,"card-link"),w.jsx(t,{ref:s,className:ge(n,e),...a})));t1.displayName="CardLink";const a2=qu("h6"),n1=S.forwardRef(({className:n,bsPrefix:e,as:t=a2,...a},s)=>(e=Ee(e,"card-subtitle"),w.jsx(t,{ref:s,className:ge(n,e),...a})));n1.displayName="CardSubtitle";const r1=S.forwardRef(({className:n,bsPrefix:e,as:t="p",...a},s)=>(e=Ee(e,"card-text"),w.jsx(t,{ref:s,className:ge(n,e),...a})));r1.displayName="CardText";const s2=qu("h5"),i1=S.forwardRef(({className:n,bsPrefix:e,as:t=s2,...a},s)=>(e=Ee(e,"card-title"),w.jsx(t,{ref:s,className:ge(n,e),...a})));i1.displayName="CardTitle";const a1=S.forwardRef(({bsPrefix:n,className:e,bg:t,text:a,border:s,body:l=!1,children:c,as:d="div",...m},g)=>{const v=Ee(n,"card");return w.jsx(d,{ref:g,...m,className:ge(e,v,t&&`bg-${t}`,a&&`text-${a}`,s&&`border-${s}`),children:l?w.jsx(Og,{children:c}):c})});a1.displayName="Card";const Ke=Object.assign(a1,{Img:Jb,Title:i1,Subtitle:n1,Body:Og,Link:t1,Text:r1,Header:Zb,Footer:Wb,ImgOverlay:e1});function o2(n){const e=S.useRef(n);return e.current=n,e}function l2(n){const e=o2(n);S.useEffect(()=>()=>e.current(),[])}function u2(n,e){return S.Children.toArray(n).some(t=>S.isValidElement(t)&&t.type===e)}function c2({as:n,bsPrefix:e,className:t,...a}){e=Ee(e,"col");const s=Rg(),l=Cg(),c=[],d=[];return s.forEach(m=>{const g=a[m];delete a[m];let v,b,T;typeof g=="object"&&g!=null?{span:v,offset:b,order:T}=g:v=g;const N=m!==l?`-${m}`:"";v&&c.push(v===!0?`${e}${N}`:`${e}${N}-${v}`),T!=null&&d.push(`order${N}-${T}`),b!=null&&d.push(`offset${N}-${b}`)}),[{...a,className:ge(t,...c,...d)},{as:n,bsPrefix:e,spans:c}]}const Mn=S.forwardRef((n,e)=>{const[{className:t,...a},{as:s="div",bsPrefix:l,spans:c}]=c2(n);return w.jsx(s,{...a,ref:e,className:ge(t,!c.length&&l)})});Mn.displayName="Col";const ua=S.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:a,...s},l)=>{const c=Ee(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return w.jsx(t,{ref:l,...s,className:ge(a,e?`${c}${d}`:c)})});ua.displayName="Container";var f2=Function.prototype.bind.call(Function.prototype.call,[].slice);function ls(n,e){return f2(n.querySelectorAll(e))}function h2(){const[,n]=S.useReducer(e=>e+1,0);return n}function wE(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const Zf=S.createContext(null),Mg=(n,e=null)=>n!=null?String(n):e||null,kg=S.createContext(null);kg.displayName="NavContext";const d2="data-rr-ui-",m2="rrUi";function Dh(n){return`${d2}${n}`}function p2(n){return`${m2}${n}`}const s1=S.createContext(Fo?window:void 0);s1.Provider;function Vg(){return S.useContext(s1)}const g2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",y2=typeof document<"u",v2=y2||g2?S.useLayoutEffect:S.useEffect,o1=S.createContext(null);o1.displayName="InputGroupContext";const $o=S.createContext(null);$o.displayName="NavbarContext";const _2={type:di.string,tooltip:di.bool,as:di.elementType},Mh=S.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:a=!1,...s},l)=>w.jsx(n,{...s,ref:l,className:ge(e,`${t}-${a?"tooltip":"feedback"}`)}));Mh.displayName="Feedback";Mh.propTypes=_2;const yi=S.createContext({}),Fu=S.forwardRef(({id:n,bsPrefix:e,className:t,type:a="checkbox",isValid:s=!1,isInvalid:l=!1,as:c="input",...d},m)=>{const{controlId:g}=S.useContext(yi);return e=Ee(e,"form-check-input"),w.jsx(c,{...d,ref:m,type:a,id:n||g,className:ge(t,e,s&&"is-valid",l&&"is-invalid")})});Fu.displayName="FormCheckInput";const Jf=S.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...a},s)=>{const{controlId:l}=S.useContext(yi);return n=Ee(n,"form-check-label"),w.jsx("label",{...a,ref:s,htmlFor:t||l,className:ge(e,n)})});Jf.displayName="FormCheckLabel";const l1=S.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:a=!1,reverse:s=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:g,feedbackType:v,className:b,style:T,title:N="",type:I="checkbox",label:B,children:k,as:q="input",...Y},z)=>{e=Ee(e,"form-check"),t=Ee(t,"form-switch");const{controlId:K}=S.useContext(yi),ee=S.useMemo(()=>({controlId:n||K}),[K,n]),oe=!k&&B!=null&&B!==!1||u2(k,Jf),O=w.jsx(Fu,{...Y,type:I==="switch"?"checkbox":I,ref:z,isValid:c,isInvalid:d,disabled:l,as:q});return w.jsx(yi.Provider,{value:ee,children:w.jsx("div",{style:T,className:ge(b,oe&&e,a&&`${e}-inline`,s&&`${e}-reverse`,I==="switch"&&t),children:k||w.jsxs(w.Fragment,{children:[O,oe&&w.jsx(Jf,{title:N,children:B}),g&&w.jsx(Mh,{type:v,tooltip:m,children:g})]})})})});l1.displayName="FormCheck";const eh=Object.assign(l1,{Input:Fu,Label:Jf}),u1=S.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:a,id:s,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:m,readOnly:g,as:v="input",...b},T)=>{const{controlId:N}=S.useContext(yi);return n=Ee(n,"form-control"),w.jsx(v,{...b,type:e,size:a,ref:T,readOnly:g,id:s||N,className:ge(l,m?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});u1.displayName="FormControl";const E2=Object.assign(u1,{Feedback:Mh}),c1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"form-floating"),w.jsx(t,{ref:s,className:ge(n,e),...a})));c1.displayName="FormFloating";const Pg=S.forwardRef(({controlId:n,as:e="div",...t},a)=>{const s=S.useMemo(()=>({controlId:n}),[n]);return w.jsx(yi.Provider,{value:s,children:w.jsx(e,{...t,ref:a})})});Pg.displayName="FormGroup";const f1=S.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:a=!1,className:s,htmlFor:l,...c},d)=>{const{controlId:m}=S.useContext(yi);e=Ee(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const v=ge(s,e,a&&"visually-hidden",t&&g);return l=l||m,t?w.jsx(Mn,{ref:d,as:"label",className:v,htmlFor:l,...c}):w.jsx(n,{ref:d,className:v,htmlFor:l,...c})});f1.displayName="FormLabel";const h1=S.forwardRef(({bsPrefix:n,className:e,id:t,...a},s)=>{const{controlId:l}=S.useContext(yi);return n=Ee(n,"form-range"),w.jsx("input",{...a,type:"range",ref:s,className:ge(e,n),id:t||l})});h1.displayName="FormRange";const d1=S.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:a,isValid:s=!1,isInvalid:l=!1,id:c,...d},m)=>{const{controlId:g}=S.useContext(yi);return n=Ee(n,"form-select"),w.jsx("select",{...d,size:t,ref:m,className:ge(a,n,e&&`${n}-${e}`,s&&"is-valid",l&&"is-invalid"),id:c||g})});d1.displayName="FormSelect";const m1=S.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:a,...s},l)=>(n=Ee(n,"form-text"),w.jsx(t,{...s,ref:l,className:ge(e,n,a&&"text-muted")})));m1.displayName="FormText";const p1=S.forwardRef((n,e)=>w.jsx(eh,{...n,ref:e,type:"switch"}));p1.displayName="Switch";const T2=Object.assign(p1,{Input:eh.Input,Label:eh.Label}),g1=S.forwardRef(({bsPrefix:n,className:e,children:t,controlId:a,label:s,...l},c)=>(n=Ee(n,"form-floating"),w.jsxs(Pg,{ref:c,className:ge(e,n),controlId:a,...l,children:[t,w.jsx("label",{htmlFor:a,children:s})]})));g1.displayName="FloatingLabel";const b2={_ref:di.any,validated:di.bool,as:di.elementType},Lg=S.forwardRef(({className:n,validated:e,as:t="form",...a},s)=>w.jsx(t,{...a,ref:s,className:ge(n,e&&"was-validated")}));Lg.displayName="Form";Lg.propTypes=b2;const Je=Object.assign(Lg,{Group:Pg,Control:E2,Floating:c1,Check:eh,Switch:T2,Label:f1,Text:m1,Range:h1,Select:d1,FloatingLabel:g1}),kh=S.forwardRef(({className:n,bsPrefix:e,as:t="span",...a},s)=>(e=Ee(e,"input-group-text"),w.jsx(t,{ref:s,className:ge(n,e),...a})));kh.displayName="InputGroupText";const w2=n=>w.jsx(kh,{children:w.jsx(Fu,{type:"checkbox",...n})}),S2=n=>w.jsx(kh,{children:w.jsx(Fu,{type:"radio",...n})}),y1=S.forwardRef(({bsPrefix:n,size:e,hasValidation:t,className:a,as:s="div",...l},c)=>{n=Ee(n,"input-group");const d=S.useMemo(()=>({}),[]);return w.jsx(o1.Provider,{value:d,children:w.jsx(s,{ref:c,...l,className:ge(a,n,e&&`${n}-${e}`,t&&"has-validation")})})});y1.displayName="InputGroup";const SE=Object.assign(y1,{Text:kh,Radio:S2,Checkbox:w2}),AE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function A2(n,e){const t=AE(n),a=AE(e);return s=>{t&&t(s),a&&a(s)}}function Vh(n,e){return S.useMemo(()=>A2(n,e),[n,e])}const v1=S.createContext(null),R2=["as","active","eventKey"];function C2(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function _1({key:n,onClick:e,active:t,id:a,role:s,disabled:l}){const c=S.useContext(Zf),d=S.useContext(kg),m=S.useContext(v1);let g=t;const v={role:s};if(d){!s&&d.role==="tablist"&&(v.role="tab");const b=d.getControllerId(n??null),T=d.getControlledId(n??null);v[Dh("event-key")]=n,v.id=b||a,g=t==null&&n!=null?d.activeKey===n:t,(g||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(v["aria-controls"]=T)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),l&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=oi(b=>{l||(e==null||e(b),n!=null&&c&&!b.isPropagationStopped()&&c(n,b))}),[v,{isActive:g}]}const E1=S.forwardRef((n,e)=>{let{as:t=Kb,active:a,eventKey:s}=n,l=C2(n,R2);const[c,d]=_1(Object.assign({key:Mg(s,l.href),active:a},l));return c[Dh("active")]=d.isActive,w.jsx(t,Object.assign({},l,c,{ref:e}))});E1.displayName="NavItem";const I2=["as","onSelect","activeKey","role","onKeyDown"];function x2(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}const RE=()=>{},CE=Dh("event-key"),T1=S.forwardRef((n,e)=>{let{as:t="div",onSelect:a,activeKey:s,role:l,onKeyDown:c}=n,d=x2(n,I2);const m=h2(),g=S.useRef(!1),v=S.useContext(Zf),b=S.useContext(v1);let T,N;b&&(l=l||"tablist",s=b.activeKey,T=b.getControlledId,N=b.getControllerId);const I=S.useRef(null),B=z=>{const K=I.current;if(!K)return null;const ee=ls(K,`[${CE}]:not([aria-disabled=true])`),oe=K.querySelector("[aria-selected=true]");if(!oe||oe!==document.activeElement)return null;const O=ee.indexOf(oe);if(O===-1)return null;let C=O+z;return C>=ee.length&&(C=0),C<0&&(C=ee.length-1),ee[C]},k=(z,K)=>{z!=null&&(a==null||a(z,K),v==null||v(z,K))},q=z=>{if(c==null||c(z),!b)return;let K;switch(z.key){case"ArrowLeft":case"ArrowUp":K=B(-1);break;case"ArrowRight":case"ArrowDown":K=B(1);break;default:return}K&&(z.preventDefault(),k(K.dataset[p2("EventKey")]||null,z),g.current=!0,m())};S.useEffect(()=>{if(I.current&&g.current){const z=I.current.querySelector(`[${CE}][aria-selected=true]`);z==null||z.focus()}g.current=!1});const Y=Vh(e,I);return w.jsx(Zf.Provider,{value:k,children:w.jsx(kg.Provider,{value:{role:l,activeKey:Mg(s),getControlledId:T||RE,getControllerId:N||RE},children:w.jsx(t,Object.assign({},d,{onKeyDown:q,ref:Y,role:l}))})})});T1.displayName="Nav";const N2=Object.assign(T1,{Item:E1});var xf;function IE(n){if((!xf&&xf!==0||n)&&Fo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),xf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return xf}function O2(){return S.useState(null)}function pp(n){n===void 0&&(n=xh());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function D2(n){const e=S.useRef(n);return e.current=n,e}function M2(n){const e=D2(n);S.useEffect(()=>()=>e.current(),[])}function k2(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const xE=Dh("modal-open");class Ug{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:a=!1}={}){this.handleContainerOverflow=t,this.isRTL=a,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return k2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[a]:s.style[a]},e.scrollBarWidth&&(t[a]=`${parseInt(hi(s,a)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(xE,""),hi(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(xE),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gp=(n,e)=>Fo?n==null?(e||xh()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function V2(n,e){const t=Vg(),[a,s]=S.useState(()=>gp(n,t==null?void 0:t.document));if(!a){const l=gp(n);l&&s(l)}return S.useEffect(()=>{},[e,a]),S.useEffect(()=>{const l=gp(n);l!==a&&s(l)},[n,a]),a}function P2({children:n,in:e,onExited:t,mountOnEnter:a,unmountOnExit:s}){const l=S.useRef(null),c=S.useRef(e),d=oi(t);S.useEffect(()=>{e?c.current=!0:d(l.current)},[e,d]);const m=Vh(l,qo(n)),g=S.cloneElement(n,{ref:m});return e?g:s||!c.current&&a?null:g}const L2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function U2(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function j2(n){let{onEnter:e,onEntering:t,onEntered:a,onExit:s,onExiting:l,onExited:c,addEndListener:d,children:m}=n,g=U2(n,L2);const v=S.useRef(null),b=Vh(v,qo(m)),T=K=>ee=>{K&&v.current&&K(v.current,ee)},N=S.useCallback(T(e),[e]),I=S.useCallback(T(t),[t]),B=S.useCallback(T(a),[a]),k=S.useCallback(T(s),[s]),q=S.useCallback(T(l),[l]),Y=S.useCallback(T(c),[c]),z=S.useCallback(T(d),[d]);return Object.assign({},g,{nodeRef:v},e&&{onEnter:N},t&&{onEntering:I},a&&{onEntered:B},s&&{onExit:k},l&&{onExiting:q},c&&{onExited:Y},d&&{addEndListener:z},{children:typeof m=="function"?(K,ee)=>m(K,Object.assign({},ee,{ref:b})):S.cloneElement(m,{ref:b})})}const B2=["component"];function z2(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}const H2=S.forwardRef((n,e)=>{let{component:t}=n,a=z2(n,B2);const s=j2(a);return w.jsx(t,Object.assign({ref:e},s))});function q2({in:n,onTransition:e}){const t=S.useRef(null),a=S.useRef(!0),s=oi(e);return bE(()=>{if(!t.current)return;let l=!1;return s({in:n,element:t.current,initial:a.current,isStale:()=>l}),()=>{l=!0}},[n,s]),bE(()=>(a.current=!1,()=>{a.current=!0}),[]),t}function F2({children:n,in:e,onExited:t,onEntered:a,transition:s}){const[l,c]=S.useState(!e);e&&l&&c(!1);const d=q2({in:!!e,onTransition:g=>{const v=()=>{g.isStale()||(g.in?a==null||a(g.element,g.initial):(c(!0),t==null||t(g.element)))};Promise.resolve(s(g)).then(v,b=>{throw g.in||c(!0),b})}}),m=Vh(d,qo(n));return l&&!e?null:S.cloneElement(n,{ref:m})}function NE(n,e,t){return n?w.jsx(H2,Object.assign({},t,{component:n})):e?w.jsx(F2,Object.assign({},t,{transition:e})):w.jsx(P2,Object.assign({},t))}const $2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function G2(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}let yp;function K2(n){return yp||(yp=new Ug({ownerDocument:n==null?void 0:n.document})),yp}function Y2(n){const e=Vg(),t=n||K2(e),a=S.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>t.add(a.current),remove:()=>t.remove(a.current),isTopModal:()=>t.isTopModal(a.current),setDialogRef:S.useCallback(s=>{a.current.dialog=s},[]),setBackdropRef:S.useCallback(s=>{a.current.backdrop=s},[])})}const b1=S.forwardRef((n,e)=>{let{show:t=!1,role:a="dialog",className:s,style:l,children:c,backdrop:d=!0,keyboard:m=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:b,runTransition:T,backdropTransition:N,runBackdropTransition:I,autoFocus:B=!0,enforceFocus:k=!0,restoreFocus:q=!0,restoreFocusOptions:Y,renderDialog:z,renderBackdrop:K=We=>w.jsx("div",Object.assign({},We)),manager:ee,container:oe,onShow:O,onHide:C=()=>{},onExit:x,onExited:V,onExiting:L,onEnter:j,onEntering:D,onEntered:tt}=n,Ye=G2(n,$2);const W=Vg(),le=V2(oe),fe=Y2(ee),Ve=Kx(),P=Yx(t),[ne,ue]=S.useState(!t),se=S.useRef(null);S.useImperativeHandle(e,()=>fe,[fe]),Fo&&!P&&t&&(se.current=pp(W==null?void 0:W.document)),t&&ne&&ue(!1);const he=oi(()=>{if(fe.add(),ln.current=Wf(document,"keydown",Xe),Zt.current=Wf(document,"focus",()=>setTimeout(be),!0),O&&O(),B){var We,Dr;const Lt=pp((We=(Dr=fe.dialog)==null?void 0:Dr.ownerDocument)!=null?We:W==null?void 0:W.document);fe.dialog&&Lt&&!wE(fe.dialog,Lt)&&(se.current=Lt,fe.dialog.focus())}}),Re=oi(()=>{if(fe.remove(),ln.current==null||ln.current(),Zt.current==null||Zt.current(),q){var We;(We=se.current)==null||We.focus==null||We.focus(Y),se.current=null}});S.useEffect(()=>{!t||!le||he()},[t,le,he]),S.useEffect(()=>{ne&&Re()},[ne,Re]),M2(()=>{Re()});const be=oi(()=>{if(!k||!Ve()||!fe.isTopModal())return;const We=pp(W==null?void 0:W.document);fe.dialog&&We&&!wE(fe.dialog,We)&&fe.dialog.focus()}),mt=oi(We=>{We.target===We.currentTarget&&(g==null||g(We),d===!0&&C())}),Xe=oi(We=>{m&&Vx(We)&&fe.isTopModal()&&(v==null||v(We),We.defaultPrevented||C())}),Zt=S.useRef(),ln=S.useRef(),mn=(...We)=>{ue(!0),V==null||V(...We)};if(!le)return null;const pn=Object.assign({role:a,ref:fe.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},Ye,{style:l,className:s,tabIndex:-1});let Sn=z?z(pn):w.jsx("div",Object.assign({},pn,{children:S.cloneElement(c,{role:"document"})}));Sn=NE(b,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:x,onExiting:L,onExited:mn,onEnter:j,onEntering:D,onEntered:tt,children:Sn});let gn=null;return d&&(gn=K({ref:fe.setBackdropRef,onClick:mt}),gn=NE(N,I,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:gn})),w.jsx(w.Fragment,{children:Ao.createPortal(w.jsxs(w.Fragment,{children:[gn,Sn]}),le)})});b1.displayName="Modal";const w1=Object.assign(b1,{Manager:Ug});function Q2(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function X2(n,e){n.classList?n.classList.add(e):Q2(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function OE(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function W2(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=OE(n.className,e):n.setAttribute("class",OE(n.className&&n.className.baseVal||"",e))}const Eo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class S1 extends Ug{adjustAndStore(e,t,a){const s=t.style[e];t.dataset[e]=s,hi(t,{[e]:`${parseFloat(hi(t,e))+a}px`})}restore(e,t){const a=t.dataset[e];a!==void 0&&(delete t.dataset[e],hi(t,{[e]:a}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(X2(t,"modal-open"),!e.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ls(t,Eo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth)),ls(t,Eo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(s,l,-e.scrollBarWidth)),ls(t,Eo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();W2(t,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ls(t,Eo.FIXED_CONTENT).forEach(l=>this.restore(a,l)),ls(t,Eo.STICKY_CONTENT).forEach(l=>this.restore(s,l)),ls(t,Eo.NAVBAR_TOGGLER).forEach(l=>this.restore(s,l))}}let vp;function A1(n){return vp||(vp=new S1(n)),vp}const R1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"modal-body"),w.jsx(t,{ref:s,className:ge(n,e),...a})));R1.displayName="ModalBody";const jg=S.createContext({onHide(){}}),Bg=S.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:a,size:s,fullscreen:l,children:c,scrollable:d,...m},g)=>{n=Ee(n,"modal");const v=`${n}-dialog`,b=typeof l=="string"?`${n}-fullscreen-${l}`:`${n}-fullscreen`;return w.jsx("div",{...m,ref:g,className:ge(v,e,s&&`${n}-${s}`,a&&`${v}-centered`,d&&`${v}-scrollable`,l&&b),children:w.jsx("div",{className:ge(`${n}-content`,t),children:c})})});Bg.displayName="ModalDialog";const C1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"modal-footer"),w.jsx(t,{ref:s,className:ge(n,e),...a})));C1.displayName="ModalFooter";const zg=S.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:a,children:s,...l},c)=>{const d=S.useContext(jg),m=ms(()=>{d==null||d.onHide(),a==null||a()});return w.jsxs("div",{ref:c,...l,children:[s,t&&w.jsx(Oh,{"aria-label":n,variant:e,onClick:m})]})});zg.displayName="AbstractModalHeader";const I1=S.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:a=!1,...s},l)=>(n=Ee(n,"modal-header"),w.jsx(zg,{ref:l,...s,className:ge(e,n),closeLabel:t,closeButton:a})));I1.displayName="ModalHeader";const Z2=qu("h4"),x1=S.forwardRef(({className:n,bsPrefix:e,as:t=Z2,...a},s)=>(e=Ee(e,"modal-title"),w.jsx(t,{ref:s,className:ge(n,e),...a})));x1.displayName="ModalTitle";function J2(n){return w.jsx(Oo,{...n,timeout:null})}function eN(n){return w.jsx(Oo,{...n,timeout:null})}const N1=S.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:a,contentClassName:s,children:l,dialogAs:c=Bg,"data-bs-theme":d,"aria-labelledby":m,"aria-describedby":g,"aria-label":v,show:b=!1,animation:T=!0,backdrop:N=!0,keyboard:I=!0,onEscapeKeyDown:B,onShow:k,onHide:q,container:Y,autoFocus:z=!0,enforceFocus:K=!0,restoreFocus:ee=!0,restoreFocusOptions:oe,onEntered:O,onExit:C,onExiting:x,onEnter:V,onEntering:L,onExited:j,backdropClassName:D,manager:tt,...Ye},W)=>{const[le,fe]=S.useState({}),[Ve,P]=S.useState(!1),ne=S.useRef(!1),ue=S.useRef(!1),se=S.useRef(null),[he,Re]=O2(),be=qb(W,Re),mt=ms(q),Xe=bx();n=Ee(n,"modal");const Zt=S.useMemo(()=>({onHide:mt}),[mt]);function ln(){return tt||A1({isRTL:Xe})}function mn(_e){if(!Fo)return;const je=ln().getScrollbarWidth()>0,Jt=_e.scrollHeight>xh(_e).documentElement.clientHeight;fe({paddingRight:je&&!Jt?IE():void 0,paddingLeft:!je&&Jt?IE():void 0})}const pn=ms(()=>{he&&mn(he.dialog)});l2(()=>{Bp(window,"resize",pn),se.current==null||se.current()});const Sn=()=>{ne.current=!0},gn=_e=>{ne.current&&he&&_e.target===he.dialog&&(ue.current=!0),ne.current=!1},We=()=>{P(!0),se.current=zb(he.dialog,()=>{P(!1)})},Dr=_e=>{_e.target===_e.currentTarget&&We()},Lt=_e=>{if(N==="static"){Dr(_e);return}if(ue.current||_e.target!==_e.currentTarget){ue.current=!1;return}q==null||q()},Jo=_e=>{I?B==null||B(_e):(_e.preventDefault(),N==="static"&&We())},Ca=(_e,je)=>{_e&&mn(_e),V==null||V(_e,je)},Ai=_e=>{se.current==null||se.current(),C==null||C(_e)},Mr=(_e,je)=>{L==null||L(_e,je),Bb(window,"resize",pn)},el=_e=>{_e&&(_e.style.display=""),j==null||j(_e),Bp(window,"resize",pn)},Ri=S.useCallback(_e=>w.jsx("div",{..._e,className:ge(`${n}-backdrop`,D,!T&&"show")}),[T,D,n]),Ci={...t,...le};Ci.display="block";const Cs=_e=>w.jsx("div",{role:"dialog",..._e,style:Ci,className:ge(e,n,Ve&&`${n}-static`,!T&&"show"),onClick:N?Lt:void 0,onMouseUp:gn,"data-bs-theme":d,"aria-label":v,"aria-labelledby":m,"aria-describedby":g,children:w.jsx(c,{...Ye,onMouseDown:Sn,className:a,contentClassName:s,children:l})});return w.jsx(jg.Provider,{value:Zt,children:w.jsx(w1,{show:b,ref:be,backdrop:N,container:Y,keyboard:!0,autoFocus:z,enforceFocus:K,restoreFocus:ee,restoreFocusOptions:oe,onEscapeKeyDown:Jo,onShow:k,onHide:q,onEnter:Ca,onEntering:Mr,onEntered:O,onExit:Ai,onExiting:x,onExited:el,manager:ln(),transition:T?J2:void 0,backdropTransition:T?eN:void 0,renderBackdrop:Ri,renderDialog:Cs})})});N1.displayName="Modal";const li=Object.assign(N1,{Body:R1,Header:I1,Title:x1,Footer:C1,Dialog:Bg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),O1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"nav-item"),w.jsx(t,{ref:s,className:ge(n,e),...a})));O1.displayName="NavItem";const D1=S.forwardRef(({bsPrefix:n,className:e,as:t=Ng,active:a,eventKey:s,disabled:l=!1,...c},d)=>{n=Ee(n,"nav-link");const[m,g]=_1({key:Mg(s,c.href),active:a,disabled:l,...c});return w.jsx(t,{...c,...m,ref:d,disabled:l,className:ge(e,n,l&&"disabled",g.isActive&&"active")})});D1.displayName="NavLink";const M1=S.forwardRef((n,e)=>{const{as:t="div",bsPrefix:a,variant:s,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:m,className:g,activeKey:v,...b}=Ag(n,{activeKey:"onSelect"}),T=Ee(a,"nav");let N,I,B=!1;const k=S.useContext($o),q=S.useContext(Dg);return k?(N=k.bsPrefix,B=d??!0):q&&({cardHeaderBsPrefix:I}=q),w.jsx(N2,{as:t,ref:e,activeKey:v,className:ge(g,{[T]:!B,[`${N}-nav`]:B,[`${N}-nav-scroll`]:B&&m,[`${I}-${s}`]:!!I,[`${T}-${s}`]:!!s,[`${T}-fill`]:l,[`${T}-justified`]:c}),...b})});M1.displayName="Nav";const os=Object.assign(M1,{Item:O1,Link:D1}),k1=S.forwardRef(({bsPrefix:n,className:e,as:t,...a},s)=>{n=Ee(n,"navbar-brand");const l=t||(a.href?"a":"span");return w.jsx(l,{...a,ref:s,className:ge(e,n)})});k1.displayName="NavbarBrand";const V1=S.forwardRef(({children:n,bsPrefix:e,...t},a)=>{e=Ee(e,"navbar-collapse");const s=S.useContext($o);return w.jsx(Fb,{in:!!(s&&s.expanded),...t,children:w.jsx("div",{ref:a,className:e,children:n})})});V1.displayName="NavbarCollapse";const P1=S.forwardRef(({bsPrefix:n,className:e,children:t,label:a="Toggle navigation",as:s="button",onClick:l,...c},d)=>{n=Ee(n,"navbar-toggler");const{onToggle:m,expanded:g}=S.useContext($o)||{},v=ms(b=>{l&&l(b),m&&m()});return s==="button"&&(c.type="button"),w.jsx(s,{...c,ref:d,onClick:v,"aria-label":a,className:ge(e,n,!g&&"collapsed"),children:t||w.jsx("span",{className:`${n}-icon`})})});P1.displayName="NavbarToggle";const Hp=new WeakMap,DE=(n,e)=>{if(!n||!e)return;const t=Hp.get(e)||new Map;Hp.set(e,t);let a=t.get(n);return a||(a=e.matchMedia(n),a.refCount=0,t.set(a.media,a)),a};function tN(n,e=typeof window>"u"?void 0:window){const t=DE(n,e),[a,s]=S.useState(()=>t?t.matches:!1);return v2(()=>{let l=DE(n,e);if(!l)return s(!1);let c=Hp.get(e);const d=()=>{s(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(c==null||c.delete(l.media)),l=void 0}},[n]),a}function nN(n){const e=Object.keys(n);function t(d,m){return d===m?m:d?`${d} and ${m}`:m}function a(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function s(d){const m=a(d);let g=n[m];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let m=n[d];return typeof m=="number"&&(m=`${m}px`),`(min-width: ${m})`}function c(d,m,g){let v;typeof d=="object"?(v=d,g=m,m=!0):(m=m||!0,v={[d]:m});let b=S.useMemo(()=>Object.entries(v).reduce((T,[N,I])=>((I==="up"||I===!0)&&(T=t(T,l(N))),(I==="down"||I===!0)&&(T=t(T,s(N))),T),""),[JSON.stringify(v)]);return tN(b,g)}return c}const rN=nN({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),L1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...a},s)=>(e=Ee(e,"offcanvas-body"),w.jsx(t,{ref:s,className:ge(n,e),...a})));L1.displayName="OffcanvasBody";const iN={[er]:"show",[si]:"show"},U1=S.forwardRef(({bsPrefix:n,className:e,children:t,in:a=!1,mountOnEnter:s=!1,unmountOnExit:l=!1,appear:c=!1,...d},m)=>(n=Ee(n,"offcanvas"),w.jsx(Nh,{ref:m,addEndListener:Ig,in:a,mountOnEnter:s,unmountOnExit:l,appear:c,...d,childRef:qo(t),children:(g,v)=>S.cloneElement(t,{...v,className:ge(e,t.props.className,(g===er||g===Cu)&&`${n}-toggling`,iN[g])})})));U1.displayName="OffcanvasToggling";const j1=S.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:a=!1,...s},l)=>(n=Ee(n,"offcanvas-header"),w.jsx(zg,{ref:l,...s,className:ge(e,n),closeLabel:t,closeButton:a})));j1.displayName="OffcanvasHeader";const aN=qu("h5"),B1=S.forwardRef(({className:n,bsPrefix:e,as:t=aN,...a},s)=>(e=Ee(e,"offcanvas-title"),w.jsx(t,{ref:s,className:ge(n,e),...a})));B1.displayName="OffcanvasTitle";function sN(n){return w.jsx(U1,{...n})}function oN(n){return w.jsx(Oo,{...n})}const z1=S.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":a,placement:s="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:m=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:b,onHide:T,container:N,autoFocus:I=!0,enforceFocus:B=!0,restoreFocus:k=!0,restoreFocusOptions:q,onEntered:Y,onExit:z,onExiting:K,onEnter:ee,onEntering:oe,onExited:O,backdropClassName:C,manager:x,renderStaticNode:V=!1,...L},j)=>{const D=S.useRef();n=Ee(n,"offcanvas");const[tt,Ye]=S.useState(!1),W=ms(T),le=rN(l||"xs","up");S.useEffect(()=>{Ye(l?c&&!le:c)},[c,l,le]);const fe=S.useMemo(()=>({onHide:W}),[W]);function Ve(){return x||(g?(D.current||(D.current=new S1({handleContainerOverflow:!1})),D.current):A1())}const P=(he,...Re)=>{he&&(he.style.visibility="visible"),ee==null||ee(he,...Re)},ne=(he,...Re)=>{he&&(he.style.visibility=""),O==null||O(...Re)},ue=S.useCallback(he=>w.jsx("div",{...he,className:ge(`${n}-backdrop`,C)}),[C,n]),se=he=>w.jsx("div",{...he,...L,className:ge(e,l?`${n}-${l}`:n,`${n}-${s}`),"aria-labelledby":a,children:t});return w.jsxs(w.Fragment,{children:[!tt&&(l||V)&&se({}),w.jsx(jg.Provider,{value:fe,children:w.jsx(w1,{show:tt,ref:j,backdrop:d,container:N,keyboard:m,autoFocus:I,enforceFocus:B&&!g,restoreFocus:k,restoreFocusOptions:q,onEscapeKeyDown:v,onShow:b,onHide:W,onEnter:P,onEntering:oe,onEntered:Y,onExit:z,onExiting:K,onExited:ne,manager:Ve(),transition:sN,backdropTransition:oN,renderBackdrop:ue,renderDialog:se})})]})});z1.displayName="Offcanvas";const lN=Object.assign(z1,{Body:L1,Header:j1,Title:B1}),H1=S.forwardRef(({onHide:n,...e},t)=>{const a=S.useContext($o),s=ms(()=>{a==null||a.onToggle==null||a.onToggle(),n==null||n()});return w.jsx(lN,{ref:t,show:!!(a!=null&&a.expanded),...e,renderStaticNode:!0,onHide:s})});H1.displayName="NavbarOffcanvas";const q1=S.forwardRef(({className:n,bsPrefix:e,as:t="span",...a},s)=>(e=Ee(e,"navbar-text"),w.jsx(t,{ref:s,className:ge(n,e),...a})));q1.displayName="NavbarText";const F1=S.forwardRef((n,e)=>{const{bsPrefix:t,expand:a=!0,variant:s="light",bg:l,fixed:c,sticky:d,className:m,as:g="nav",expanded:v,onToggle:b,onSelect:T,collapseOnSelect:N=!1,...I}=Ag(n,{expanded:"onToggle"}),B=Ee(t,"navbar"),k=S.useCallback((...z)=>{T==null||T(...z),N&&v&&(b==null||b(!1))},[T,N,v,b]);I.role===void 0&&g!=="nav"&&(I.role="navigation");let q=`${B}-expand`;typeof a=="string"&&(q=`${q}-${a}`);const Y=S.useMemo(()=>({onToggle:()=>b==null?void 0:b(!v),bsPrefix:B,expanded:!!v,expand:a}),[B,v,a,b]);return w.jsx($o.Provider,{value:Y,children:w.jsx(Zf.Provider,{value:k,children:w.jsx(g,{ref:e,...I,className:ge(m,B,a&&q,s&&`${B}-${s}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});F1.displayName="Navbar";const fu=Object.assign(F1,{Brand:k1,Collapse:V1,Offcanvas:H1,Text:q1,Toggle:P1}),hs=S.forwardRef(({bsPrefix:n,className:e,as:t="div",...a},s)=>{const l=Ee(n,"row"),c=Rg(),d=Cg(),m=`${l}-cols`,g=[];return c.forEach(v=>{const b=a[v];delete a[v];let T;b!=null&&typeof b=="object"?{cols:T}=b:T=b;const N=v!==d?`-${v}`:"";T!=null&&g.push(`${m}${N}-${T}`)}),w.jsx(t,{ref:s,...a,className:ge(e,l,...g)})});hs.displayName="Row";const Hg=S.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:a,as:s="div",className:l,...c},d)=>{n=Ee(n,"spinner");const m=`${n}-${t}`;return w.jsx(s,{ref:d,...c,className:ge(l,m,a&&`${m}-${a}`,e&&`text-${e}`)})});Hg.displayName="Spinner";function uN(n,e=Lb,t=Ub){const a=[];return Object.entries(n).forEach(([s,l])=>{l!=null&&(typeof l=="object"?e.forEach(c=>{const d=l[c];if(d!=null){const m=c!==t?`-${c}`:"";a.push(`${s}${m}-${d}`)}}):a.push(`${s}-${l}`))}),a}const $1=S.forwardRef(({as:n="div",bsPrefix:e,className:t,direction:a,gap:s,...l},c)=>{e=Ee(e,a==="horizontal"?"hstack":"vstack");const d=Rg(),m=Cg();return w.jsx(n,{...l,ref:c,className:ge(t,e,...uN({gap:s},d,m))})});$1.displayName="Stack";const qg=S.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:a,borderless:s,hover:l,size:c,variant:d,responsive:m,...g},v)=>{const b=Ee(n,"table"),T=ge(e,b,d&&`${b}-${d}`,c&&`${b}-${c}`,t&&`${b}-${typeof t=="string"?`striped-${t}`:"striped"}`,a&&`${b}-bordered`,s&&`${b}-borderless`,l&&`${b}-hover`),N=w.jsx("table",{...g,className:T,ref:v});if(m){let I=`${b}-responsive`;return typeof m=="string"&&(I=`${I}-${m}`),w.jsx("div",{className:I,children:N})}return N});qg.displayName="Table";const cN=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let s=n.charCodeAt(a);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},fN=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const s=n[t++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[a++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[a++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},K1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,m=s+2<n.length,g=m?n[s+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,N=g&63;m||(N=64,c||(T=64)),a.push(t[v],t[b],t[T],t[N])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(G1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||b==null)throw new hN;const T=l<<2|d>>4;if(a.push(T),g!==64){const N=d<<4&240|g>>2;if(a.push(N),b!==64){const I=g<<6&192|b;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dN=function(n){const e=G1(n);return K1.encodeByteArray(e,!0)},th=function(n){return dN(n).replace(/\./g,"")},Y1=function(n){try{return K1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=()=>mN().__FIREBASE_DEFAULTS__,gN=()=>{if(typeof process>"u"||typeof ME>"u")return;const n=ME.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Y1(n[1]);return e&&JSON.parse(e)},Ph=()=>{try{return cN()||pN()||gN()||yN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q1=n=>{var e,t;return(t=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vN=n=>{const e=Q1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},X1=()=>{var n;return(n=Ph())===null||n===void 0?void 0:n.config},W1=n=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n){return n.endsWith(".cloudworkstations.dev")}async function Z1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[th(JSON.stringify(t)),th(JSON.stringify(c)),""].join(".")}const _u={};function TN(){const n={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?n.emulator.push(e):n.prod.push(e);return n}function bN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kE=!1;function J1(n,e){if(typeof window>"u"||typeof document>"u"||!$u(window.location.host)||_u[n]===e||_u[n]||kE)return;_u[n]=e;function t(T){return`__firebase__banner__${T}`}const a="__firebase__banner",l=TN().prod.length>0;function c(){const T=document.getElementById(a);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{kE=!0,c()},T}function v(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=bN(a),N=t("text"),I=document.getElementById(N)||document.createElement("span"),B=t("learnmore"),k=document.getElementById(B)||document.createElement("a"),q=t("preprendIcon"),Y=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;d(z),v(k,B);const K=g();m(Y,q),z.append(Y,I,k,K),document.body.appendChild(z)}l?(I.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function SN(){var n;const e=(n=Ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IN(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xN(){return!SN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="FirebaseError";class wi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=DN,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?MN(l,a):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new wi(s,d,a)}}function MN(n,e){return n.replace(kN,(t,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const kN=/\{\$([^}]+)}/g;function VN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ps(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const s of t){if(!a.includes(s))return!1;const l=n[s],c=e[s];if(VE(l)&&VE(c)){if(!ps(l,c))return!1}else if(l!==c)return!1}for(const s of a)if(!t.includes(s))return!1;return!0}function VE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function du(n){const e={};return n.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[s,l]=a.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function PN(n,e){const t=new LN(n,e);return t.subscribe.bind(t)}class LN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let s;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:a},s.next===void 0&&(s.next=_p),s.error===void 0&&(s.error=_p),s.complete===void 0&&(s.complete=_p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n){return n&&n._delegate?n._delegate:n}class gs{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new _N;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zN(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(s)}return s}onInit(e,t){var a;const s=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(s))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const s of a)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:BN(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BN(n){return n===us?void 0:n}function zN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const qN={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},FN=Be.INFO,$N={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},GN=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),s=$N[e];if(s)console[s](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=FN,this._logHandler=GN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const KN=(n,e)=>e.some(t=>n instanceof t);let PE,LE;function YN(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QN(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,qp=new WeakMap,tw=new WeakMap,Ep=new WeakMap,$g=new WeakMap;function XN(n){const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ca(n.result)),s()},c=()=>{a(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ew.set(t,n)}).catch(()=>{}),$g.set(e,n),e}function WN(n){if(qp.has(n))return;const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{a(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});qp.set(n,e)}let Fp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ca(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZN(n){Fp=n(Fp)}function JN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(Tp(this),e,...t);return tw.set(a,e.sort?e.sort():[e]),ca(a)}:QN().includes(n)?function(...e){return n.apply(Tp(this),e),ca(ew.get(this))}:function(...e){return ca(n.apply(Tp(this),e))}}function eO(n){return typeof n=="function"?JN(n):(n instanceof IDBTransaction&&WN(n),KN(n,YN())?new Proxy(n,Fp):n)}function ca(n){if(n instanceof IDBRequest)return XN(n);if(Ep.has(n))return Ep.get(n);const e=eO(n);return e!==n&&(Ep.set(n,e),$g.set(e,n)),e}const Tp=n=>$g.get(n);function tO(n,e,{blocked:t,upgrade:a,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=ca(c);return a&&c.addEventListener("upgradeneeded",m=>{a(ca(c.result),m.oldVersion,m.newVersion,ca(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const nO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],bp=new Map;function UE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,s=rO.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(s||nO.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&m.done]))[0]};return bp.set(e,l),l}ZN(n=>({...n,get:(e,t,a)=>UE(e,t)||n.get(e,t,a),has:(e,t)=>!!UE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aO(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function aO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",jE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Fg("@firebase/app"),sO="@firebase/app-compat",oO="@firebase/analytics-compat",lO="@firebase/analytics",uO="@firebase/app-check-compat",cO="@firebase/app-check",fO="@firebase/auth",hO="@firebase/auth-compat",dO="@firebase/database",mO="@firebase/data-connect",pO="@firebase/database-compat",gO="@firebase/functions",yO="@firebase/functions-compat",vO="@firebase/installations",_O="@firebase/installations-compat",EO="@firebase/messaging",TO="@firebase/messaging-compat",bO="@firebase/performance",wO="@firebase/performance-compat",SO="@firebase/remote-config",AO="@firebase/remote-config-compat",RO="@firebase/storage",CO="@firebase/storage-compat",IO="@firebase/firestore",xO="@firebase/ai",NO="@firebase/firestore-compat",OO="firebase",DO="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",MO={[$p]:"fire-core",[sO]:"fire-core-compat",[lO]:"fire-analytics",[oO]:"fire-analytics-compat",[cO]:"fire-app-check",[uO]:"fire-app-check-compat",[fO]:"fire-auth",[hO]:"fire-auth-compat",[dO]:"fire-rtdb",[mO]:"fire-data-connect",[pO]:"fire-rtdb-compat",[gO]:"fire-fn",[yO]:"fire-fn-compat",[vO]:"fire-iid",[_O]:"fire-iid-compat",[EO]:"fire-fcm",[TO]:"fire-fcm-compat",[bO]:"fire-perf",[wO]:"fire-perf-compat",[SO]:"fire-rc",[AO]:"fire-rc-compat",[RO]:"fire-gcs",[CO]:"fire-gcs-compat",[IO]:"fire-fst",[NO]:"fire-fst-compat",[xO]:"fire-vertex","fire-js":"fire-js",[OO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,kO=new Map,Kp=new Map;function BE(n,e){try{n.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Do(n){const e=n.name;if(Kp.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,n);for(const t of nh.values())BE(t,n);for(const t of kO.values())BE(t,n);return!0}function Gg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new Gu("app","Firebase",VO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=DO;function nw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Gp,automaticDataCollectionEnabled:!0},e),s=a.name;if(typeof s!="string"||!s)throw fa.create("bad-app-name",{appName:String(s)});if(t||(t=X1()),!t)throw fa.create("no-options");const l=nh.get(s);if(l){if(ps(t,l.options)&&ps(a,l.config))return l;throw fa.create("duplicate-app",{appName:s})}const c=new HN(s);for(const m of Kp.values())c.addComponent(m);const d=new PO(t,a,c);return nh.set(s,d),d}function rw(n=Gp){const e=nh.get(n);if(!e&&n===Gp&&X1())return nw();if(!e)throw fa.create("no-app",{appName:n});return e}function ha(n,e,t){var a;let s=(a=MO[n])!==null&&a!==void 0?a:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(d.join(" "));return}Do(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="firebase-heartbeat-database",UO=1,Iu="firebase-heartbeat-store";let wp=null;function iw(){return wp||(wp=tO(LO,UO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Iu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fa.create("idb-open",{originalErrorMessage:n.message})})),wp}async function jO(n){try{const t=(await iw()).transaction(Iu),a=await t.objectStore(Iu).get(aw(n));return await t.done,a}catch(e){if(e instanceof wi)vi.warn(e.message);else{const t=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(t.message)}}}async function zE(n,e){try{const a=(await iw()).transaction(Iu,"readwrite");await a.objectStore(Iu).put(e,aw(n)),await a.done}catch(t){if(t instanceof wi)vi.warn(t.message);else{const a=fa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vi.warn(a.message)}}}function aw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1024,zO=30;class HO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FO(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=HE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>zO){const c=$O(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=HE(),{heartbeatsToSend:a,unsentEntries:s}=qO(this._heartbeatsCache.heartbeats),l=th(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vi.warn(t),""}}}function HE(){return new Date().toISOString().substring(0,10)}function qO(n,e=BO){const t=[];let a=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),qE(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),qE(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class FO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qE(n){return th(JSON.stringify({version:2,heartbeats:n})).length}function $O(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n){Do(new gs("platform-logger",e=>new iO(e),"PRIVATE")),Do(new gs("heartbeat",e=>new HO(e),"PRIVATE")),ha($p,jE,n),ha($p,jE,"esm2017"),ha("fire-js","")}GO("");function Kg(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(t[a[s]]=n[a[s]]);return t}function sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KO=sw,ow=new Gu("auth","Firebase",sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Fg("@firebase/auth");function YO(n,...e){rh.logLevel<=Be.WARN&&rh.warn(`Auth (${Go}): ${n}`,...e)}function Bf(n,...e){rh.logLevel<=Be.ERROR&&rh.error(`Auth (${Go}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(n,...e){throw Yg(n,...e)}function Rr(n,...e){return Yg(n,...e)}function lw(n,e,t){const a=Object.assign(Object.assign({},KO()),{[e]:t});return new Gu("auth","Firebase",a).create(e,{appName:n.name})}function mi(n){return lw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return ow.create(n,...e)}function Se(n,e,...t){if(!n)throw Yg(e,...t)}function ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bf(e),new Error(e)}function _i(n,e){n||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function QO(){return FE()==="http:"||FE()==="https:"}function FE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QO()||RN()||"connection"in navigator)?navigator.onLine:!0}function WO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.shortDelay=e,this.longDelay=t,_i(t>e,"Short delay should be less than long delay!"),this.isMobile=wN()||CN()}get(){return XO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n,e){_i(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new Yu(3e4,6e4);function wa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Sa(n,e,t,a,s={}){return cw(n,s,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=Ku(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return AN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&$u(n.emulatorConfig.host)&&(g.credentials="include"),uw.fetch()(await fw(n,n.config.apiHost,t,d),g)})}async function cw(n,e,t){n._canInitEmulator=!1;const a=Object.assign(Object.assign({},ZO),e);try{const s=new nD(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Nf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Nf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Nf(n,"user-disabled",c);const v=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lw(n,v,g);ir(n,v)}}catch(s){if(s instanceof wi)throw s;ir(n,"network-request-failed",{message:String(s)})}}async function Qu(n,e,t,a,s={}){const l=await Sa(n,e,t,a,s);return"mfaPendingCredential"in l&&ir(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function fw(n,e,t,a){const s=`${e}${t}?${a}`,l=n,c=l.config.emulator?Qg(n.config,s):`${n.config.apiScheme}://${s}`;return JO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function tD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),eD.get())})}}function Nf(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const s=Rr(n,e,a);return s.customData._tokenResponse=t,s}function $E(n){return n!==void 0&&n.enterprise!==void 0}class rD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iD(n,e){return Sa(n,"GET","/v2/recaptchaConfig",wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e){return Sa(n,"POST","/v1/accounts:delete",e)}async function ih(n,e){return Sa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sD(n,e=!1){const t=Pt(n),a=await t.getIdToken(e),s=Xg(a);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:a,authTime:Eu(Sp(s.auth_time)),issuedAtTime:Eu(Sp(s.iat)),expirationTime:Eu(Sp(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sp(n){return Number(n)*1e3}function Xg(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Y1(t);return s?JSON.parse(s):(Bf("Failed to decode base64 JWT payload"),null)}catch(s){return Bf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function GE(n){const e=Xg(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof wi&&oD(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function oD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(n){var e;const t=n.auth,a=await n.getIdToken(),s=await xu(n,ih(t,{idToken:a}));Se(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?hw(l.providerUserInfo):[],d=cD(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Qp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function uD(n){const e=Pt(n);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cD(n,e){return[...n.filter(a=>!e.some(s=>s.providerId===a.providerId)),...e]}function hw(n){return n.map(e=>{var{providerId:t}=e,a=Kg(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){const t=await cw(n,{},async()=>{const a=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await fw(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",uw.fetch()(c,{method:"POST",headers:d,body:a})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hD(n,e){return Sa(n,"POST","/v2/accounts:revokeToken",wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=GE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:s,expiresIn:l}=await fD(e,t);this.updateTokensAndExpiration(a,s,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:s,expirationTime:l}=t,c=new Co;return a&&(Se(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),s&&(Se(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:t,auth:a,stsTokenManager:s}=e,l=Kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sD(this,e)}reload(){return uD(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await xu(this,aD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,s,l,c,d,m,g,v;const b=(a=t.displayName)!==null&&a!==void 0?a:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=t.photoURL)!==null&&c!==void 0?c:void 0,B=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Y=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:z,emailVerified:K,isAnonymous:ee,providerData:oe,stsTokenManager:O}=t;Se(z&&O,e,"internal-error");const C=Co.fromJSON(this.name,O);Se(typeof z=="string",e,"internal-error"),na(b,e.name),na(T,e.name),Se(typeof K=="boolean",e,"internal-error"),Se(typeof ee=="boolean",e,"internal-error"),na(N,e.name),na(I,e.name),na(B,e.name),na(k,e.name),na(q,e.name),na(Y,e.name);const x=new tr({uid:z,auth:e,email:T,emailVerified:K,displayName:b,isAnonymous:ee,photoURL:I,phoneNumber:N,tenantId:B,stsTokenManager:C,createdAt:q,lastLoginAt:Y});return oe&&Array.isArray(oe)&&(x.providerData=oe.map(V=>Object.assign({},V))),k&&(x._redirectEventId=k),x}static async _fromIdTokenResponse(e,t,a=!1){const s=new Co;s.updateFromServerResponse(t);const l=new tr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:a});return await ah(l),l}static async _fromGetAccountInfoResponse(e,t,a){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?hw(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new Co;d.updateFromIdToken(a);const m=new tr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;function ci(n){_i(n instanceof Function,"Expected a class definition");let e=KE.get(n);return e?(_i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,KE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dw.type="NONE";const YE=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e,t){return`firebase:${n}:${e}:${t}`}class Io{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:s,name:l}=this.auth;this.fullUserKey=zf(this.userKey,s.apiKey,l),this.fullPersistenceKey=zf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ih(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Io(ci(YE),e,a);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||ci(YE);const c=zf(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const T=await ih(e,{idToken:v}).catch(()=>{});if(!T)break;b=await tr._fromGetAccountInfoResponse(e,T,v)}else b=tr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Io(l,e,a):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Io(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_w(e))return"Blackberry";if(Ew(e))return"Webos";if(pw(e))return"Safari";if((e.includes("chrome/")||gw(e))&&!e.includes("edge/"))return"Chrome";if(vw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function mw(n=on()){return/firefox\//i.test(n)}function pw(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gw(n=on()){return/crios\//i.test(n)}function yw(n=on()){return/iemobile/i.test(n)}function vw(n=on()){return/android/i.test(n)}function _w(n=on()){return/blackberry/i.test(n)}function Ew(n=on()){return/webos/i.test(n)}function Wg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dD(n=on()){var e;return Wg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mD(){return IN()&&document.documentMode===10}function Tw(n=on()){return Wg(n)||vw(n)||Ew(n)||_w(n)||/windows phone/i.test(n)||yw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n,e=[]){let t;switch(n){case"Browser":t=QE(on());break;case"Worker":t=`${QE(on())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Go}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});a.onAbort=t,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e={}){return Sa(n,"GET","/v2/passwordPolicy",wa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=6;class vD{constructor(e){var t,a,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:yD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,s,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let s=0;s<e.length;s++)a=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,a,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new pD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var a,s,l;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ih(this,{idToken:e}),a=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let s=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(mi(this));const t=e?Pt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gD(this),t=new vD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await hD(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,a,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ws(n){return Pt(n)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=PN(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ED(n){Lh=n}function ww(n){return Lh.loadJS(n)}function TD(){return Lh.recaptchaEnterpriseScript}function bD(){return Lh.gapiScript}function wD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class SD{constructor(){this.enterprise=new AD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class AD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RD="recaptcha-enterprise",Sw="NO_RECAPTCHA";class CD{constructor(e){this.type=RD,this.auth=ws(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{iD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new rD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function s(l,c,d){const m=window.grecaptcha;$E(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Sw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{a(this.auth).then(d=>{if(!t&&$E(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=TD();m.length!==0&&(m+=d),ww(m).then(()=>{s(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function WE(n,e,t,a=!1,s=!1){const l=new CD(n);let c;if(s)c=Sw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Xp(n,e,t,a,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await WE(n,e,t,t==="getOobCode");return a(n,c)}else return a(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await WE(n,e,t,t==="getOobCode");return a(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n,e){const t=Gg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(ps(l,e??{}))return s;ir(s,"already-initialized")}return t.initialize({options:e})}function xD(n,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function ND(n,e,t){const a=ws(n);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const s=!1,l=Aw(e),{host:c,port:d}=OD(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(ps(g,a.config.emulator)&&ps(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,$u(c)?(Z1(`${l}//${c}${m}`),J1("Auth",!0)):DD()}function Aw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OD(n){const e=Aw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const l=s[1];return{host:l,port:ZE(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:ZE(c)}}}function ZE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function MD(n,e){return Sa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e){return Qu(n,"POST","/v1/accounts:signInWithPassword",wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e){return Qu(n,"POST","/v1/accounts:signInWithEmailLink",wa(n,e))}async function PD(n,e){return Qu(n,"POST","/v1/accounts:signInWithEmailLink",wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Zg{constructor(e,t,a,s=null){super("password",a),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Nu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Nu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,t,"signInWithPassword",kD);case"emailLink":return VD(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,a,"signUpPassword",MD);case"emailLink":return PD(e,{idToken:t,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n,e){return Qu(n,"POST","/v1/accounts:signInWithIdp",wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="http://localhost";class ys extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:s}=t,l=Kg(t,["providerId","signInMethod"]);if(!a||!s)return null;const c=new ys(a,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,xo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:LD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jD(n){const e=du(mu(n)).link,t=e?du(mu(e)).deep_link_id:null,a=du(mu(n)).deep_link_id;return(a?du(mu(a)).link:null)||a||t||e||n}class Jg{constructor(e){var t,a,s,l,c,d;const m=du(mu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(a=m.oobCode)!==null&&a!==void 0?a:null,b=UD((s=m.mode)!==null&&s!==void 0?s:null);Se(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=jD(e);try{return new Jg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return Nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Jg.parseLink(t);return Se(a,"argument-error"),Nu._fromEmailAndCode(e,a.code,a.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Rw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Xu{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ys._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return aa.credential(t,a)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Xu{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Xu{constructor(){super("twitter.com")}static credential(e,t){return ys._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return oa.credential(t,a)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e){return Qu(n,"POST","/v1/accounts:signUp",wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,s=!1){const l=await tr._fromIdTokenResponse(e,a,s),c=JE(a);return new vs({user:l,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const s=JE(a);return new vs({user:e,providerId:s,_tokenResponse:a,operationType:t})}}function JE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends wi{constructor(e,t,a,s){var l;super(t.code,t.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,s){return new sh(e,t,a,s)}}function Cw(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(n,l,e,a):l})}async function zD(n,e,t=!1){const a=await xu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vs._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e,t=!1){const{auth:a}=n;if(Kn(a.app))return Promise.reject(mi(a));const s="reauthenticate";try{const l=await xu(n,Cw(a,s,e,n),t);Se(l.idToken,a,"internal-error");const c=Xg(l.idToken);Se(c,a,"internal-error");const{sub:d}=c;return Se(n.uid===d,a,"user-mismatch"),vs._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ir(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(n,e,t=!1){if(Kn(n.app))return Promise.reject(mi(n));const a="signIn",s=await Cw(n,a,e),l=await vs._fromIdTokenResponse(n,a,s);return t||await n._updateCurrentUser(l.user),l}async function qD(n,e){return Iw(ws(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(n){const e=ws(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FD(n,e,t){if(Kn(n.app))return Promise.reject(mi(n));const a=ws(n),c=await Xp(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&xw(n),m}),d=await vs._fromIdTokenResponse(a,"signIn",c);return await a._updateCurrentUser(d.user),d}function $D(n,e,t){return Kn(n.app)?Promise.reject(mi(n)):qD(Pt(n),Ko.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&xw(n),a})}function GD(n,e,t,a){return Pt(n).onIdTokenChanged(e,t,a)}function KD(n,e,t){return Pt(n).beforeAuthStateChanged(e,t)}function YD(n,e,t,a){return Pt(n).onAuthStateChanged(e,t,a)}function QD(n){return Pt(n).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1e3,WD=10;class Ow extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),s=this.localCache[t];a!==s&&e(t,s,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const a=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);mD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,WD):s()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ow.type="LOCAL";const ZD=Ow;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dw.type="SESSION";const Mw=Dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const a=new Uh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await JD(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=ey("",20);s.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},a);c={messageChannel:s,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function tM(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function nM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function iM(){return kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebaseLocalStorageDb",aM=1,lh="firebaseLocalStorage",Pw="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jh(n,e){return n.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function sM(){const n=indexedDB.deleteDatabase(Vw);return new Wu(n).toPromise()}function Wp(){const n=indexedDB.open(Vw,aM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(lh,{keyPath:Pw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await sM(),e(await Wp()))})})}async function eT(n,e,t){const a=jh(n,!0).put({[Pw]:e,value:t});return new Wu(a).toPromise()}async function oM(n,e){const t=jh(n,!1).get(e),a=await new Wu(t).toPromise();return a===void 0?null:a.value}function tT(n,e){const t=jh(n,!0).delete(e);return new Wu(t).toPromise()}const lM=800,uM=3;class Lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>uM)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(iM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nM(),!this.activeServiceWorker)return;this.sender=new eM(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wp();return await eT(e,oh,"1"),await tT(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>eT(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>oM(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=jh(s,!1).getAll();return new Wu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lw.type="LOCAL";const cM=Lw;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n,e){return e?ci(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hM(n){return Iw(n.auth,new ty(n),n.bypassAuthState)}function dM(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),HD(t,new ty(n),n.bypassAuthState)}async function mM(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),zD(t,new ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,a,s,l=!1){this.auth=e,this.resolver=a,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hM;case"linkViaPopup":case"linkViaRedirect":return mM;case"reauthViaPopup":case"reauthViaRedirect":return dM;default:ir(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Yu(2e3,1e4);class Ro extends Uw{constructor(e,t,a,s,l){super(e,t,s,l),this.provider=a,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pM.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="pendingRedirect",Hf=new Map;class yM extends Uw{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const a=await vM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vM(n,e){const t=TM(e),a=EM(n);if(!await a._isAvailable())return!1;const s=await a._get(t)==="true";return await a._remove(t),s}function _M(n,e){Hf.set(n._key(),e)}function EM(n){return ci(n._redirectPersistence)}function TM(n){return zf(gM,n.config.apiKey,n.name)}async function bM(n,e,t=!1){if(Kn(n.app))return Promise.reject(mi(n));const a=ws(n),s=fM(a,e),c=await new yM(a,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=10*60*1e3;class SM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!jw(e)){const s=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wM&&this.cachedEventUids.clear(),this.cachedEventUids.has(nT(e))}saveEventToCache(e){this.cachedEventUids.add(nT(e)),this.lastProcessedEventTime=Date.now()}}function nT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,e={}){return Sa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IM=/^https?/;async function xM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RM(n);for(const t of e)try{if(NM(t))return}catch{}ir(n,"unauthorized-domain")}function NM(n){const e=Yp(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!IM.test(t))return!1;if(CM.test(n))return a===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Yu(3e4,6e4);function rT(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DM(n){return new Promise((e,t)=>{var a,s,l;function c(){rT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rT(),t(Rr(n,"network-request-failed"))},timeout:OM.get()})}if(!((s=(a=Cr().gapi)===null||a===void 0?void 0:a.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Cr().gapi)===null||l===void 0)&&l.load)c();else{const d=wD("iframefcb");return Cr()[d]=()=>{gapi.load?c():t(Rr(n,"network-request-failed"))},ww(`${bD()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw qf=null,e})}let qf=null;function MM(n){return qf=qf||DM(n),qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new Yu(5e3,15e3),VM="__/auth/iframe",PM="emulator/auth/iframe",LM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jM(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qg(e,PM):`https://${n.config.authDomain}/${VM}`,a={apiKey:e.apiKey,appName:n.name,v:Go},s=UM.get(n.config.apiHost);s&&(a.eid=s);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Ku(a).slice(1)}`}async function BM(n){const e=await MM(n),t=Cr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:jM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LM,dontclear:!0},a=>new Promise(async(s,l)=>{await a.restyle({setHideOnLeave:!1});const c=Rr(n,"network-request-failed"),d=Cr().setTimeout(()=>{l(c)},kM.get());function m(){Cr().clearTimeout(d),s(a)}a.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HM=500,qM=600,FM="_blank",$M="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GM(n,e,t,a=HM,s=qM){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},zM),{width:a.toString(),height:s.toString(),top:l,left:c}),g=on().toLowerCase();t&&(d=gw(g)?FM:t),mw(g)&&(e=e||$M,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[N,I])=>`${T}${N}=${I},`,"");if(dD(g)&&d!=="_self")return KM(e||"",d),new iT(null);const b=window.open(e||"",d,v);Se(b,n,"popup-blocked");try{b.focus()}catch{}return new iT(b)}function KM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="__/auth/handler",QM="emulator/auth/handler",XM=encodeURIComponent("fac");async function aT(n,e,t,a,s,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:Go,eventId:s};if(e instanceof Rw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",VN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Xu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${XM}=${encodeURIComponent(m)}`:"";return`${WM(n)}?${Ku(d).slice(1)}${g}`}function WM({config:n}){return n.emulator?Qg(n,QM):`https://${n.authDomain}/${YM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class ZM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mw,this._completeRedirectFn=bM,this._overrideRedirectResult=_M}async _openPopup(e,t,a,s){var l;_i((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await aT(e,t,a,Yp(),s);return GM(e,c,ey())}async _openRedirect(e,t,a,s){await this._originValidation(e);const l=await aT(e,t,a,Yp(),s);return tM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(_i(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await BM(e),a=new SM(e);return t.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ap,{type:Ap},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Ap];c!==void 0&&t(!!c),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tw()||pw()||Wg()}}const JM=ZM;var sT="@firebase/auth",oT="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n4(n){Do(new gs("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bw(n)},g=new _D(a,s,l,m);return xD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Do(new gs("auth-internal",e=>{const t=ws(e.getProvider("auth").getImmediate());return(a=>new e4(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ha(sT,oT,t4(n)),ha(sT,oT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=5*60,i4=W1("authIdTokenMaxAge")||r4;let lT=null;const a4=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>i4)return;const s=t==null?void 0:t.token;lT!==s&&(lT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function s4(n=rw()){const e=Gg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ID(n,{popupRedirectResolver:JM,persistence:[cM,ZD,Mw]}),a=W1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=a4(l.toString());KD(t,c,()=>c(t.currentUser)),GD(t,d=>c(d))}}const s=Q1("auth");return s&&ND(t,`http://${s}`),t}function o4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ED({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=s=>{const l=Rr("internal-error");l.customData=s,t(l)},a.type="text/javascript",a.charset="UTF-8",o4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n4("Browser");var l4="firebase",u4="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(l4,u4,"app");var uT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,Bw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function x(){}x.prototype=C.prototype,O.D=C.prototype,O.prototype=new x,O.prototype.constructor=O,O.C=function(V,L,j){for(var D=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)D[tt-2]=arguments[tt];return C.prototype[L].apply(V,D)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,C,x){x||(x=0);var V=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)V[L]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(L=0;16>L;++L)V[L]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=O.g[0],x=O.g[1],L=O.g[2];var j=O.g[3],D=C+(j^x&(L^j))+V[0]+3614090360&4294967295;C=x+(D<<7&4294967295|D>>>25),D=j+(L^C&(x^L))+V[1]+3905402710&4294967295,j=C+(D<<12&4294967295|D>>>20),D=L+(x^j&(C^x))+V[2]+606105819&4294967295,L=j+(D<<17&4294967295|D>>>15),D=x+(C^L&(j^C))+V[3]+3250441966&4294967295,x=L+(D<<22&4294967295|D>>>10),D=C+(j^x&(L^j))+V[4]+4118548399&4294967295,C=x+(D<<7&4294967295|D>>>25),D=j+(L^C&(x^L))+V[5]+1200080426&4294967295,j=C+(D<<12&4294967295|D>>>20),D=L+(x^j&(C^x))+V[6]+2821735955&4294967295,L=j+(D<<17&4294967295|D>>>15),D=x+(C^L&(j^C))+V[7]+4249261313&4294967295,x=L+(D<<22&4294967295|D>>>10),D=C+(j^x&(L^j))+V[8]+1770035416&4294967295,C=x+(D<<7&4294967295|D>>>25),D=j+(L^C&(x^L))+V[9]+2336552879&4294967295,j=C+(D<<12&4294967295|D>>>20),D=L+(x^j&(C^x))+V[10]+4294925233&4294967295,L=j+(D<<17&4294967295|D>>>15),D=x+(C^L&(j^C))+V[11]+2304563134&4294967295,x=L+(D<<22&4294967295|D>>>10),D=C+(j^x&(L^j))+V[12]+1804603682&4294967295,C=x+(D<<7&4294967295|D>>>25),D=j+(L^C&(x^L))+V[13]+4254626195&4294967295,j=C+(D<<12&4294967295|D>>>20),D=L+(x^j&(C^x))+V[14]+2792965006&4294967295,L=j+(D<<17&4294967295|D>>>15),D=x+(C^L&(j^C))+V[15]+1236535329&4294967295,x=L+(D<<22&4294967295|D>>>10),D=C+(L^j&(x^L))+V[1]+4129170786&4294967295,C=x+(D<<5&4294967295|D>>>27),D=j+(x^L&(C^x))+V[6]+3225465664&4294967295,j=C+(D<<9&4294967295|D>>>23),D=L+(C^x&(j^C))+V[11]+643717713&4294967295,L=j+(D<<14&4294967295|D>>>18),D=x+(j^C&(L^j))+V[0]+3921069994&4294967295,x=L+(D<<20&4294967295|D>>>12),D=C+(L^j&(x^L))+V[5]+3593408605&4294967295,C=x+(D<<5&4294967295|D>>>27),D=j+(x^L&(C^x))+V[10]+38016083&4294967295,j=C+(D<<9&4294967295|D>>>23),D=L+(C^x&(j^C))+V[15]+3634488961&4294967295,L=j+(D<<14&4294967295|D>>>18),D=x+(j^C&(L^j))+V[4]+3889429448&4294967295,x=L+(D<<20&4294967295|D>>>12),D=C+(L^j&(x^L))+V[9]+568446438&4294967295,C=x+(D<<5&4294967295|D>>>27),D=j+(x^L&(C^x))+V[14]+3275163606&4294967295,j=C+(D<<9&4294967295|D>>>23),D=L+(C^x&(j^C))+V[3]+4107603335&4294967295,L=j+(D<<14&4294967295|D>>>18),D=x+(j^C&(L^j))+V[8]+1163531501&4294967295,x=L+(D<<20&4294967295|D>>>12),D=C+(L^j&(x^L))+V[13]+2850285829&4294967295,C=x+(D<<5&4294967295|D>>>27),D=j+(x^L&(C^x))+V[2]+4243563512&4294967295,j=C+(D<<9&4294967295|D>>>23),D=L+(C^x&(j^C))+V[7]+1735328473&4294967295,L=j+(D<<14&4294967295|D>>>18),D=x+(j^C&(L^j))+V[12]+2368359562&4294967295,x=L+(D<<20&4294967295|D>>>12),D=C+(x^L^j)+V[5]+4294588738&4294967295,C=x+(D<<4&4294967295|D>>>28),D=j+(C^x^L)+V[8]+2272392833&4294967295,j=C+(D<<11&4294967295|D>>>21),D=L+(j^C^x)+V[11]+1839030562&4294967295,L=j+(D<<16&4294967295|D>>>16),D=x+(L^j^C)+V[14]+4259657740&4294967295,x=L+(D<<23&4294967295|D>>>9),D=C+(x^L^j)+V[1]+2763975236&4294967295,C=x+(D<<4&4294967295|D>>>28),D=j+(C^x^L)+V[4]+1272893353&4294967295,j=C+(D<<11&4294967295|D>>>21),D=L+(j^C^x)+V[7]+4139469664&4294967295,L=j+(D<<16&4294967295|D>>>16),D=x+(L^j^C)+V[10]+3200236656&4294967295,x=L+(D<<23&4294967295|D>>>9),D=C+(x^L^j)+V[13]+681279174&4294967295,C=x+(D<<4&4294967295|D>>>28),D=j+(C^x^L)+V[0]+3936430074&4294967295,j=C+(D<<11&4294967295|D>>>21),D=L+(j^C^x)+V[3]+3572445317&4294967295,L=j+(D<<16&4294967295|D>>>16),D=x+(L^j^C)+V[6]+76029189&4294967295,x=L+(D<<23&4294967295|D>>>9),D=C+(x^L^j)+V[9]+3654602809&4294967295,C=x+(D<<4&4294967295|D>>>28),D=j+(C^x^L)+V[12]+3873151461&4294967295,j=C+(D<<11&4294967295|D>>>21),D=L+(j^C^x)+V[15]+530742520&4294967295,L=j+(D<<16&4294967295|D>>>16),D=x+(L^j^C)+V[2]+3299628645&4294967295,x=L+(D<<23&4294967295|D>>>9),D=C+(L^(x|~j))+V[0]+4096336452&4294967295,C=x+(D<<6&4294967295|D>>>26),D=j+(x^(C|~L))+V[7]+1126891415&4294967295,j=C+(D<<10&4294967295|D>>>22),D=L+(C^(j|~x))+V[14]+2878612391&4294967295,L=j+(D<<15&4294967295|D>>>17),D=x+(j^(L|~C))+V[5]+4237533241&4294967295,x=L+(D<<21&4294967295|D>>>11),D=C+(L^(x|~j))+V[12]+1700485571&4294967295,C=x+(D<<6&4294967295|D>>>26),D=j+(x^(C|~L))+V[3]+2399980690&4294967295,j=C+(D<<10&4294967295|D>>>22),D=L+(C^(j|~x))+V[10]+4293915773&4294967295,L=j+(D<<15&4294967295|D>>>17),D=x+(j^(L|~C))+V[1]+2240044497&4294967295,x=L+(D<<21&4294967295|D>>>11),D=C+(L^(x|~j))+V[8]+1873313359&4294967295,C=x+(D<<6&4294967295|D>>>26),D=j+(x^(C|~L))+V[15]+4264355552&4294967295,j=C+(D<<10&4294967295|D>>>22),D=L+(C^(j|~x))+V[6]+2734768916&4294967295,L=j+(D<<15&4294967295|D>>>17),D=x+(j^(L|~C))+V[13]+1309151649&4294967295,x=L+(D<<21&4294967295|D>>>11),D=C+(L^(x|~j))+V[4]+4149444226&4294967295,C=x+(D<<6&4294967295|D>>>26),D=j+(x^(C|~L))+V[11]+3174756917&4294967295,j=C+(D<<10&4294967295|D>>>22),D=L+(C^(j|~x))+V[2]+718787259&4294967295,L=j+(D<<15&4294967295|D>>>17),D=x+(j^(L|~C))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+j&4294967295}a.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var x=C-this.blockSize,V=this.B,L=this.h,j=0;j<C;){if(L==0)for(;j<=x;)s(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<C;)if(V[L++]=O.charCodeAt(j++),L==this.blockSize){s(this,V),L=0;break}}else for(;j<C;)if(V[L++]=O[j++],L==this.blockSize){s(this,V),L=0;break}}this.h=L,this.o+=C},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var x=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=x&255,x/=256;for(this.u(O),O=Array(16),C=x=0;4>C;++C)for(var V=0;32>V;V+=8)O[x++]=this.g[C]>>>V&255;return O};function l(O,C){var x=d;return Object.prototype.hasOwnProperty.call(x,O)?x[O]:x[O]=C(O)}function c(O,C){this.h=C;for(var x=[],V=!0,L=O.length-1;0<=L;L--){var j=O[L]|0;V&&j==C||(x[L]=j,V=!1)}this.g=x}var d={};function m(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return k(g(-O));for(var C=[],x=1,V=0;O>=x;V++)C[V]=O/x|0,x*=4294967296;return new c(C,0)}function v(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return k(v(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(C,8)),V=b,L=0;L<O.length;L+=8){var j=Math.min(8,O.length-L),D=parseInt(O.substring(L,L+j),C);8>j?(j=g(Math.pow(C,j)),V=V.j(j).add(g(D))):(V=V.j(x),V=V.add(g(D)))}return V}var b=m(0),T=m(1),N=m(16777216);n=c.prototype,n.m=function(){if(B(this))return-k(this).m();for(var O=0,C=1,x=0;x<this.g.length;x++){var V=this.i(x);O+=(0<=V?V:4294967296+V)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(B(this))return"-"+k(this).toString(O);for(var C=g(Math.pow(O,6)),x=this,V="";;){var L=K(x,C).g;x=q(x,L.j(C));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(O);if(x=L,I(x))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function B(O){return O.h==-1}n.l=function(O){return O=q(this,O),B(O)?-1:I(O)?0:1};function k(O){for(var C=O.g.length,x=[],V=0;V<C;V++)x[V]=~O.g[V];return new c(x,~O.h).add(T)}n.abs=function(){return B(this)?k(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),x=[],V=0,L=0;L<=C;L++){var j=V+(this.i(L)&65535)+(O.i(L)&65535),D=(j>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);V=D>>>16,j&=65535,D&=65535,x[L]=D<<16|j}return new c(x,x[x.length-1]&-2147483648?-1:0)};function q(O,C){return O.add(k(C))}n.j=function(O){if(I(this)||I(O))return b;if(B(this))return B(O)?k(this).j(k(O)):k(k(this).j(O));if(B(O))return k(this.j(k(O)));if(0>this.l(N)&&0>O.l(N))return g(this.m()*O.m());for(var C=this.g.length+O.g.length,x=[],V=0;V<2*C;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<O.g.length;L++){var j=this.i(V)>>>16,D=this.i(V)&65535,tt=O.i(L)>>>16,Ye=O.i(L)&65535;x[2*V+2*L]+=D*Ye,Y(x,2*V+2*L),x[2*V+2*L+1]+=j*Ye,Y(x,2*V+2*L+1),x[2*V+2*L+1]+=D*tt,Y(x,2*V+2*L+1),x[2*V+2*L+2]+=j*tt,Y(x,2*V+2*L+2)}for(V=0;V<C;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=C;V<2*C;V++)x[V]=0;return new c(x,0)};function Y(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function z(O,C){this.g=O,this.h=C}function K(O,C){if(I(C))throw Error("division by zero");if(I(O))return new z(b,b);if(B(O))return C=K(k(O),C),new z(k(C.g),k(C.h));if(B(C))return C=K(O,k(C)),new z(k(C.g),C.h);if(30<O.g.length){if(B(O)||B(C))throw Error("slowDivide_ only works with positive integers.");for(var x=T,V=C;0>=V.l(O);)x=ee(x),V=ee(V);var L=oe(x,1),j=oe(V,1);for(V=oe(V,2),x=oe(x,2);!I(V);){var D=j.add(V);0>=D.l(O)&&(L=L.add(x),j=D),V=oe(V,1),x=oe(x,1)}return C=q(O,L.j(C)),new z(L,C)}for(L=b;0<=O.l(C);){for(x=Math.max(1,Math.floor(O.m()/C.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=g(x),D=j.j(C);B(D)||0<D.l(O);)x-=V,j=g(x),D=j.j(C);I(j)&&(j=T),L=L.add(j),O=q(O,D)}return new z(L,O)}n.A=function(O){return K(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),x=[],V=0;V<C;V++)x[V]=this.i(V)&O.i(V);return new c(x,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),x=[],V=0;V<C;V++)x[V]=this.i(V)|O.i(V);return new c(x,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),x=[],V=0;V<C;V++)x[V]=this.i(V)^O.i(V);return new c(x,this.h^O.h)};function ee(O){for(var C=O.g.length+1,x=[],V=0;V<C;V++)x[V]=O.i(V)<<1|O.i(V-1)>>>31;return new c(x,O.h)}function oe(O,C){var x=C>>5;C%=32;for(var V=O.g.length-x,L=[],j=0;j<V;j++)L[j]=0<C?O.i(j+x)>>>C|O.i(j+x+1)<<32-C:O.i(j+x);return new c(L,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Bw=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,da=c}).apply(typeof uT<"u"?uT:typeof self<"u"?self:typeof window<"u"?window:{});var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zw,pu,Hw,Ff,Zp,qw,Fw,$w;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Of=="object"&&Of];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=t(this);function s(f,y){if(y)e:{var _=a;f=f.split(".");for(var R=0;R<f.length-1;R++){var F=f[R];if(!(F in _))break e;_=_[F]}f=f[f.length-1],R=_[f],y=y(R),y!=R&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,R=!1,F={next:function(){if(!R&&_<f.length){var Z=_++;return{value:y(Z,f[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function b(f,y,_){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),f.apply(y,F)}}return function(){return f.apply(y,arguments)}}function T(f,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function N(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function I(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(R,F,Z){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return y.prototype[F].apply(R,ce)}}function B(f){const y=f.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=f[R];return _}return[]}function k(f,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(m(R)){const F=f.length||0,Z=R.length||0;f.length=F+Z;for(let ce=0;ce<Z;ce++)f[F+ce]=R[ce]}else f.push(R)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(f){return/^[\s\xa0]*$/.test(f)}function z(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function K(f){return K[" "](f),f}K[" "]=function(){};var ee=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function oe(f,y,_){for(const R in f)y.call(_,f[R],R,f)}function O(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function C(f){const y={};for(const _ in f)y[_]=f[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,y){let _,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(_ in R)f[_]=R[_];for(let Z=0;Z<x.length;Z++)_=x[Z],Object.prototype.hasOwnProperty.call(R,_)&&(f[_]=R[_])}}function L(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function j(f){d.setTimeout(()=>{throw f},0)}function D(){var f=Ve;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,_){const R=Ye.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var Ye=new q(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,Ve=new tt,P=()=>{const f=d.Promise.resolve(void 0);le=()=>{f.then(ne)}};var ne=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(_){j(_)}var y=Ye;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function Re(f,y){if(se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ee){e:{try{K(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:be[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}I(Re,se);var be={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Zt(f,y,_,R,F){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=F,this.key=++Xe,this.da=this.fa=!1}function ln(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function mn(f){this.src=f,this.g={},this.h=0}mn.prototype.add=function(f,y,_,R,F){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var ce=Sn(f,y,R,F);return-1<ce?(y=f[ce],_||(y.fa=!1)):(y=new Zt(y,this.src,Z,!!R,F),y.fa=_,f.push(y)),y};function pn(f,y){var _=y.type;if(_ in f.g){var R=f.g[_],F=Array.prototype.indexOf.call(R,y,void 0),Z;(Z=0<=F)&&Array.prototype.splice.call(R,F,1),Z&&(ln(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function Sn(f,y,_,R){for(var F=0;F<f.length;++F){var Z=f[F];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==R)return F}return-1}var gn="closure_lm_"+(1e6*Math.random()|0),We={};function Dr(f,y,_,R,F){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Dr(f,y[Z],_,R,F);return null}return _=Cs(_),f&&f[mt]?f.K(y,_,g(R)?!!R.capture:!1,F):Lt(f,y,_,!1,R,F)}function Lt(f,y,_,R,F,Z){if(!y)throw Error("Invalid event type");var ce=g(F)?!!F.capture:!!F,He=Ri(f);if(He||(f[gn]=He=new mn(f)),_=He.add(y,_,R,ce,Z),_.proxy)return _;if(R=Jo(),_.proxy=R,R.src=f,R.listener=_,f.addEventListener)he||(F=ce),F===void 0&&(F=!1),f.addEventListener(y.toString(),R,F);else if(f.attachEvent)f.attachEvent(Mr(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jo(){function f(_){return y.call(f.src,f.listener,_)}const y=el;return f}function Ca(f,y,_,R,F){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Ca(f,y[Z],_,R,F);else R=g(R)?!!R.capture:!!R,_=Cs(_),f&&f[mt]?(f=f.i,y=String(y).toString(),y in f.g&&(Z=f.g[y],_=Sn(Z,_,R,F),-1<_&&(ln(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ri(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Sn(y,_,R,F)),(_=-1<f?y[f]:null)&&Ai(_))}function Ai(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[mt])pn(y.i,f);else{var _=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(_,R,f.capture):y.detachEvent?y.detachEvent(Mr(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=Ri(y))?(pn(_,f),_.h==0&&(_.src=null,y[gn]=null)):ln(f)}}}function Mr(f){return f in We?We[f]:We[f]="on"+f}function el(f,y){if(f.da)f=!0;else{y=new Re(y,this);var _=f.listener,R=f.ha||f.src;f.fa&&Ai(f),f=_.call(R,y)}return f}function Ri(f){return f=f[gn],f instanceof mn?f:null}var Ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cs(f){return typeof f=="function"?f:(f[Ci]||(f[Ci]=function(y){return f.handleEvent(y)}),f[Ci])}function _e(){ue.call(this),this.i=new mn(this),this.M=this,this.F=null}I(_e,ue),_e.prototype[mt]=!0,_e.prototype.removeEventListener=function(f,y,_,R){Ca(this,f,y,_,R)};function je(f,y){var _,R=f.F;if(R)for(_=[];R;R=R.F)_.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new se(y,f);else if(y instanceof se)y.target=y.target||f;else{var F=y;y=new se(R,f),V(y,F)}if(F=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ce=y.g=_[Z];F=Jt(ce,R,!0,y)&&F}if(ce=y.g=f,F=Jt(ce,R,!0,y)&&F,F=Jt(ce,R,!1,y)&&F,_)for(Z=0;Z<_.length;Z++)ce=y.g=_[Z],F=Jt(ce,R,!1,y)&&F}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],R=0;R<_.length;R++)ln(_[R]);delete f.g[y],f.h--}}this.F=null},_e.prototype.K=function(f,y,_,R){return this.i.add(String(f),y,!1,_,R)},_e.prototype.L=function(f,y,_,R){return this.i.add(String(f),y,!0,_,R)};function Jt(f,y,_,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Z=0;Z<y.length;++Z){var ce=y[Z];if(ce&&!ce.da&&ce.capture==_){var He=ce.listener,Ot=ce.ha||ce.src;ce.fa&&pn(f.i,ce),F=He.call(Ot,R)!==!1&&F}}return F&&!R.defaultPrevented}function en(f,y,_){if(typeof f=="function")_&&(f=T(f,_));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function ic(f){f.g=en(()=>{f.g=null,f.i&&(f.i=!1,ic(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class id extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ic(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(f){ue.call(this),this.h=f,this.g={}}I(Ia,ue);var xa=[];function Na(f){oe(f.g,function(y,_){this.g.hasOwnProperty(_)&&Ai(y)},f),f.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),Na(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=d.JSON.stringify,Is=d.JSON.parse,Oa=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function tl(){}tl.prototype.h=null;function nl(f){return f.h||(f.h=f.i())}function rl(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){se.call(this,"d")}I(Vr,se);function il(){se.call(this,"c")}I(il,se);var lr={},al=null;function Ii(){return al=al||new _e}lr.La="serverreachability";function xs(f){se.call(this,lr.La,f)}I(xs,se);function xi(f){const y=Ii();je(y,new xs(y))}lr.STAT_EVENT="statevent";function ac(f,y){se.call(this,lr.STAT_EVENT,f),this.stat=y}I(ac,se);function ft(f){const y=Ii();je(y,new ac(y,f))}lr.Ma="timingevent";function Nt(f,y){se.call(this,lr.Ma,f),this.size=y}I(Nt,se);function St(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function sl(f,y,_,R,F,Z){f.info(function(){if(f.g)if(Z)for(var ce="",He=Z.split("&"),Ot=0;Ot<He.length;Ot++){var qe=He[Ot].split("=");if(1<qe.length){var jt=qe[0];qe=qe[1];var Dt=jt.split("_");ce=2<=Dt.length&&Dt[1]=="type"?ce+(jt+"="+qe+"&"):ce+(jt+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+_+`
`+ce})}function ad(f,y,_,R,F,Z,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+_+`
`+Z+" "+ce})}function Ni(f,y,_,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Da(f,_)+(R?" "+R:"")})}function sc(f,y){f.info(function(){return"TIMEOUT: "+y})}Vn.prototype.info=function(){};function Da(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var R=_[f];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var Z=F[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<F.length;ce++)F[ce]=""}}}}return Yn(_)}catch{return y}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ur;function cr(){}I(cr,tl),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},ur=new cr;function un(f,y,_,R){this.j=f,this.i=y,this.l=_,this.R=R||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var ol={},Ns={};function Qn(f,y,_){f.L=1,f.v=La(An(y)),f.m=_,f.P=!0,Lr(f,null)}function Lr(f,y){f.F=Date.now(),Ma(f),f.A=An(f.v);var _=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),dl(_.i,"t",R),f.C=0,_=f.j.J,f.h=new Et,f.g=bc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new id(T(f.Y,f,f.g),f.O)),y=f.U,_=f.g,R=f.ca;var F="readystatechange";Array.isArray(F)||(F&&(xa[0]=F.toString()),F=xa);for(var Z=0;Z<F.length;Z++){var ce=Dr(_,F[Z],R||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),xi(),sl(f.i,f.u,f.A,f.l,f.R,f.m)}un.prototype.ca=function(f){f=f.target;const y=this.M;y&&jn(f)==3?y.j():this.Y(f)},un.prototype.Y=function(f){try{if(f==this.g)e:{const Dt=jn(this.g);var y=this.g.Ba();const $r=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||mc(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=$r?xi(3):xi(2)),Di(this);var _=this.g.Z();this.X=_;t:if(oc(this)){var R=mc(this.g);f="";var F=R.length,Z=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),fr(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(Z&&y==F-1)});R.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,ad(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ot=this.g;if((He=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(He)){var qe=He;break t}}qe=null}if(_=qe)Ni(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,_);else{this.o=!1,this.s=3,ft(12),Ft(this),fr(this);break e}}if(this.P){_=!0;let $t;for(;!this.J&&this.C<ce.length;)if($t=lc(this,ce),$t==Ns){Dt==4&&(this.s=4,ft(14),_=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if($t==ol){this.s=4,ft(15),Ni(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Ni(this.i,this.l,$t,null),ka(this,$t);if(oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ce.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)Ni(this.i,this.l,ce,"[Invalid Chunked Response]"),Ft(this),fr(this);else if(0<ce.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),$a(jt),jt.M=!0,ft(11))}}else Ni(this.i,this.l,ce,null),ka(this,ce);Dt==4&&Ft(this),this.o&&!this.J&&(Dt==4?_c(this.j,this):(this.o=!1,Ma(this)))}else cd(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Ft(this),fr(this)}}}catch{}finally{}};function oc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function lc(f,y){var _=f.C,R=y.indexOf(`
`,_);return R==-1?Ns:(_=Number(y.substring(_,R)),isNaN(_)?ol:(R+=1,R+_>y.length?Ns:(y=y.slice(R,R+_),f.C=R+_,y)))}un.prototype.cancel=function(){this.J=!0,Ft(this)};function Ma(f){f.S=Date.now()+f.I,uc(f,f.I)}function uc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=St(T(f.ba,f),y)}function Di(f){f.B&&(d.clearTimeout(f.B),f.B=null)}un.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(sc(this.i,this.A),this.L!=2&&(xi(),ft(17)),Ft(this),this.s=2,fr(this)):uc(this,this.S-f)};function fr(f){f.j.G==0||f.J||_c(f.j,f)}function Ft(f){Di(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Na(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ka(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||ll(_.h,f))){if(!f.K&&ll(_.h,f)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)Hs(_),Bs(_);else break e;vl(_),ft(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=St(T(_.Za,_),6e3));if(1>=Ds(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fr(_,11)}else if((f.K||_.g==f)&&Hs(_),!Y(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let qe=F[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const jt=qe[3];jt!=null&&(_.la=jt,_.j.info("VER="+_.la));const Dt=qe[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const $r=qe[5];$r!=null&&typeof $r=="number"&&0<$r&&(R=1.5*$r,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const $t=f.g;if($t){const vr=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var Z=R.h;Z.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ms(Z,Z.h),Z.h=null))}if(R.D){const El=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(R.ya=El,it(R.I,R.D,El))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var ce=f;if(R.qa=Tc(R,R.J?R.ia:null,R.W),ce.K){cn(R.h,ce);var He=ce,Ot=R.L;Ot&&(He.I=Ot),He.B&&(Di(He),Ma(He)),R.g=ce}else yc(R);0<_.i.length&&zs(_)}else qe[0]!="stop"&&qe[0]!="close"||Fr(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Fr(_,7):gl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}xi(4)}catch{}}var cc=class{constructor(f,y){this.g=f,this.map=y}};function Ur(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ds(f){return f.h?1:f.g?f.g.size:0}function ll(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ms(f,y){f.g?f.g.add(y):f.h=y}function cn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Ur.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ul(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return B(f.i)}function sd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],_=f.length,R=0;R<_;R++)y.push(f[R]);return y}y=[],_=0;for(R in f)y[_++]=f[R];return y}function ks(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const R in f)y[_++]=R;return y}}}function cl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=ks(f),R=sd(f),F=R.length,Z=0;Z<F;Z++)y.call(void 0,R[Z],_&&_[Z],f)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var R=f[_].indexOf("="),F=null;if(0<=R){var Z=f[_].substring(0,R);F=f[_].substring(R+1)}else Z=f[_];y(Z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function At(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof At){this.h=f.h,Pa(this,f.j),this.o=f.o,this.g=f.g,Mi(this,f.s),this.l=f.l;var y=f.i,_=new Br;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),jr(this,_),this.m=f.m}else f&&(y=String(f).match(Va))?(this.h=!1,Pa(this,y[1]||"",!0),this.o=Pn(y[2]||""),this.g=Pn(y[3]||"",!0),Mi(this,y[4]),this.l=Pn(y[5]||"",!0),jr(this,y[6]||"",!0),this.m=Pn(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}At.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ua(y,fl,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ua(y,fl,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Ua(_,_.charAt(0)=="/"?ld:hl,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Ua(_,Vs)),f.join("")};function An(f){return new At(f)}function Pa(f,y,_){f.j=_?Pn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Mi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function jr(f,y,_){y instanceof Br?(f.i=y,hc(f.i,f.h)):(_||(y=Ua(y,ud)),f.i=new Br(y,f.h))}function it(f,y,_){f.i.set(y,_)}function La(f){return it(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Pn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ua(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,fc),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function fc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fl=/[#\/\?@]/g,hl=/[#\?:]/g,ld=/[#\?]/g,ud=/[#\?@]/g,Vs=/#/g;function Br(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Ln(f){f.g||(f.g=new Map,f.h=0,f.i&&od(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Br.prototype,n.add=function(f,y){Ln(this),this.i=null,f=hr(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function zr(f,y){Ln(f),y=hr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Hr(f,y){return Ln(f),y=hr(f,y),f.g.has(y)}n.forEach=function(f,y){Ln(this),this.g.forEach(function(_,R){_.forEach(function(F){f.call(y,F,R,this)},this)},this)},n.na=function(){Ln(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const F=f[R];for(let Z=0;Z<F.length;Z++)_.push(y[R])}return _},n.V=function(f){Ln(this);let y=[];if(typeof f=="string")Hr(this,f)&&(y=y.concat(this.g.get(hr(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return Ln(this),this.i=null,f=hr(this,f),Hr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function dl(f,y,_){zr(f,y),0<_.length&&(f.i=null,f.g.set(hr(f,y),B(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const Z=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var F=Z;ce[R]!==""&&(F+="="+encodeURIComponent(String(ce[R]))),f.push(F)}}return this.i=f.join("&")};function hr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function hc(f,y){y&&!f.j&&(Ln(f),f.i=null,f.g.forEach(function(_,R){var F=R.toLowerCase();R!=F&&(zr(this,R),dl(this,F,_))},f)),f.j=y}function ja(f,y){const _=new Vn;if(d.Image){const R=new Image;R.onload=N(Un,_,"TestLoadImage: loaded",!0,y,R),R.onerror=N(Un,_,"TestLoadImage: error",!1,y,R),R.onabort=N(Un,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=N(Un,_,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function Xn(f,y){const _=new Vn,R=new AbortController,F=setTimeout(()=>{R.abort(),Un(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(Z=>{clearTimeout(F),Z.ok?Un(_,"TestPingServer: ok",!0,y):Un(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Un(_,"TestPingServer: error",!1,y)})}function Un(f,y,_,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(_)}catch{}}function Ba(){this.g=new Oa}function dr(f,y,_){const R=_||"";try{cl(f,function(F,Z){let ce=F;g(F)&&(ce=Yn(F)),y.push(R+Z+"="+encodeURIComponent(ce))})}catch(F){throw y.push(R+"type="+encodeURIComponent("_badmap")),F}}function ki(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ki,tl),ki.prototype.g=function(){return new qr(this.l,this.j)},ki.prototype.i=function(f){return function(){return f}}({});function qr(f,y){_e.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(qr,_e),n=qr.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,pr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?mr(this):pr(this),this.readyState==3&&ml(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,mr(this))},n.Qa=function(f){this.g&&(this.response=f,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function pr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function pl(f){let y="";return oe(f,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function Ut(f,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=pl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):it(f,y,_))}function Ze(f){_e.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ze,_e);var Ps=/^https?$/i,za=["POST","PUT"];n=Ze.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ur.g(),this.v=this.o?nl(this.o):nl(ur),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Z){dc(this,Z);return}if(f=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)_.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())_.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(za,y,void 0))||R||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of _)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){dc(this,Z)}};function dc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ls(f),gr(f)}function Ls(f){f.A||(f.A=!0,je(f,"complete"),je(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,je(this,"complete"),je(this,"abort"),gr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},n.bb=function(){Us(this)};function Us(f){if(f.h&&typeof c<"u"&&(!f.v[1]||jn(f)!=4||f.Z()!=2)){if(f.u&&jn(f)==4)en(f.Ea,0,f);else if(je(f,"readystatechange"),jn(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=ce===0){var F=String(f.D).match(Va)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),R=!Ps.test(F?F.toLowerCase():"")}_=R}if(_)je(f,"complete"),je(f,"success");else{f.m=6;try{var Z=2<jn(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",Ls(f)}}finally{gr(f)}}}}function gr(f,y){if(f.g){Ha(f);const _=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||je(f,"ready");try{_.onreadystatechange=R}catch{}}}function Ha(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function jn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Is(y)}};function mc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function cd(f){const y={};f=(f.g&&2<=jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(Y(f[R]))continue;var _=L(f[R]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[F]||[];y[F]=Z,Z.push(_)}O(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function js(f){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,f),this.cb=qa("retryDelaySeedMs",1e4,f),this.Wa=qa("forwardChannelMaxRetries",2,f),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ur(f&&f.concurrentRequestLimit),this.Da=new Ba,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=js.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,R){ft(0),this.W=f,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Tc(this,null,this.W),zs(this)};function gl(f){if(pc(f),f.G==3){var y=f.U++,_=An(f.I);if(it(_,"SID",f.K),it(_,"RID",y),it(_,"TYPE","terminate"),Fa(f,_),y=new un(f,f.j,y),y.L=2,y.v=La(An(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ma(y)}Ec(f)}function Bs(f){f.g&&($a(f),f.g.cancel(),f.g=null)}function pc(f){Bs(f),f.u&&(d.clearTimeout(f.u),f.u=null),Hs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function zs(f){if(!Os(f.h)&&!f.s){f.s=!0;var y=f.Ga;le||P(),fe||(le(),fe=!0),Ve.add(y,f),f.B=0}}function fd(f,y){return Ds(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=St(T(f.Ga,f,y),_l(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const F=new un(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=C(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(F.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=gc(this,F,y),_=An(this.I),it(_,"RID",f),it(_,"CVER",22),this.D&&it(_,"X-HTTP-Session-Id",this.D),Fa(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(pl(Z)))+"&"+y:this.m&&Ut(_,this.m,Z)),Ms(this.h,F),this.Ua&&it(_,"TYPE","init"),this.P?(it(_,"$req",y),it(_,"SID","null"),F.T=!0,Qn(F,_,null)):Qn(F,_,y),this.G=2}}else this.G==3&&(f?yl(this,f):this.i.length==0||Os(this.h)||yl(this))};function yl(f,y){var _;y?_=y.l:_=f.U++;const R=An(f.I);it(R,"SID",f.K),it(R,"RID",_),it(R,"AID",f.T),Fa(f,R),f.m&&f.o&&Ut(R,f.m,f.o),_=new un(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=gc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ms(f.h,_),Qn(_,R,y)}function Fa(f,y){f.H&&oe(f.H,function(_,R){it(y,R,_)}),f.l&&cl({},function(_,R){it(y,R,_)})}function gc(f,y,_){_=Math.min(f.i.length,_);var R=f.l?T(f.l.Na,f.l,f):null;e:{var F=f.i;let Z=-1;for(;;){const ce=["count="+_];Z==-1?0<_?(Z=F[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let He=!0;for(let Ot=0;Ot<_;Ot++){let qe=F[Ot].g;const jt=F[Ot].map;if(qe-=Z,0>qe)Z=Math.max(0,F[Ot].g-100),He=!1;else try{dr(jt,ce,"req"+qe+"_")}catch{R&&R(jt)}}if(He){R=ce.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,R}function yc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;le||P(),fe||(le(),fe=!0),Ve.add(y,f),f.v=0}}function vl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=St(T(f.Fa,f),_l(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=St(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Bs(this),vc(this))};function $a(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function vc(f){f.g=new un(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=An(f.qa);it(y,"RID","rpc"),it(y,"SID",f.K),it(y,"AID",f.T),it(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&it(y,"TO",f.ja),it(y,"TYPE","xmlhttp"),Fa(f,y),f.m&&f.o&&Ut(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=La(An(y)),_.m=null,_.P=!0,Lr(_,f)}n.Za=function(){this.C!=null&&(this.C=null,Bs(this),vl(this),ft(19))};function Hs(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function _c(f,y){var _=null;if(f.g==y){Hs(f),$a(f),f.g=null;var R=2}else if(ll(f.h,y))_=y.D,cn(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=f.B;R=Ii(),je(R,new Nt(R,_)),zs(f)}else yc(f);else if(F=y.s,F==3||F==0&&0<y.X||!(R==1&&fd(f,y)||R==2&&vl(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),F){case 1:Fr(f,5);break;case 4:Fr(f,10);break;case 3:Fr(f,6);break;default:Fr(f,2)}}}function _l(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function Fr(f,y){if(f.j.info("Error code "+y),y==2){var _=T(f.fb,f),R=f.Xa;const F=!R;R=new At(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pa(R,"https"),La(R),F?ja(R.toString(),_):Xn(R.toString(),_)}else ft(2);f.G=0,f.l&&f.l.sa(y),Ec(f),pc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Ec(f){if(f.G=0,f.ka=[],f.l){const y=ul(f.h);(y.length!=0||f.i.length!=0)&&(k(f.ka,y),k(f.ka,f.i),f.h.i.length=0,B(f.i),f.i.length=0),f.l.ra()}}function Tc(f,y,_){var R=_ instanceof At?An(_):new At(_);if(R.g!="")y&&(R.g=y+"."+R.g),Mi(R,R.s);else{var F=d.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Z=new At(null);R&&Pa(Z,R),y&&(Z.g=y),F&&Mi(Z,F),_&&(Z.l=_),R=Z}return _=f.D,y=f.ya,_&&y&&it(R,_,y),it(R,"VER",f.la),Fa(f,R),R}function bc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ze(new ki({eb:_})):new Ze(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}n=wc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qs(){}qs.prototype.g=function(f,y){return new fn(f,y)};function fn(f,y){_e.call(this),this.g=new js(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!Y(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new yr(this)}I(fn,_e),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){gl(this.g)},fn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=Yn(f),f=_);y.i.push(new cc(y.Ya++,f)),y.G==3&&zs(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,fn.aa.N.call(this)};function Sc(f){Vr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(Sc,Vr);function Ac(){il.call(this),this.status=1}I(Ac,il);function yr(f){this.g=f}I(yr,wc),yr.prototype.ua=function(){je(this.g,"a")},yr.prototype.ta=function(f){je(this.g,new Sc(f))},yr.prototype.sa=function(f){je(this.g,new Ac)},yr.prototype.ra=function(){je(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,$w=function(){return new qs},Fw=function(){return Ii()},qw=lr,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,Ff=Oi,Pr.COMPLETE="complete",Hw=Pr,rl.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",_e.prototype.listen=_e.prototype.K,pu=rl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,zw=Ze}).apply(typeof Of<"u"?Of:typeof self<"u"?self:typeof window<"u"?window:{});const cT="@firebase/firestore",fT="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Fg("@firebase/firestore");function To(){return _s.logLevel}function de(n,...e){if(_s.logLevel<=Be.DEBUG){const t=e.map(ny);_s.debug(`Firestore (${Yo}): ${n}`,...t)}}function Ei(n,...e){if(_s.logLevel<=Be.ERROR){const t=e.map(ny);_s.error(`Firestore (${Yo}): ${n}`,...t)}}function Mo(n,...e){if(_s.logLevel<=Be.WARN){const t=e.map(ny);_s.warn(`Firestore (${Yo}): ${n}`,...t)}}function ny(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,Gw(n,a,t)}function Gw(n,e,t){let a=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ei(a),new Error(a)}function et(n,e,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,n||Gw(e,s,a)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h4{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0,42304);let a=this.i;const s=m=>this.i!==a?(a=this.i,t(m)):Promise.resolve();let l=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ma,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ma)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new Kw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class d4{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m4{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new d4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){et(this.o===void 0,3512);const a=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const s=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=g4(40);for(let l=0;l<s.length;++l)a.length<20&&s[l]<t&&(a+=e.charAt(s[l]%62))}return a}}function Me(n,e){return n<e?-1:n>e?1:0}function Jp(n,e){let t=0;for(;t<n.length&&t<e.length;){const a=n.codePointAt(t),s=e.codePointAt(t);if(a!==s){if(a<128&&s<128)return Me(a,s);{const l=Yw(),c=y4(l.encode(dT(n,t)),l.encode(dT(e,t)));return c!==0?c:Me(a,s)}}t+=a>65535?2:1}return Me(n.length,e.length)}function dT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function y4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function ko(n,e,t){return n.length===e.length&&n.every((a,s)=>t(a,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=-62135596800,pT=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*pT);return new gt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mT)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pT}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new gt(0,0))}static max(){return new Ie(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="__name__";class Sr{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Ae(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let s=0;s<a;s++){const l=Sr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Me(e.length,t.length)}static compareSegments(e,t){const a=Sr.isNumericId(e),s=Sr.isNumericId(t);return a&&!s?-1:!a&&s?1:a&&s?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):Jp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class ct extends Sr{construct(e,t,a){return new ct(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(ae.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(s=>s.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const v4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Sr{construct(e,t,a){return new Xt(e,t,a)}static isValidIdentifier(e){return v4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gT}static keyField(){return new Xt([gT])}static fromServerFormat(e){const t=[];let a="",s=0;const l=()=>{if(a.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new pe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(a+=d,s++):(l(),s++)}if(l(),c)throw new pe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ct.fromString(e))}static fromName(e){return new ve(ct.fromString(e).popFirst(5))}static empty(){return new ve(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=-1;function _4(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(a===1e9?new gt(t+1,0):new gt(t,a));return new ga(s,ve.empty(),e)}function E4(n){return new ga(n.readTime,n.key,Ou)}class ga{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new ga(Ie.min(),ve.empty(),Ou)}static max(){return new ga(Ie.max(),ve.empty(),Ou)}}function T4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==b4)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((a,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,a)=>{t(e)})}static reject(e){return new ie((t,a)=>{a(e)})}static waitFor(e){return new ie((t,a)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&t()},m=>a(m))}),c=!0,l===s&&t()})}static or(e){let t=ie.resolve(!1);for(const a of e)t=t.next(s=>s?ie.resolve(s):a());return t}static forEach(e,t){const a=[];return e.forEach((s,l)=>{a.push(t.call(this,s,l))}),this.waitFor(a)}static mapArray(e,t){return new ie((a,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++d,d===l&&a(c)},v=>s(v))}})}static doWhile(e,t){return new ie((a,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):a()};l()})}}function S4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>t.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function zh(n){return n==null}function uh(n){return n===0&&1/n==-1/0}function A4(n){return typeof n=="number"&&Number.isInteger(n)&&!uh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="";function R4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yT(e)),e=C4(n.get(t),e);return yT(e)}function C4(n,e){let t=e;const a=n.length;for(let s=0;s<a;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case Xw:t+="";break;default:t+=l}}return t}function yT(n){return n+Xw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ww(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return t+a.left.size;s<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,t,a,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,a,s,l){this.key=e,this.value=t,this.color=a??Qt.RED,this.left=s??Qt.EMPTY,this.right=l??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,s,l){return new Qt(e??this.key,t??this.value,a??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let s=this;const l=a(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,a),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,a,s,l){return this}insert(e,t,a){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Vt(Xt.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zw("Invalid base64 string: "+l):l}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const I4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(n){if(et(!!n,39018),typeof n=="string"){let e=0;const t=I4.exec(n);if(et(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function va(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="server_timestamp",eS="__type__",tS="__previous_value__",nS="__local_write_time__";function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[eS])===null||t===void 0?void 0:t.stringValue)===Jw}function Hh(n){const e=n.mapValue.fields[tS];return iy(e)?Hh(e):e}function Du(n){const e=ya(n.mapValue.fields[nS].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t,a,s,l,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const ch="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||ch}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__type__",N4="__max__",Mf={mapValue:{}},iS="__vector__",fh="value";function _a(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:D4(n)?9007199254740991:O4(n)?10:11:Ae(28295,{value:n})}function Or(n,e){if(n===e)return!0;const t=_a(n);if(t!==_a(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Du(n).isEqual(Du(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ya(s.timestampValue),d=ya(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return va(s.bytesValue).isEqual(va(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return wt(s.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(s.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return wt(s.integerValue)===wt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=wt(s.doubleValue),d=wt(l.doubleValue);return c===d?uh(c)===uh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ko(n.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(vT(c)!==vT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Or(c[m],d[m])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function ku(n,e){return(n.values||[]).find(t=>Or(t,e))!==void 0}function Vo(n,e){if(n===e)return 0;const t=_a(n),a=_a(e);if(t!==a)return Me(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return ET(n.timestampValue,e.timestampValue);case 4:return ET(Du(n),Du(e));case 5:return Jp(n.stringValue,e.stringValue);case 6:return function(l,c){const d=va(l),m=va(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Me(d[g],m[g]);if(v!==0)return v}return Me(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Me(wt(l.latitude),wt(c.latitude));return d!==0?d:Me(wt(l.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return TT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,v;const b=l.fields||{},T=c.fields||{},N=(d=b[fh])===null||d===void 0?void 0:d.arrayValue,I=(m=T[fh])===null||m===void 0?void 0:m.arrayValue,B=Me(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:TT(N,I)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Mf.mapValue&&c===Mf.mapValue)return 0;if(l===Mf.mapValue)return 1;if(c===Mf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const T=Jp(m[b],v[b]);if(T!==0)return T;const N=Vo(d[m[b]],g[v[b]]);if(N!==0)return N}return Me(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function ET(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=ya(n),a=ya(e),s=Me(t.seconds,a.seconds);return s!==0?s:Me(t.nanos,a.nanos)}function TT(n,e){const t=n.values||[],a=e.values||[];for(let s=0;s<t.length&&s<a.length;++s){const l=Vo(t[s],a[s]);if(l)return l}return Me(t.length,a.length)}function Po(n){return eg(n)}function eg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const a=ya(t);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return va(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let a="[",s=!0;for(const l of t.values||[])s?s=!1:a+=",",a+=eg(l);return a+"]"}(n.arrayValue):"mapValue"in n?function(t){const a=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of a)l?l=!1:s+=",",s+=`${c}:${eg(t.fields[c])}`;return s+"}"}(n.mapValue):Ae(61005,{value:n})}function $f(n){switch(_a(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(n);return e?16+$f(e):16;case 5:return 2*n.stringValue.length;case 6:return va(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((s,l)=>s+$f(l),0)}(n.arrayValue);case 10:case 11:return function(a){let s=0;return Aa(a.fields,(l,c)=>{s+=l.length+$f(c)}),s}(n.mapValue);default:throw Ae(13486,{value:n})}}function bT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tg(n){return!!n&&"integerValue"in n}function ay(n){return!!n&&"arrayValue"in n}function wT(n){return!!n&&"nullValue"in n}function ST(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function O4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rS])===null||t===void 0?void 0:t.stringValue)===iS}function Tu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Tu(a)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function D4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===N4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=Xt.emptyPath(),a={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,a,s),a={},s=[],t=d.popLast()}c?a[d.lastSegment()]=Tu(c):s.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,s)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=t.mapValue.fields[e.get(a)];Gf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,a){Aa(t,(s,l)=>e[s]=l);for(const s of a)delete e[s]}clone(){return new Tn(Tu(this.value))}}function aS(n){const e=[];return Aa(n.fields,(t,a)=>{const s=new Xt([t]);if(Gf(a)){const l=aS(a.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,a,s,l,c,d){this.key=e,this.documentType=t,this.version=a,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Ie.min(),Ie.min(),Ie.min(),Tn.empty(),0)}static newFoundDocument(e,t,a,s){return new sn(e,1,t,Ie.min(),a,s,0)}static newNoDocument(e,t){return new sn(e,2,t,Ie.min(),Ie.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ie.min(),Ie.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.position=e,this.inclusive=t}}function AT(n,e,t){let a=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?a=ve.comparator(ve.fromName(c.referenceValue),t.key):a=Vo(c,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function RT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Or(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function M4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class xt extends sS{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new V4(e,t,a):t==="array-contains"?new U4(e,a):t==="in"?new j4(e,a):t==="not-in"?new B4(e,a):t==="array-contains-any"?new z4(e,a):new xt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new P4(e,a):new L4(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vo(t,this.value)):t!==null&&_a(this.value)===_a(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends sS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ar(e,t)}matches(e){return oS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oS(n){return n.op==="and"}function lS(n){return k4(n)&&oS(n)}function k4(n){for(const e of n.filters)if(e instanceof ar)return!1;return!0}function ng(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Po(n.value);if(lS(n))return n.filters.map(e=>ng(e)).join(",");{const e=n.filters.map(t=>ng(t)).join(",");return`${n.op}(${e})`}}function uS(n,e){return n instanceof xt?function(a,s){return s instanceof xt&&a.op===s.op&&a.field.isEqual(s.field)&&Or(a.value,s.value)}(n,e):n instanceof ar?function(a,s){return s instanceof ar&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce((l,c,d)=>l&&uS(c,s.filters[d]),!0):!1}(n,e):void Ae(19439)}function cS(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`}(n):n instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(cS).join(" ,")+"}"}(n):"Filter"}class V4 extends xt{constructor(e,t,a){super(e,t,a),this.key=ve.fromName(a.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class P4 extends xt{constructor(e,t){super(e,"in",t),this.keys=fS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class L4 extends xt{constructor(e,t){super(e,"not-in",t),this.keys=fS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>ve.fromName(a.referenceValue))}class U4 extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ay(t)&&ku(t.arrayValue,this.value)}}class j4 extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class B4 extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class z4 extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>ku(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t=null,a=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function CT(n,e=null,t=[],a=[],s=null,l=null,c=null){return new H4(n,e,t,a,s,l,c)}function sy(n){const e=xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>ng(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Po(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Po(a)).join(",")),e.Ie=t}return e.Ie}function oy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RT(n.startAt,e.startAt)&&RT(n.endAt,e.endAt)}function rg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t=null,a=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function q4(n,e,t,a,s,l,c,d){return new Zu(n,e,t,a,s,l,c,d)}function ly(n){return new Zu(n)}function IT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hS(n){return n.collectionGroup!==null}function bu(n){const e=xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Vt(Xt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new dh(l,a))}),t.has(Xt.keyField().canonicalString())||e.Ee.push(new dh(Xt.keyField(),a))}return e.Ee}function Ir(n){const e=xe(n);return e.de||(e.de=F4(e,bu(n))),e.de}function F4(n,e){if(n.limitType==="F")return CT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new dh(s.field,l)});const t=n.endAt?new hh(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new hh(n.startAt.position,n.startAt.inclusive):null;return CT(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function ig(n,e){const t=n.filters.concat([e]);return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ag(n,e,t){return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return oy(Ir(n),Ir(e))&&n.limitType===e.limitType}function dS(n){return`${sy(Ir(n))}|lt:${n.limitType}`}function bo(n){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(s=>cS(s)).join(", ")}]`),zh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(s=>Po(s)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(s=>Po(s)).join(",")),`Target(${a})`}(Ir(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(a,s){const l=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):ve.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(n,e)&&function(a,s){for(const l of bu(a))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(a,s){for(const l of a.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(a,s){return!(a.startAt&&!function(c,d,m){const g=AT(c,d,m);return c.inclusive?g<=0:g<0}(a.startAt,bu(a),s)||a.endAt&&!function(c,d,m){const g=AT(c,d,m);return c.inclusive?g>=0:g>0}(a.endAt,bu(a),s))}(n,e)}function $4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mS(n){return(e,t)=>{let a=!1;for(const s of bu(n)){const l=G4(s,e,t);if(l!==0)return l;a=a||s.field.isKeyField()}return 0}}function G4(n,e,t){const a=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Vo(m,g):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[s,l]of a)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[t]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,a)=>{for(const[s,l]of a)e(s,l)})}isEmpty(){return Ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new yt(ve.comparator);function Ti(){return K4}const pS=new yt(ve.comparator);function gu(...n){let e=pS;for(const t of n)e=e.insert(t.key,t);return e}function gS(n){let e=pS;return n.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function cs(){return wu()}function yS(){return wu()}function wu(){return new Ss(n=>n.toString(),(n,e)=>n.isEqual(e))}const Y4=new yt(ve.comparator),Q4=new Vt(ve.comparator);function ze(...n){let e=Q4;for(const t of n)e=e.add(t);return e}const X4=new Vt(Me);function W4(){return X4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function vS(n){return{integerValue:""+n}}function Z4(n,e){return A4(e)?vS(e):uy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function J4(n,e,t){return n instanceof mh?function(s,l){const c={fields:{[eS]:{stringValue:Jw},[nS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&iy(l)&&(l=Hh(l)),l&&(c.fields[tS]=l),{mapValue:c}}(t,e):n instanceof Vu?ES(n,e):n instanceof Pu?TS(n,e):function(s,l){const c=_S(s,l),d=xT(c)+xT(s.Re);return tg(c)&&tg(s.Re)?vS(d):uy(s.serializer,d)}(n,e)}function ek(n,e,t){return n instanceof Vu?ES(n,e):n instanceof Pu?TS(n,e):t}function _S(n,e){return n instanceof ph?function(a){return tg(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class mh extends $h{}class Vu extends $h{constructor(e){super(),this.elements=e}}function ES(n,e){const t=bS(e);for(const a of n.elements)t.some(s=>Or(s,a))||t.push(a);return{arrayValue:{values:t}}}class Pu extends $h{constructor(e){super(),this.elements=e}}function TS(n,e){let t=bS(e);for(const a of n.elements)t=t.filter(s=>!Or(s,a));return{arrayValue:{values:t}}}class ph extends $h{constructor(e,t){super(),this.serializer=e,this.Re=t}}function xT(n){return wt(n.integerValue||n.doubleValue)}function bS(n){return ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tk(n,e){return n.field.isEqual(e.field)&&function(a,s){return a instanceof Vu&&s instanceof Vu||a instanceof Pu&&s instanceof Pu?ko(a.elements,s.elements,Or):a instanceof ph&&s instanceof ph?Or(a.Re,s.Re):a instanceof mh&&s instanceof mh}(n.transform,e.transform)}class nk{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gh{}function wS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cy(n.key,nr.none()):new Ju(n.key,n.data,nr.none());{const t=n.data,a=Tn.empty();let s=new Vt(Xt.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?a.delete(l):a.set(l,c),s=s.add(l)}return new Ra(n.key,a,new kn(s.toArray()),nr.none())}}function rk(n,e,t){n instanceof Ju?function(s,l,c){const d=s.value.clone(),m=OT(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ra?function(s,l,c){if(!Kf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=OT(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(SS(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Su(n,e,t,a){return n instanceof Ju?function(l,c,d,m){if(!Kf(l.precondition,c))return d;const g=l.value.clone(),v=DT(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,a):n instanceof Ra?function(l,c,d,m){if(!Kf(l.precondition,c))return d;const g=DT(l.fieldTransforms,m,c),v=c.data;return v.setAll(SS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,a):function(l,c,d){return Kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function ik(n,e){let t=null;for(const a of n.fieldTransforms){const s=e.data.field(a.field),l=_S(a.transform,s||null);l!=null&&(t===null&&(t=Tn.empty()),t.set(a.field,l))}return t||null}function NT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&ko(a,s,(l,c)=>tk(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ju extends Gh{constructor(e,t,a,s=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ra extends Gh{constructor(e,t,a,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}}),e}function OT(n,e,t){const a=new Map;et(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);a.set(l.field,ek(c,d,t[s]))}return a}function DT(n,e,t){const a=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);a.set(s.field,J4(l,c,e))}return a}class cy extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ak extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t,a,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&rk(l,e,a[s])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Su(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Su(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=yS();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const m=wS(c,d);m!==null&&a.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,a)=>NT(t,a))&&ko(this.baseMutations,e.baseMutations,(t,a)=>NT(t,a))}}class fy{constructor(e,t,a,s){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=s}static from(e,t,a){et(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let s=function(){return Y4}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,a[c].version);return new fy(e,t,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,$e;function uk(n){switch(n){case ae.OK:return Ae(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function AS(n){if(n===void 0)return Ei("GRPC error has no .code"),ae.UNKNOWN;switch(n){case It.OK:return ae.OK;case It.CANCELLED:return ae.CANCELLED;case It.UNKNOWN:return ae.UNKNOWN;case It.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case It.INTERNAL:return ae.INTERNAL;case It.UNAVAILABLE:return ae.UNAVAILABLE;case It.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case It.NOT_FOUND:return ae.NOT_FOUND;case It.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case It.ABORTED:return ae.ABORTED;case It.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case It.DATA_LOSS:return ae.DATA_LOSS;default:return Ae(39323,{code:n})}}($e=It||(It={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new da([4294967295,4294967295],0);function MT(n){const e=Yw().encode(n),t=new Bw;return t.update(e),new Uint8Array(t.digest())}function kT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new da([t,a],0),new da([s,l],0)]}class hy{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(a<0)throw new yu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=da.fromNumber(this.pe)}we(e,t,a){let s=e.add(t.multiply(da.fromNumber(a)));return s.compare(ck)===1&&(s=new da([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=MT(e),[a,s]=kT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(a,s,l);if(!this.Se(c))return!1}return!0}static create(e,t,a){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hy(l,s,t);return a.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=MT(e),[a,s]=kT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(a,s,l);this.be(c)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,a,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const s=new Map;return s.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Kh(Ie.min(),s,new yt(Me),Ti(),ze())}}class ec{constructor(e,t,a,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ec(a,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,a,s){this.De=e,this.removedTargetIds=t,this.key=a,this.ve=s}}class RS{constructor(e,t){this.targetId=e,this.Ce=t}}class CS{constructor(e,t,a=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=s}}class VT{constructor(){this.Fe=0,this.Me=PT(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),a=ze();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:a=a.add(s);break;default:Ae(38017,{changeType:l})}}),new ec(this.xe,this.Oe,e,t,a)}Qe(){this.Ne=!1,this.Me=PT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fk{constructor(e){this.ze=e,this.je=new Map,this.He=Ti(),this.Je=kf(),this.Ye=kf(),this.Ze=new yt(Me)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const a=this.rt(t);switch(e.state){case 0:this.it(t)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(t);break;case 3:this.it(t)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),a.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((a,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,a=e.Ce.count,s=this._t(t);if(s){const l=s.target;if(rg(l))if(a===0){const c=new ve(l.path);this.tt(t,c,sn.newNoDocument(c,Ie.min()))}else et(a===1,20013,{expectedCount:a});else{const c=this.ut(t);if(c!==a){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=va(a).toUint8Array()}catch(m){if(m instanceof Zw)return Mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new hy(c,s,l)}catch(m){return Mo(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,a){return t.Ce.count===a-this.Tt(e,t.targetId)?0:2}Tt(e,t){const a=this.ze.getRemoteKeysForTarget(t);let s=0;return a.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),s++)}),s}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&rg(d.target)){const m=new ve(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,sn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let a=ze();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new Kh(e,t,this.Ze,this.He,a);return this.He=Ti(),this.Je=kf(),this.Ye=kf(),this.Ze=new yt(Me),s}et(e,t){if(!this.it(e))return;const a=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,a),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,a){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),a&&(this.He=this.He.insert(t,a))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new VT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Vt(Me),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Vt(Me),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new VT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function kf(){return new yt(ve.comparator)}function PT(){return new yt(ve.comparator)}const hk={asc:"ASCENDING",desc:"DESCENDING"},dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class pk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sg(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gk(n,e){return gh(n,e.toTimestamp())}function xr(n){return et(!!n,49232),Ie.fromTimestamp(function(t){const a=ya(t);return new gt(a.seconds,a.nanos)}(n))}function dy(n,e){return og(n,e).canonicalString()}function og(n,e){const t=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xS(n){const e=ct.fromString(n);return et(kS(e),10190,{key:e.toString()}),e}function lg(n,e){return dy(n.databaseId,e.path)}function Rp(n,e){const t=xS(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(OS(t))}function NS(n,e){return dy(n.databaseId,e)}function yk(n){const e=xS(n);return e.length===4?ct.emptyPath():OS(e)}function ug(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OS(n){return et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function LT(n,e,t){return{name:lg(n,e),fields:t.value.mapValue.fields}}function vk(n,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(et(v===void 0||typeof v=="string",58123),Wt.fromBase64String(v||"")):(et(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Wt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?ae.UNKNOWN:AS(g.code);return new pe(v,g.message||"")}(c);t=new CS(a,s,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=Rp(n,a.document.name),l=xr(a.document.updateTime),c=a.document.createTime?xr(a.document.createTime):Ie.min(),d=new Tn({mapValue:{fields:a.document.fields}}),m=sn.newFoundDocument(s,l,c,d),g=a.targetIds||[],v=a.removedTargetIds||[];t=new Yf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=Rp(n,a.document),l=a.readTime?xr(a.readTime):Ie.min(),c=sn.newNoDocument(s,l),d=a.removedTargetIds||[];t=new Yf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=Rp(n,a.document),l=a.removedTargetIds||[];t=new Yf([],l,s,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:l}=a,c=new lk(s,l),d=a.targetId;t=new RS(d,c)}}return t}function _k(n,e){let t;if(e instanceof Ju)t={update:LT(n,e.key,e.value)};else if(e instanceof cy)t={delete:lg(n,e.key)};else if(e instanceof Ra)t={update:LT(n,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof ak))return Ae(16599,{ft:e.type});t={verify:lg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,c){const d=c.transform;if(d instanceof mh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ph)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ae(20930,{transform:c.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:gk(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(n,e.precondition)),t}function Ek(n,e){return n&&n.length>0?(et(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?xr(s.updateTime):xr(l);return c.isEqual(Ie.min())&&(c=xr(l)),new nk(c,s.transformResults||[])}(t,e))):[]}function Tk(n,e){return{documents:[NS(n,e.path)]}}function bk(n,e){const t={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=NS(n,s);const l=function(g){if(g.length!==0)return MS(ar.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:wo(T.field),direction:Ak(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=sg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:s}}function wk(n){let e=yk(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let s=null;if(a>0){et(a===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const T=DS(b);return T instanceof ar&&lS(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(T=>function(I){return new dh(So(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(b){let T;return T=typeof b=="object"?b.value:b,zh(T)?null:T}(t.limit));let m=null;t.startAt&&(m=function(b){const T=!!b.before,N=b.values||[];return new hh(N,T)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const T=!b.before,N=b.values||[];return new hh(N,T)}(t.endAt)),q4(e,s,c,l,d,"F",m,g)}function Sk(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=So(t.unaryFilter.field);return xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=So(t.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(t.unaryFilter.field);return xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(t.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return xt.create(So(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(a=>DS(a)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function Ak(n){return hk[n]}function Rk(n){return dk[n]}function Ck(n){return mk[n]}function wo(n){return{fieldPath:n.canonicalString()}}function So(n){return Xt.fromServerFormat(n.fieldPath)}function MS(n){return n instanceof xt?function(t){if(t.op==="=="){if(ST(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(wT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ST(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(wT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:Rk(t.op),value:t.value}}}(n):n instanceof ar?function(t){const a=t.getFilters().map(s=>MS(s));return a.length===1?a[0]:{compositeFilter:{op:Ck(t.op),filters:a}}}(n):Ae(54877,{filter:n})}function Ik(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,a,s,l=Ie.min(),c=Ie.min(),d=Wt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.wt=e}}function Nk(n){const e=wk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.Cn=new Dk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(ga.min())}updateCollectionGroup(e,t,a){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t]||new Vt(ct.comparator),l=!s.has(a);return this.index[t]=s.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t];return s&&s.has(a)}getEntries(e){return(this.index[e]||new Vt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(VS,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Lo(0)}static lr(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="LruGarbageCollector",Mk=1048576;function BT([n,e],[t,a]){const s=Me(n,t);return s===0?Me(e,a):s}class kk{constructor(e){this.Er=e,this.buffer=new Vt(BT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();BT(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vk{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(jT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?de(jT,"Ignoring IndexedDB error during garbage collection: ",t):await Qo(t)}await this.mr(3e5)})}}class Pk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Bh.le);const a=new kk(t);return this.gr.forEachTarget(e,s=>a.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>a.Rr(s))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.gr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(UT)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let a,s,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(a=b,d=Date.now(),this.removeTargets(e,a,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),To()<=Be.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:b})))}}function Lk(n,e){return new Pk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.changes=new Ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ie.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,a,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(a=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(a!==null&&Su(a.mutation,s,kn.empty(),gt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,ze()).next(()=>a))}getLocalViewOfDocuments(e,t,a=ze()){const s=cs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,a).next(l=>{let c=gu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const a=cs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,ze()))}populateOverlays(e,t,a){const s=[];return a.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,a,s){let l=Ti();const c=wu(),d=function(){return wu()}();return t.forEach((m,g)=>{const v=a.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof Ra)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Su(v.mutation,g,v.mutation.getFieldMask(),gt.now())):c.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var b;return d.set(g,new jk(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const a=wu();let s=new yt((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=a.get(m)||kn.empty();v=d.applyToLocalView(g,v),a.set(m,v);const b=(s.get(d.batchId)||ze()).add(m);s=s.insert(d.batchId,b)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=yS();v.forEach(T=>{if(!l.has(T)){const N=wS(t.get(T),a.get(T));N!==null&&b.set(T,N),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(c)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,s){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,s):this.getDocumentsMatchingCollectionQuery(e,t,a,s)}getNextDocuments(e,t,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,s-l.size):ie.resolve(cs());let d=Ou,m=l;return c.next(g=>ie.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,ze())).next(v=>({batchId:d,changes:gS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(a=>{let s=gu();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,a,s){const l=t.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(e,l).next(d=>ie.forEach(d,m=>{const g=function(b,T){return new Zu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,s).next(v=>{v.forEach((b,T)=>{c=c.insert(b,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,a,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,s))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))});let d=gu();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Su(v.mutation,g,kn.empty(),gt.now()),Fh(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ie.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:Nk(s.bundledQuery),readTime:xr(s.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.overlays=new yt(ve.comparator),this.Qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const a=cs();return ie.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&a.set(s,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((s,l)=>{this.bt(e,t,l)}),ie.resolve()}removeOverlaysForBatchId(e,t,a){const s=this.Qr.get(a);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(a)),ie.resolve()}getOverlaysForCollection(e,t,a){const s=cs(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>a&&s.set(m.getKey(),m)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,a,s){let l=new yt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let v=l.get(g.largestBatchId);v===null&&(v=cs(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=cs(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=s)););return ie.resolve(d)}bt(e,t,a){const s=this.overlays.get(a.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(a.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new ok(t,a));let l=this.Qr.get(t);l===void 0&&(l=ze(),this.Qr.set(t,l)),this.Qr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.$r=new Vt(qt.Ur),this.Kr=new Vt(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const a=new qt(e,t);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.zr(new qt(e,t))}jr(e,t){e.forEach(a=>this.removeReference(a,t))}Hr(e){const t=new ve(new ct([])),a=new qt(t,e),s=new qt(t,e+1),l=[];return this.Kr.forEachInRange([a,s],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new ct([])),a=new qt(t,e),s=new qt(t,e+1);let l=ze();return this.Kr.forEachInRange([a,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new qt(e,0),a=this.$r.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class qt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||Me(e.Zr,t.Zr)}static Wr(e,t){return Me(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Vt(qt.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,s){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sk(l,t,a,s);this.mutationQueue.push(c);for(const d of s)this.Xr=this.Xr.add(new qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,s=this.ti(a),l=s<0?0:s;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ry:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new qt(t,0),s=new qt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([a,s],c=>{const d=this.ei(c.Zr);l.push(d)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Vt(Me);return t.forEach(s=>{const l=new qt(s,0),c=new qt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{a=a.add(d.Zr)})}),ie.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,s=a.length+1;let l=a;ve.isDocumentKey(l)||(l=l.child(""));const c=new qt(new ve(l),0);let d=new Vt(Me);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===s&&(d=d.add(m.Zr)),!0)},c),ie.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(a=>{const s=this.ei(a);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){et(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ie.forEach(t.mutations,s=>{const l=new qt(s.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,t){const a=new qt(t,0),s=this.Xr.firstAfterOrEqual(a);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.ii=e,this.docs=function(){return new yt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,s=this.docs.get(a),l=s?s.size:0,c=this.ii(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ie.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let a=Ti();return t.forEach(s=>{const l=this.docs.get(s);a=a.insert(s,l?l.document.mutableCopy():sn.newInvalidDocument(s))}),ie.resolve(a)}getDocumentsMatchingQuery(e,t,a,s){let l=Ti();const c=t.path,d=new ve(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||T4(E4(v),a)<=0||(s.has(v.key)||Fh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,a,s){Ae(9500)}si(e,t){return ie.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Gk(this)}getSize(e){return ie.resolve(this.size)}}class Gk extends Uk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((a,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(a)}),ie.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.persistence=e,this.oi=new Ss(t=>sy(t),oy),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new my,this.targetCount=0,this.ui=Lo.cr()}forEachTarget(e,t){return this.oi.forEach((a,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this._i&&(this._i=t),ie.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Tr(t),ie.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,a){let s=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ie.waitFor(l).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const a=this.oi.get(t)||null;return ie.resolve(a)}addMatchingKeys(e,t,a){return this.ai.Gr(t,a),ie.resolve()}removeMatchingKeys(e,t,a){this.ai.jr(t,a);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ai.Yr(t);return ie.resolve(a)}containsKey(e,t){return ie.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.ci={},this.overlays={},this.li=new Bh(0),this.hi=!1,this.hi=!0,this.Pi=new qk,this.referenceDelegate=e(this),this.Ti=new Kk(this),this.indexManager=new Ok,this.remoteDocumentCache=function(s){return new $k(s)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new xk(t),this.Ei=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ci[e.toKey()];return a||(a=new Fk(t,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,a){de("MemoryPersistence","Starting transaction:",e);const s=new Yk(this.li.next());return this.referenceDelegate.di(),a(s).next(l=>this.referenceDelegate.Ai(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ri(e,t){return ie.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,t)))}}class Yk extends w4{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Vi=new my,this.mi=null}static fi(e){return new py(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,t,a){return this.Vi.addReference(a,t),this.gi.delete(a.toString()),ie.resolve()}removeReference(e,t,a){return this.Vi.removeReference(a,t),this.gi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.gi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,a=>{const s=ve.fromPath(a);return this.pi(e,s).next(l=>{l||t.removeEntry(s,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(a=>{a?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ie.or([()=>ie.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class yh{constructor(e,t){this.persistence=e,this.yi=new Ss(a=>R4(a.path),(a,s)=>a.isEqual(s)),this.garbageCollector=Lk(this,t)}static fi(e,t){return new yh(e,t)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(s=>a+s))}Sr(e){let t=0;return this.yr(e,a=>{t++}).next(()=>t)}yr(e,t){return ie.forEach(this.yi,(a,s)=>this.Dr(e,a,s).next(l=>l?ie.resolve():t(s)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,t).next(d=>{d||(a++,l.removeEntry(c,Ie.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$f(e.data.value)),t}Dr(e,t,a){return ie.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return ie.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,a,s){this.targetId=e,this.fromCache=t,this.ds=a,this.As=s}static Rs(e,t){let a=ze(),s=ze();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new gy(e,t.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xN()?8:S4(on())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,a,s){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(e,t,s,a).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Qk;return this.bs(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,a,s){return a.documentReadCount<this.gs?(To()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(To()<=Be.DEBUG&&de("QueryEngine","Query:",bo(t),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.ps*s?(To()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):ie.resolve())}ws(e,t){if(IT(t))return ie.resolve(null);let a=Ir(t);return this.indexManager.getIndexType(e,a).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ag(t,null,"F"),a=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const c=ze(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.vs(t,d);return this.Cs(t,g,c,m.readTime)?this.ws(e,ag(t,null,"F")):this.Fs(e,g,t,m)}))})))}Ss(e,t,a,s){return IT(t)||s.isEqual(Ie.min())?ie.resolve(null):this.ys.getDocuments(e,a).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,a,s)?ie.resolve(null):(To()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bo(t)),this.Fs(e,c,t,_4(s,Ou)).next(d=>d))})}vs(e,t){let a=new Vt(mS(e));return t.forEach((s,l)=>{Fh(e,l)&&(a=a.add(l))}),a}Cs(e,t,a,s){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}bs(e,t,a){return To()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",bo(t)),this.ys.getDocumentsMatchingQuery(e,t,ga.min(),a)}Fs(e,t,a,s){return this.ys.getDocumentsMatchingQuery(e,a,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",Wk=3e8;class Zk{constructor(e,t,a,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new yt(Me),this.Os=new Ss(l=>sy(l),oy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Jk(n,e,t,a){return new Zk(n,e,t,a)}async function LS(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let s;return t.mutationQueue.getAllMutationBatches(a).next(l=>(s=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const c=[],d=[];let m=ze();for(const g of s){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(a,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function eV(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const s=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const b=g.batch,T=b.keys();let N=ie.resolve();return T.forEach(I=>{N=N.next(()=>v.getEntry(m,I)).next(B=>{const k=g.docVersions.get(I);et(k!==null,48541),B.version.compareTo(k)<0&&(b.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(a,s))})}function US(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function tV(n,e){const t=xe(n),a=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const d=[];e.targetChanges.forEach((v,b)=>{const T=s.get(b);if(!T)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let N=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(Wt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,a)),s=s.insert(b,N),function(B,k,q){return B.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Wk?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,N,v)&&d.push(t.Ti.updateTargetData(l,N))});let m=Ti(),g=ze();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(nV(l,c,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!a.isEqual(Ie.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,a));d.push(v)}return ie.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.xs=s,l))}function nV(n,e,t){let a=ze(),s=ze();return t.forEach(l=>a=a.add(l)),e.getEntries(n,a).next(l=>{let c=Ti();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):de(yy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:s}})}function rV(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ry),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function iV(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let s;return t.Ti.getTargetData(a,e).next(l=>l?(s=l,ie.resolve(s)):t.Ti.allocateTargetId(a).next(c=>(s=new la(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.Ti.addTargetData(a,s).next(()=>s))))}).then(a=>{const s=t.xs.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(a.targetId,a),t.Os.set(e,a.targetId)),a})}async function cg(n,e,t){const a=xe(n),s=a.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,c=>a.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Xo(c))throw c;de(yy,`Failed to update sequence numbers for target ${e}: ${c}`)}a.xs=a.xs.remove(e),a.Os.delete(s.target)}function zT(n,e,t){const a=xe(n);let s=Ie.min(),l=ze();return a.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const b=xe(m),T=b.Os.get(v);return T!==void 0?ie.resolve(b.xs.get(T)):b.Ti.getTargetData(g,v)}(a,c,Ir(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>a.Ms.getDocumentsMatchingQuery(c,e,t?s:Ie.min(),t?l:ze())).next(d=>(aV(a,$4(e),d),{documents:d,$s:l})))}function aV(n,e,t){let a=n.Ns.get(e)||Ie.min();t.forEach((s,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),n.Ns.set(e,a)}class HT{constructor(){this.activeTargetIds=W4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sV{constructor(){this.xo=new HT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,a){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new HT,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="ConnectivityMonitor";class FT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(qT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(qT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf=null;function fg(){return Vf===null?Vf=function(){return 268435456+Math.round(2147483648*Math.random())}():Vf++,"0x"+Vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="RestConnection",lV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uV{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${a}/databases/${s}`,this.Go=this.databaseId.database===ch?`project_id=${a}`:`project_id=${a}&database_id=${s}`}zo(e,t,a,s,l){const c=fg(),d=this.jo(e,t.toUriEncodedString());de(Cp,`Sending RPC '${e}' ${c}:`,d,a);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,s,l);const{host:g}=new URL(d),v=$u(g);return this.Jo(e,d,m,a,v).then(b=>(de(Cp,`Received RPC '${e}' ${c}: `,b),b),b=>{throw Mo(Cp,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",a),b})}Yo(e,t,a,s,l,c){return this.zo(e,t,a,s,l)}Ho(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),a&&a.headers.forEach((s,l)=>e[l]=s)}jo(e,t){const a=lV[e];return`${this.Ko}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class fV extends uV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,s,l){const c=fg();return new Promise((d,m)=>{const g=new zw;g.setWithCredentials(!0),g.listenOnce(Hw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ff.NO_ERROR:const b=g.getResponseJson();de(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Ff.TIMEOUT:de(rn,`RPC '${e}' ${c} timed out`),m(new pe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const T=g.getStatus();if(de(rn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const I=N==null?void 0:N.error;if(I&&I.status&&I.message){const B=function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Y)>=0?Y:ae.UNKNOWN}(I.status);m(new pe(B,I.message))}else m(new pe(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(ae.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(rn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);de(rn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",v,a,15)})}T_(e,t,a){const s=fg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$w(),d=Fw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,a),m.encodeInitMessageHeaders=!0;const v=l.join("");de(rn,`Creating RPC '${e}' stream ${s}: ${v}`,m);const b=c.createWebChannel(v,m);let T=!1,N=!1;const I=new cV({Zo:k=>{N?de(rn,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(T||(de(rn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),T=!0),de(rn,`RPC '${e}' stream ${s} sending:`,k),b.send(k))},Xo:()=>b.close()}),B=(k,q,Y)=>{k.listen(q,z=>{try{Y(z)}catch(K){setTimeout(()=>{throw K},0)}})};return B(b,pu.EventType.OPEN,()=>{N||(de(rn,`RPC '${e}' stream ${s} transport opened.`),I.__())}),B(b,pu.EventType.CLOSE,()=>{N||(N=!0,de(rn,`RPC '${e}' stream ${s} transport closed`),I.u_())}),B(b,pu.EventType.ERROR,k=>{N||(N=!0,Mo(rn,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),I.u_(new pe(ae.UNAVAILABLE,"The operation could not be completed")))}),B(b,pu.EventType.MESSAGE,k=>{var q;if(!N){const Y=k.data[0];et(!!Y,16349);const z=Y,K=(z==null?void 0:z.error)||((q=z[0])===null||q===void 0?void 0:q.error);if(K){de(rn,`RPC '${e}' stream ${s} received error:`,K);const ee=K.status;let oe=function(x){const V=It[x];if(V!==void 0)return AS(V)}(ee),O=K.message;oe===void 0&&(oe=ae.INTERNAL,O="Unknown error status: "+ee+" with message "+K.message),N=!0,I.u_(new pe(oe,O)),b.close()}else de(rn,`RPC '${e}' stream ${s} received:`,Y),I.c_(Y)}}),B(d,qw.STAT_EVENT,k=>{k.stat===Zp.PROXY?de(rn,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Zp.NOPROXY&&de(rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n){return new pk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,a=1e3,s=1.5,l=6e4){this.xi=e,this.timerId=t,this.I_=a,this.E_=s,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-a);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="PersistentStream";class BS{constructor(e,t,a,s,l,c,d,m){this.xi=e,this.y_=a,this.w_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new jS(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,s])=>{this.S_===t&&this.K_(a,s)},a=>{e(()=>{const s=new pe(ae.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(s)})})}K_(e,t){const a=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{a(()=>this.W_(s))}),this.stream.onMessage(s=>{a(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return de($T,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(de($T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hV extends BS{constructor(e,t,a,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=vk(this.serializer,e),a=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?xr(c.readTime):Ie.min()}(e);return this.listener.j_(t,a)}H_(e){const t={};t.database=ug(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=rg(m)?{documents:Tk(l,m)}:{query:bk(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=IS(l,c.resumeToken);const g=sg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=gh(l,c.snapshotVersion.toTimestamp());const g=sg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=Sk(this.serializer,e);a&&(t.labels=a),this.L_(t)}J_(e){const t={};t.database=ug(this.serializer),t.removeTarget=e,this.L_(t)}}class dV extends BS{constructor(e,t,a,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=Ek(e.writeResults,e.commitTime),a=xr(e.commitTime);return this.listener.ea(a,t)}ta(){const e={};e.database=ug(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>_k(this.serializer,a))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{}class pV extends mV{constructor(e,t,a,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=s,this.na=!1}ra(){if(this.na)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,a,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,og(t,a),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ae.UNKNOWN,l.toString())})}Yo(e,t,a,s,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,og(t,a),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ae.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class gV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ei(t),this.oa=!1):de("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class yV{constructor(e,t,a,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{a.enqueueAndForget(async()=>{As(this)&&(de(Es,"Restarting streams for network reachability change."),await async function(m){const g=xe(m);g.Ta.add(4),await tc(g),g.da.set("Unknown"),g.Ta.delete(4),await Qh(g)}(this))})}),this.da=new gV(a,s)}}async function Qh(n){if(As(n))for(const e of n.Ia)await e(!0)}async function tc(n){for(const e of n.Ia)await e(!1)}function zS(n,e){const t=xe(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Ty(t)?Ey(t):Wo(t).M_()&&_y(t,e))}function vy(n,e){const t=xe(n),a=Wo(t);t.Pa.delete(e),a.M_()&&HS(t,e),t.Pa.size===0&&(a.M_()?a.N_():As(t)&&t.da.set("Unknown"))}function _y(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wo(n).H_(e)}function HS(n,e){n.Aa.Ke(e),Wo(n).J_(e)}function Ey(n){n.Aa=new fk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Wo(n).start(),n.da._a()}function Ty(n){return As(n)&&!Wo(n).F_()&&n.Pa.size>0}function As(n){return xe(n).Ta.size===0}function qS(n){n.Aa=void 0}async function vV(n){n.da.set("Online")}async function _V(n){n.Pa.forEach((e,t)=>{_y(n,e)})}async function EV(n,e){qS(n),Ty(n)?(n.da.ca(e),Ey(n)):n.da.set("Unknown")}async function TV(n,e,t){if(n.da.set("Online"),e instanceof CS&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Pa.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Pa.delete(d),s.Aa.removeTarget(d))}(n,e)}catch(a){de(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(n,a)}else if(e instanceof Yf?n.Aa.Xe(e):e instanceof RS?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ie.min()))try{const a=await US(n.localStore);t.compareTo(a)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Pa.get(g);v&&l.Pa.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.Pa.get(m);if(!v)return;l.Pa.set(m,v.withResumeToken(Wt.EMPTY_BYTE_STRING,v.snapshotVersion)),HS(l,m);const b=new la(v.target,m,g,v.sequenceNumber);_y(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(a){de(Es,"Failed to raise snapshot:",a),await vh(n,a)}}async function vh(n,e,t){if(!Xo(e))throw e;n.Ta.add(1),await tc(n),n.da.set("Offline"),t||(t=()=>US(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Es,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Qh(n)})}function FS(n,e){return e().catch(t=>vh(n,t,e))}async function Xh(n){const e=xe(n),t=Ea(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:ry;for(;bV(e);)try{const s=await rV(e.localStore,a);if(s===null){e.ha.length===0&&t.N_();break}a=s.batchId,wV(e,s)}catch(s){await vh(e,s)}$S(e)&&GS(e)}function bV(n){return As(n)&&n.ha.length<10}function wV(n,e){n.ha.push(e);const t=Ea(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function $S(n){return As(n)&&!Ea(n).F_()&&n.ha.length>0}function GS(n){Ea(n).start()}async function SV(n){Ea(n).ta()}async function AV(n){const e=Ea(n);for(const t of n.ha)e.Z_(t.mutations)}async function RV(n,e,t){const a=n.ha.shift(),s=fy.from(a,e,t);await FS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Xh(n)}async function CV(n,e){e&&Ea(n).Y_&&await async function(a,s){if(function(c){return uk(c)&&c!==ae.ABORTED}(s.code)){const l=a.ha.shift();Ea(a).O_(),await FS(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Xh(a)}}(n,e),$S(n)&&GS(n)}async function GT(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(Es,"RemoteStore received new credentials");const a=As(t);t.Ta.add(3),await tc(t),a&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Qh(t)}async function IV(n,e){const t=xe(n);e?(t.Ta.delete(2),await Qh(t)):e||(t.Ta.add(2),await tc(t),t.da.set("Unknown"))}function Wo(n){return n.Ra||(n.Ra=function(t,a,s){const l=xe(t);return l.ra(),new hV(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{e_:vV.bind(null,n),n_:_V.bind(null,n),i_:EV.bind(null,n),j_:TV.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Ty(n)?Ey(n):n.da.set("Unknown")):(await n.Ra.stop(),qS(n))})),n.Ra}function Ea(n){return n.Va||(n.Va=function(t,a,s){const l=xe(t);return l.ra(),new dV(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:SV.bind(null,n),i_:CV.bind(null,n),X_:AV.bind(null,n),ea:RV.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Xh(n)):(await n.Va.stop(),n.ha.length>0&&(de(Es,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t,a,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=s,this.removalCallback=l,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,s,l){const c=Date.now()+a,d=new by(e,t,c,s,l);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),Xo(n))return new pe(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||ve.comparator(t.key,a.key):(t,a)=>ve.comparator(t.key,a.key),this.keyedMap=gu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new No;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.ma=new yt(ve.comparator)}track(e){const t=e.doc.key,a=this.ma.get(t);a?e.type!==0&&a.type===3?this.ma=this.ma.insert(t,e):e.type===3&&a.type!==1?this.ma=this.ma.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ma=this.ma.remove(t):e.type===1&&a.type===2?this.ma=this.ma.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,fa:a}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,a)=>{e.push(a)}),e}}class Uo{constructor(e,t,a,s,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,s,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Uo(e,t,No.emptySet(t),c,a,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==a[s].type||!t[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class NV{constructor(){this.queries=YT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,a){const s=xe(t),l=s.queries;s.queries=YT(),l.forEach((c,d)=>{for(const m of d.ya)m.onError(a)})})(this,new pe(ae.ABORTED,"Firestore shutting down"))}}function YT(){return new Ss(n=>dS(n),qh)}async function KS(n,e){const t=xe(n);let a=3;const s=e.query;let l=t.queries.get(s);l?!l.wa()&&e.Sa()&&(a=2):(l=new xV,a=e.Sa()?0:1);try{switch(a){case 0:l.pa=await t.onListen(s,!0);break;case 1:l.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=wy(c,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.ya.push(e),e.Da(t.onlineState),l.pa&&e.va(l.pa)&&Sy(t)}async function YS(n,e){const t=xe(n),a=e.query;let s=3;const l=t.queries.get(a);if(l){const c=l.ya.indexOf(e);c>=0&&(l.ya.splice(c,1),l.ya.length===0?s=e.Sa()?0:1:!l.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function OV(n,e){const t=xe(n);let a=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.ya)d.va(s)&&(a=!0);c.pa=s}}a&&Sy(t)}function DV(n,e,t){const a=xe(n),s=a.queries.get(e);if(s)for(const l of s.ya)l.onError(t);a.queries.delete(e)}function Sy(n){n.ba.forEach(e=>{e.next()})}var hg,QT;(QT=hg||(hg={})).Ca="default",QT.Cache="cache";class QS{constructor(e,t,a){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new Uo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const a=t!=="Offline";return(!this.options.La||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.key=e}}class WS{constructor(e){this.key=e}}class MV{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ze(),this.mutatedKeys=ze(),this.Ha=mS(e),this.Ja=new No(this.Ha)}get Ya(){return this.Ga}Za(e,t){const a=t?t.Xa:new KT,s=t?t.Ja:this.Ja;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const T=s.get(v),N=Fh(this.query,b)?b:null,I=!!T&&this.mutatedKeys.has(T.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;T&&N?T.data.isEqual(N.data)?I!==B&&(a.track({type:3,doc:N}),k=!0):this.eu(T,N)||(a.track({type:2,doc:N}),k=!0,(m&&this.Ha(N,m)>0||g&&this.Ha(N,g)<0)&&(d=!0)):!T&&N?(a.track({type:0,doc:N}),k=!0):T&&!N&&(a.track({type:1,doc:T}),k=!0,(m||g)&&(d=!0)),k&&(N?(c=c.add(N),l=B?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),a.track({type:1,doc:v})}return{Ja:c,Xa:a,Cs:d,mutatedKeys:l}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,s){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((v,b)=>function(N,I){const B=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:k})}};return B(N)-B(I)}(v.type,b.type)||this.Ha(v.doc,b.doc)),this.tu(a),s=s!=null&&s;const d=t&&!s?this.nu():[],m=this.ja.size===0&&this.current&&!s?1:0,g=m!==this.za;return this.za=m,c.length!==0||g?{snapshot:new Uo(this.query,e.Ja,l,c,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new KT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ze(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const t=[];return e.forEach(a=>{this.ja.has(a)||t.push(new WS(a))}),this.ja.forEach(a=>{e.has(a)||t.push(new XS(a))}),t}su(e){this.Ga=e.$s,this.ja=ze();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Uo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ay="SyncEngine";class kV{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class VV{constructor(e){this.key=e,this._u=!1}}class PV{constructor(e,t,a,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new Ss(d=>dS(d),qh),this.cu=new Map,this.lu=new Set,this.hu=new yt(ve.comparator),this.Pu=new Map,this.Tu=new my,this.Iu={},this.Eu=new Map,this.du=Lo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function LV(n,e,t=!0){const a=rA(n);let s;const l=a.uu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.ou()):s=await ZS(a,e,t,!0),s}async function UV(n,e){const t=rA(n);await ZS(t,e,!0,!1)}async function ZS(n,e,t,a){const s=await iV(n.localStore,Ir(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await jV(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&zS(n.remoteStore,s),d}async function jV(n,e,t,a,s){n.Ru=(b,T,N)=>async function(B,k,q,Y){let z=k.view.Za(q);z.Cs&&(z=await zT(B.localStore,k.query,!1).then(({documents:O})=>k.view.Za(O,z)));const K=Y&&Y.targetChanges.get(k.targetId),ee=Y&&Y.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(z,B.isPrimaryClient,K,ee);return WT(B,k.targetId,oe.ru),oe.snapshot}(n,b,T,N);const l=await zT(n.localStore,e,!0),c=new MV(e,l.$s),d=c.Za(l.documents),m=ec.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,m);WT(n,t,g.ru);const v=new kV(e,t,c);return n.uu.set(e,v),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),g.snapshot}async function BV(n,e,t){const a=xe(n),s=a.uu.get(e),l=a.cu.get(s.targetId);if(l.length>1)return a.cu.set(s.targetId,l.filter(c=>!qh(c,e))),void a.uu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await cg(a.localStore,s.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(s.targetId),t&&vy(a.remoteStore,s.targetId),dg(a,s.targetId)}).catch(Qo)):(dg(a,s.targetId),await cg(a.localStore,s.targetId,!0))}async function zV(n,e){const t=xe(n),a=t.uu.get(e),s=t.cu.get(a.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),vy(t.remoteStore,a.targetId))}async function HV(n,e,t){const a=QV(n);try{const s=await function(c,d){const m=xe(c),g=gt.now(),v=d.reduce((N,I)=>N.add(I.key),ze());let b,T;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let I=Ti(),B=ze();return m.Bs.getEntries(N,v).next(k=>{I=k,I.forEach((q,Y)=>{Y.isValidDocument()||(B=B.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,I)).next(k=>{b=k;const q=[];for(const Y of d){const z=ik(Y,b.get(Y.key).overlayedDocument);z!=null&&q.push(new Ra(Y.key,z,aS(z.value.mapValue),nr.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,q,d)}).next(k=>{T=k;const q=k.applyToLocalDocumentSet(b,B);return m.documentOverlayCache.saveOverlays(N,k.batchId,q)})}).then(()=>({batchId:T.batchId,changes:gS(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let g=c.Iu[c.currentUser.toKey()];g||(g=new yt(Me)),g=g.insert(d,m),c.Iu[c.currentUser.toKey()]=g}(a,s.batchId,t),await nc(a,s.changes),await Xh(a.remoteStore)}catch(s){const l=wy(s,"Failed to persist write");t.reject(l)}}async function JS(n,e){const t=xe(n);try{const a=await tV(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Pu.get(l);c&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c._u=!0:s.modifiedDocuments.size>0?et(c._u,14607):s.removedDocuments.size>0&&(et(c._u,42227),c._u=!1))}),await nc(t,a,e)}catch(a){await Qo(a)}}function XT(n,e,t){const a=xe(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const s=[];a.uu.forEach((l,c)=>{const d=c.view.Da(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=xe(c);m.onlineState=d;let g=!1;m.queries.forEach((v,b)=>{for(const T of b.ya)T.Da(d)&&(g=!0)}),g&&Sy(m)}(a.eventManager,e),s.length&&a.au.j_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function qV(n,e,t){const a=xe(n);a.sharedClientState.updateQueryState(e,"rejected",t);const s=a.Pu.get(e),l=s&&s.key;if(l){let c=new yt(ve.comparator);c=c.insert(l,sn.newNoDocument(l,Ie.min()));const d=ze().add(l),m=new Kh(Ie.min(),new Map,new yt(Me),c,d);await JS(a,m),a.hu=a.hu.remove(l),a.Pu.delete(e),Ry(a)}else await cg(a.localStore,e,!1).then(()=>dg(a,e,t)).catch(Qo)}async function FV(n,e){const t=xe(n),a=e.batch.batchId;try{const s=await eV(t.localStore,e);tA(t,a,null),eA(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await nc(t,s)}catch(s){await Qo(s)}}async function $V(n,e,t){const a=xe(n);try{const s=await function(c,d){const m=xe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(b=>(et(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(a.localStore,e);tA(a,e,t),eA(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await nc(a,s)}catch(s){await Qo(s)}}function eA(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function tA(n,e,t){const a=xe(n);let s=a.Iu[a.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),a.Iu[a.currentUser.toKey()]=s}}function dg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.cu.get(e))n.uu.delete(a),t&&n.au.Vu(a,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(a=>{n.Tu.containsKey(a)||nA(n,a)})}function nA(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(vy(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Ry(n))}function WT(n,e,t){for(const a of t)a instanceof XS?(n.Tu.addReference(a.key,e),GV(n,a)):a instanceof WS?(de(Ay,"Document no longer in limbo: "+a.key),n.Tu.removeReference(a.key,e),n.Tu.containsKey(a.key)||nA(n,a.key)):Ae(19791,{mu:a})}function GV(n,e){const t=e.key,a=t.path.canonicalString();n.hu.get(t)||n.lu.has(a)||(de(Ay,"New document in limbo: "+t),n.lu.add(a),Ry(n))}function Ry(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ve(ct.fromString(e)),a=n.du.next();n.Pu.set(a,new VV(t)),n.hu=n.hu.insert(t,a),zS(n.remoteStore,new la(Ir(ly(t.path)),a,"TargetPurposeLimboResolution",Bh.le))}}async function nc(n,e,t){const a=xe(n),s=[],l=[],c=[];a.uu.isEmpty()||(a.uu.forEach((d,m)=>{c.push(a.Ru(m,e,t).then(g=>{var v;if((g||t)&&a.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){s.push(g);const b=gy.Rs(m.targetId,g);l.push(b)}}))}),await Promise.all(c),a.au.j_(s),await async function(m,g){const v=xe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ie.forEach(g,T=>ie.forEach(T.ds,N=>v.persistence.referenceDelegate.addReference(b,T.targetId,N)).next(()=>ie.forEach(T.As,N=>v.persistence.referenceDelegate.removeReference(b,T.targetId,N)))))}catch(b){if(!Xo(b))throw b;de(yy,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const N=v.xs.get(T),I=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(I);v.xs=v.xs.insert(T,B)}}}(a.localStore,l))}async function KV(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(Ay,"User change. New user:",e.toKey());const a=await LS(t.localStore,e);t.currentUser=e,function(l,c){l.Eu.forEach(d=>{d.forEach(m=>{m.reject(new pe(ae.CANCELLED,c))})}),l.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nc(t,a.ks)}}function YV(n,e){const t=xe(n),a=t.Pu.get(e);if(a&&a._u)return ze().add(a.key);{let s=ze();const l=t.cu.get(e);if(!l)return s;for(const c of l){const d=t.uu.get(c);s=s.unionWith(d.view.Ya)}return s}}function rA(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qV.bind(null,e),e.au.j_=OV.bind(null,e.eventManager),e.au.Vu=DV.bind(null,e.eventManager),e}function QV(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$V.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return Jk(this.persistence,new Xk,e.initialUser,this.serializer)}yu(e){return new PS(py.fi,this.serializer)}pu(e){return new sV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class XV extends _h{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){et(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Vk(a,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new PS(a=>yh.fi(a,t),this.serializer)}}class mg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>XT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,this.syncEngine),await IV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NV}()}createDatastore(e){const t=Yh(e.databaseInfo.databaseId),a=function(l){return new fV(l)}(e.databaseInfo);return function(l,c,d,m){return new pV(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,s,l,c,d){return new yV(a,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>XT(this.syncEngine,t,0),function(){return FT.C()?new FT:new oV}())}createSyncEngine(e,t){return function(s,l,c,d,m,g,v){const b=new PV(s,l,c,d,m,g);return v&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=xe(s);de(Es,"RemoteStore shutting down."),l.Ta.add(5),await tc(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="FirestoreClient";class WV{constructor(e,t,a,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=s,this.user=an.UNAUTHENTICATED,this.clientId=Qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async c=>{de(Ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(a,c=>(de(Ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=wy(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function xp(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener(async s=>{a.isEqual(s)||(await LS(e.localStore,s),a=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ZT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZV(n);de(Ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(a=>GT(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,s)=>GT(e.remoteStore,s)),n._onlineComponents=e}async function ZV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ta,"Using user provided OfflineComponentProvider");try{await xp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await xp(n,new _h)}}else de(Ta,"Using default OfflineComponentProvider"),await xp(n,new XV(void 0));return n._offlineComponents}async function aA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ta,"Using user provided OnlineComponentProvider"),await ZT(n,n._uninitializedComponentsProvider._online)):(de(Ta,"Using default OnlineComponentProvider"),await ZT(n,new mg))),n._onlineComponents}function JV(n){return aA(n).then(e=>e.syncEngine)}async function pg(n){const e=await aA(n),t=e.eventManager;return t.onListen=LV.bind(null,e.syncEngine),t.onUnlisten=BV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zV.bind(null,e.syncEngine),t}function e3(n,e,t={}){const a=new ma;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new iA({next:T=>{v.Cu(),c.enqueueAndForget(()=>YS(l,b)),T.fromCache&&m.source==="server"?g.reject(new pe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new QS(d,v,{includeMetadataChanges:!0,La:!0});return KS(l,b)}(await pg(n),n.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e,t){if(!t)throw new pe(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function t3(n,e,t,a){if(e===!0&&a===!0)throw new pe(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eb(n){if(!ve.isDocumentKey(n))throw new pe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tb(n){if(ve.isDocumentKey(n))throw new pe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wh(n);throw new pe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firestore.googleapis.com",nb=!0;class rb{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lA,this.ssl=nb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mk)throw new pe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sA((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,s){return a.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,a,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new c4;switch(a.type){case"firstParty":return new m4(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=JT.get(t);a&&(de("ComponentProvider","Removing Datastore"),JT.delete(t),a.terminate())}(this),Promise.resolve()}}function n3(n,e,t,a={}){var s;n=Nr(n,Zh);const l=$u(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(Z1(`https://${m}`),J1("Firestore",!0)),c.host!==lA&&c.host!==m&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:a});if(!ps(g,d)&&(n._setSettings(g),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=an.MOCK_USER;else{v=EN(a.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new pe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(T)}n._authCredentials=new f4(new Kw(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class wn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class pa extends Rs{constructor(e,t,a){super(e,t,ly(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ve(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function Zo(n,e,...t){if(n=Pt(n),oA("collection","path",e),n instanceof Zh){const a=ct.fromString(e,...t);return tb(a),new pa(n,null,a)}{if(!(n instanceof wn||n instanceof pa))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ct.fromString(e,...t));return tb(a),new pa(n.firestore,null,a)}}function Jh(n,e,...t){if(n=Pt(n),arguments.length===1&&(e=Qw.newId()),oA("doc","path",e),n instanceof Zh){const a=ct.fromString(e,...t);return eb(a),new wn(n,null,new ve(a))}{if(!(n instanceof wn||n instanceof pa))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ct.fromString(e,...t));return eb(a),new wn(n.firestore,n instanceof pa?n.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="AsyncQueue";class ab{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new jS(this,"async_queue_retry"),this.ec=()=>{const a=Ip();a&&de(ib,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const t=Ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new ma;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Xo(e))throw e;de(ib,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,Ei("INTERNAL UNHANDLED ERROR: ",sb(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=t,t}enqueueAfterDelay(e,t,a){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=by.createAndSchedule(this,e,t,a,l=>this.oc(l));return this.Hu.push(s),s}nc(){this.Ju&&Ae(47125,{_c:sb(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function sb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n){return function(t,a){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of a)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ts extends Zh{constructor(e,t,a,s){super(e,t,a,s),this.type="firestore",this._queue=new ab,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function r3(n,e){const t=typeof n=="object"?n:rw(),a=typeof n=="string"?n:ch,s=Gg(t,"firestore").getImmediate({identifier:a});if(!s._initialized){const l=vN("firestore");l&&n3(s,...l)}return s}function Cy(n){if(n._terminated)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||i3(n),n._firestoreClient}function i3(n){var e,t,a;const s=n._freezeSettings(),l=function(d,m,g,v){return new x4(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,sA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=s.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new WV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Wt.fromBase64String(e))}catch(t){throw new pe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=/^__.*__$/;class s3{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ju(e,this.data,t,this.fieldTransforms)}}class uA{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{hc:n})}}class Oy{constructor(e,t,a,s,l,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=s,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:a,Ec:!1});return s.dc(e),s}Ac(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:a,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Eh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(cA(this.hc)&&a3.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class o3{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Yh(e)}gc(e,t,a,s=!1){return new Oy({hc:e,methodName:t,fc:a,path:Xt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dy(n){const e=n._freezeSettings(),t=Yh(n._databaseId);return new o3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function l3(n,e,t,a,s,l={}){const c=n.gc(l.merge||l.mergeFields?2:0,e,t,s);My("Data must be an object, but it was:",c,a);const d=fA(a,c);let m,g;if(l.merge)m=new kn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=gg(e,b,t);if(!c.contains(T))throw new pe(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);dA(v,T)||v.push(T)}m=new kn(v),g=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=c.fieldTransforms;return new s3(new Tn(d),m,g)}class td extends Iy{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof td}}function u3(n,e,t,a){const s=n.gc(1,e,t);My("Data must be an object, but it was:",s,a);const l=[],c=Tn.empty();Aa(a,(m,g)=>{const v=ky(e,m,t);g=Pt(g);const b=s.Ac(v);if(g instanceof td)l.push(v);else{const T=rc(g,b);T!=null&&(l.push(v),c.set(v,T))}});const d=new kn(l);return new uA(c,d,s.fieldTransforms)}function c3(n,e,t,a,s,l){const c=n.gc(1,e,t),d=[gg(e,a,t)],m=[s];if(l.length%2!=0)throw new pe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(gg(e,l[T])),m.push(l[T+1]);const g=[],v=Tn.empty();for(let T=d.length-1;T>=0;--T)if(!dA(g,d[T])){const N=d[T];let I=m[T];I=Pt(I);const B=c.Ac(N);if(I instanceof td)g.push(N);else{const k=rc(I,B);k!=null&&(g.push(N),v.set(N,k))}}const b=new kn(g);return new uA(v,b,c.fieldTransforms)}function f3(n,e,t,a=!1){return rc(t,n.gc(a?4:3,e))}function rc(n,e){if(hA(n=Pt(n)))return My("Unsupported field value:",e,n),fA(n,e);if(n instanceof Iy)return function(a,s){if(!cA(s.hc))throw s.Vc(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,s){const l=[];let c=0;for(const d of a){let m=rc(d,s.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(a,s){if((a=Pt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Z4(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=gt.fromDate(a);return{timestampValue:gh(s.serializer,l)}}if(a instanceof gt){const l=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gh(s.serializer,l)}}if(a instanceof xy)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jo)return{bytesValue:IS(s.serializer,a._byteString)};if(a instanceof wn){const l=s.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw s.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dy(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof Ny)return function(c,d){return{mapValue:{fields:{[rS]:{stringValue:iS},[fh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Vc("VectorValues must only contain numeric values.");return uy(d.serializer,g)})}}}}}}(a,s);throw s.Vc(`Unsupported field value: ${Wh(a)}`)}(n,e)}function fA(n,e){const t={};return Ww(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(a,s)=>{const l=rc(s,e.Ic(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function hA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof xy||n instanceof jo||n instanceof wn||n instanceof Iy||n instanceof Ny)}function My(n,e,t){if(!hA(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const a=Wh(t);throw a==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+a)}}function gg(n,e,t){if((e=Pt(e))instanceof ed)return e._internalPath;if(typeof e=="string")return ky(n,e);throw Eh("Field path arguments must be of type string or ",n,!1,void 0,t)}const h3=new RegExp("[~\\*/\\[\\]]");function ky(n,e,t){if(e.search(h3)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ed(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eh(n,e,t,a,s){const l=a&&!a.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${a}`),c&&(m+=` in document ${s}`),m+=")"),new pe(ae.INVALID_ARGUMENT,d+n+m)}function dA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t,a,s,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class d3 extends mA{data(){return super.data()}}function Vy(n,e){return typeof e=="string"?ky(n,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Py{}class m3 extends Py{}function gA(n,e,...t){let a=[];e instanceof Py&&a.push(e),a=a.concat(t),function(l){const c=l.filter(m=>m instanceof Ly).length,d=l.filter(m=>m instanceof nd).length;if(c>1||c>0&&d>0)throw new pe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const s of a)n=s._apply(n);return n}class nd extends m3{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new nd(e,t,a)}_apply(e){const t=this._parse(e);return yA(e._query,t),new Rs(e.firestore,e.converter,ig(e._query,t))}_parse(e){const t=Dy(e.firestore);return function(l,c,d,m,g,v,b){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ub(b,v);const I=[];for(const B of b)I.push(lb(m,l,B));T={arrayValue:{values:I}}}else T=lb(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ub(b,v),T=f3(d,c,b,v==="in"||v==="not-in");return xt.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Th(n,e,t){const a=e,s=Vy("where",n);return nd._create(s,a,t)}class Ly extends Py{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ly(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const m of d)yA(c,m),c=ig(c,m)}(e._query,t),new Rs(e.firestore,e.converter,ig(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lb(n,e,t){if(typeof(t=Pt(t))=="string"){if(t==="")throw new pe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&t.indexOf("/")!==-1)throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ct.fromString(t));if(!ve.isDocumentKey(a))throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return bT(n,new ve(a))}if(t instanceof wn)return bT(n,t._key);throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(t)}.`)}function ub(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yA(n,e){const t=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class p3{convertValue(e,t="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Aa(e,(s,l)=>{a[s]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,s;const l=(s=(a=(t=e.fields)===null||t===void 0?void 0:t[fh].arrayValue)===null||a===void 0?void 0:a.values)===null||s===void 0?void 0:s.map(c=>wt(c.doubleValue));return new Ny(l)}convertGeoPoint(e){return new xy(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Hh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=ya(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ct.fromString(e);et(kS(a),9688,{name:e});const s=new Mu(a.get(1),a.get(3)),l=new ve(a.popFirst(5));return s.isEqual(t)||Ei(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(n,e,t){let a;return a=n?n.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vA extends mA{constructor(e,t,a,s,l,c){super(e,t,a,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Vy("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Qf extends vA{data(e={}){return super.data(e)}}class _A{constructor(e,t,a,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new vu(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Qf(this._firestore,this._userDataWriter,a.key,a,new vu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new Qf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new vu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Qf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new vu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:y3(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function y3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}class Uy extends p3{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function EA(n){n=Nr(n,Rs);const e=Nr(n.firestore,Ts),t=Cy(e),a=new Uy(e);return pA(n._query),e3(t,n._query).then(s=>new _A(e,a,n,s))}function TA(n,e,t,...a){n=Nr(n,wn);const s=Nr(n.firestore,Ts),l=Dy(s);let c;return c=typeof(e=Pt(e))=="string"||e instanceof ed?c3(l,"updateDoc",n._key,e,t,a):u3(l,"updateDoc",n._key,e),jy(s,[c.toMutation(n._key,nr.exists(!0))])}function v3(n){return jy(Nr(n.firestore,Ts),[new cy(n._key,nr.none())])}function bA(n,e){const t=Nr(n.firestore,Ts),a=Jh(n),s=g3(n.converter,e);return jy(t,[l3(Dy(n.firestore),"addDoc",a._key,s,n.converter!==null,{}).toMutation(a._key,nr.exists(!1))]).then(()=>a)}function wA(n,...e){var t,a,s;n=Pt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||ob(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(ob(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),e[c+2]=(s=b.complete)===null||s===void 0?void 0:s.bind(b)}let m,g,v;if(n instanceof wn)g=Nr(n.firestore,Ts),v=ly(n._key.path),m={next:b=>{e[c]&&e[c](_3(g,n,b))},error:e[c+1],complete:e[c+2]};else{const b=Nr(n,Rs);g=Nr(b.firestore,Ts),v=b._query;const T=new Uy(g);m={next:N=>{e[c]&&e[c](new _A(g,T,b,N))},error:e[c+1],complete:e[c+2]},pA(n._query)}return function(T,N,I,B){const k=new iA(B),q=new QS(N,k,I);return T.asyncQueue.enqueueAndForget(async()=>KS(await pg(T),q)),()=>{k.Cu(),T.asyncQueue.enqueueAndForget(async()=>YS(await pg(T),q))}}(Cy(g),v,d,m)}function jy(n,e){return function(a,s){const l=new ma;return a.asyncQueue.enqueueAndForget(async()=>HV(await JV(a),s,l)),l.promise}(Cy(n),e)}function _3(n,e,t){const a=t.docs.get(e._key),s=new Uy(n);return new vA(n,s,e._key,a,new vu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Yo=s})(Go),Do(new gs("firestore",(a,{instanceIdentifier:s,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new Ts(new h4(a.getProvider("auth-internal")),new p4(c,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ha(cT,fT,e),ha(cT,fT,"esm2017")})();const E3={apiKey:"AIzaSyC3YjrvnPMq_54ei8xlpP6d8LCsBN9JLTk",authDomain:"centro-deportivo-univers-9f056.firebaseapp.com",projectId:"centro-deportivo-univers-9f056",storageBucket:"centro-deportivo-univers-9f056.firebasestorage.app",messagingSenderId:"580534872168",appId:"1:580534872168:web:26fa79377f213d866473dd"},SA=nw(E3),Si=r3(SA),Pf=s4(SA),AA=S.createContext(),T3=({children:n})=>{const[e,t]=S.useState(null),[a,s]=S.useState(!0);S.useEffect(()=>{const m=YD(Pf,g=>{if(g){const v=g.email==="admin@test.com";t({uid:g.uid,email:g.email,isAdmin:v})}else t(null);s(!1)});return()=>m()},[]);const l=(m,g)=>$D(Pf,m,g),c=(m,g)=>FD(Pf,m,g),d=()=>QD(Pf);return w.jsx(AA.Provider,{value:{user:e,login:l,register:c,logout:d,loading:a},children:a?w.jsx("p",{children:"Cargando..."}):n})},rd=()=>S.useContext(AA);function b3(){const{user:n,logout:e,loading:t}=rd(),a=async()=>{try{await e()}catch(s){console.error("Error al cerrar sesin",s)}};return t?null:w.jsx(fu,{bg:"dark",variant:"dark",expand:"lg",className:"mb-4",children:w.jsxs(ua,{children:[w.jsx(fu.Brand,{as:Ar,to:"/",children:"Centro Deportivo"}),w.jsx(fu.Toggle,{"aria-controls":"basic-navbar-nav"}),w.jsxs(fu.Collapse,{id:"basic-navbar-nav",children:[w.jsxs(os,{className:"me-auto",children:[w.jsx(os.Link,{as:Ar,to:"/",children:"Inicio"}),n&&w.jsx(w.Fragment,{children:w.jsx(os.Link,{as:Ar,to:"/salas",children:"Salas"})}),(n==null?void 0:n.isAdmin)&&w.jsx(os.Link,{as:Ar,to:"/admin/salas",children:"Administracin"})]}),w.jsx(os,{children:n?w.jsxs(w.Fragment,{children:[w.jsxs(fu.Text,{className:"me-2",children:[n.isAdmin?" ":"",n.email]}),w.jsx(bn,{variant:"outline-light",onClick:a,children:"Cerrar sesin"})]}):w.jsxs(w.Fragment,{children:[w.jsx(os.Link,{as:Ar,to:"/login",children:"Iniciar sesin"}),w.jsx(os.Link,{as:Ar,to:"/register",children:"Registrarse"})]})})]})]})})}function w3(){return w.jsxs(ua,{className:"home-page",children:[w.jsxs("section",{className:"hero-section text-center mb-5 py-5",children:[w.jsx("h1",{className:"display-4 fw-bold mb-4",children:"Centro Deportivo Universitario"}),w.jsx("p",{className:"lead mb-4",children:"Excelencia deportiva y formacin integral para nuestra comunidad universitaria"}),w.jsx("div",{className:"d-flex justify-content-center gap-3",children:w.jsx(bn,{as:Ar,to:"/salas",variant:"primary",size:"lg",children:"Ver Instalaciones"})})]}),w.jsx("section",{className:"about-section mb-5",children:w.jsx(Ke,{className:"border-0 shadow-sm",children:w.jsxs(Ke.Body,{className:"p-4",children:[w.jsx("h2",{className:"text-center mb-4",children:"Nuestra Misin"}),w.jsxs(hs,{children:[w.jsx(Mn,{md:6,className:"mb-4 mb-md-0",children:w.jsxs("div",{className:"about-item p-3 h-100",children:[w.jsx("h3",{className:"h4",children:" Excelencia Deportiva"}),w.jsx("p",{children:"Promovemos el desarrollo deportivo de alto rendimiento y la formacin de atletas integrales."})]})}),w.jsx(Mn,{md:6,children:w.jsxs("div",{className:"about-item p-3 h-100",children:[w.jsx("h3",{className:"h4",children:" Formacin Integral"}),w.jsx("p",{children:"Complementamos la formacin acadmica con valores deportivos como disciplina y trabajo en equipo."})]})})]})]})})}),w.jsxs("section",{className:"facilities-section mb-5",children:[w.jsx("h2",{className:"text-center mb-4",children:"Nuestras Instalaciones"}),w.jsxs(hs,{className:"g-4",children:[w.jsx(Mn,{md:4,children:w.jsx(Ke,{className:"h-100 facility-card",children:w.jsxs(Ke.Body,{children:[w.jsx("div",{className:"facility-icon mb-3",children:""}),w.jsx(Ke.Title,{children:"Canchas Multiusos"}),w.jsx(Ke.Text,{children:"Espacios para voleibol, baloncesto y ftbol sala con superficie profesional."})]})})}),w.jsx(Mn,{md:4,children:w.jsx(Ke,{className:"h-100 facility-card",children:w.jsxs(Ke.Body,{children:[w.jsx("div",{className:"facility-icon mb-3",children:""}),w.jsx(Ke.Title,{children:"Piscina Semiolmpica"}),w.jsx(Ke.Text,{children:"Piscina climatizada de 25 metros con carriles para natacin competitiva."})]})})}),w.jsx(Mn,{md:4,children:w.jsx(Ke,{className:"h-100 facility-card",children:w.jsxs(Ke.Body,{children:[w.jsx("div",{className:"facility-icon mb-3",children:""}),w.jsx(Ke.Title,{children:"Gimnasio Completo"}),w.jsx(Ke.Text,{children:"Equipamiento moderno para entrenamiento funcional y musculacin."})]})})})]}),w.jsx("div",{className:"text-center mt-4",children:w.jsx(bn,{as:Ar,to:"/salas",variant:"outline-primary",children:"Ver Todas las Instalaciones"})})]}),w.jsx("section",{className:"schedule-section mb-5",children:w.jsx(Ke,{className:"border-0",children:w.jsxs(Ke.Body,{className:"p-4 text-center",children:[w.jsx("h2",{className:"mb-3",children:"Horario de Atencin"}),w.jsx(hs,{className:"justify-content-center",children:w.jsxs(Mn,{md:8,children:[w.jsxs("ul",{className:"schedule-list list-unstyled",children:[w.jsx("li",{children:"Lunes a Viernes: 6:00 am - 10:00 pm"}),w.jsx("li",{children:"Sbados: 8:00 am - 6:00 pm"}),w.jsx("li",{children:"Domingos: 8:00 am - 2:00 pm"})]}),w.jsx("p",{className:"text-muted",children:"*Horarios sujetos a cambios en temporada vacacional"})]})})]})})})]})}var RA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cb=Ne.createContext&&Ne.createContext(RA),S3=["attr","size","title"];function A3(n,e){if(n==null)return{};var t=R3(n,e),a,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)a=l[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(t[a]=n[a])}return t}function R3(n,e){if(n==null)return{};var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function bh(){return bh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},bh.apply(this,arguments)}function fb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,a)}return t}function wh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fb(Object(t),!0).forEach(function(a){C3(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fb(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function C3(n,e,t){return e=I3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I3(n){var e=x3(n,"string");return typeof e=="symbol"?e:e+""}function x3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CA(n){return n&&n.map((e,t)=>Ne.createElement(e.tag,wh({key:t},e.attr),CA(e.child)))}function N3(n){return e=>Ne.createElement(O3,bh({attr:wh({},n.attr)},e),CA(n.child))}function O3(n){var e=t=>{var{attr:a,size:s,title:l}=n,c=A3(n,S3),d=s||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),Ne.createElement("svg",bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:m,style:wh(wh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ne.createElement("title",null,l),n.children)};return cb!==void 0?Ne.createElement(cb.Consumer,null,t=>e(t)):e(RA)}function D3(n){return N3({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}const IA=async()=>(await EA(Zo(Si,"salas"))).docs.map(e=>({id:e.id,...e.data()})),M3=(n,e)=>{const t=Zo(Si,"salas");return wA(t,s=>{const l=s.docs.map(c=>({id:c.id,...c.data()}));n(l)},s=>{e&&e(s)})},k3=async n=>(await bA(Zo(Si,"salas"),n)).id,V3=async(n,e)=>{await TA(Jh(Si,"salas",n),e)},P3=async n=>{await v3(Jh(Si,"salas",n))};function L3(){const[n,e]=S.useState([]),[t,a]=S.useState(!0),[s,l]=S.useState(null),[c,d]=S.useState(""),[m,g]=S.useState(!0),v=bs();S.useEffect(()=>{let T;return(async()=>{try{T=M3(I=>{e(I),a(!1)},I=>{l("Error en conexin en tiempo real: "+I.message),a(!1)})}catch(I){l("Error al configurar actualizaciones: "+I.message),a(!1)}})(),()=>{T&&T()}},[]);const b=n.filter(T=>T.nombre.toLowerCase().includes(c.toLowerCase())&&(m?T.disponibilidad:!0));return t?w.jsxs(ua,{className:"text-center mt-5",children:[w.jsx(Hg,{animation:"border",role:"status",children:w.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),w.jsx("p",{children:"Cargando salas disponibles..."})]}):s?w.jsx(ua,{className:"mt-4",children:w.jsx(zp,{variant:"danger",children:s})}):w.jsxs(ua,{className:"salas-container",children:[w.jsxs($1,{direction:"horizontal",gap:3,className:"mb-4 flex-wrap",children:[w.jsx("h2",{className:"me-auto",children:"Instalaciones Deportivas"}),w.jsxs("div",{className:"d-flex align-items-center gap-3",children:[w.jsx(Je.Check,{type:"switch",id:"filter-available",label:"Mostrar solo disponibles",checked:m,onChange:()=>g(!m),className:"flex-shrink-0"}),w.jsxs(SE,{style:{width:"250px"},className:"flex-shrink-0",children:[w.jsx(SE.Text,{children:w.jsx(D3,{})}),w.jsx(Je.Control,{type:"text",placeholder:"Buscar por nombre...",value:c,onChange:T=>d(T.target.value)})]})]})]}),b.length===0?w.jsx(zp,{variant:"info",className:"text-center",children:c?"No se encontraron salas que coincidan con los filtros":"No hay salas registradas"}):w.jsx(hs,{xs:1,md:2,lg:3,className:"g-4",children:b.map(T=>w.jsx(Mn,{children:w.jsx(Ke,{className:"h-100 shadow-sm",children:w.jsxs(Ke.Body,{className:"d-flex flex-column",children:[w.jsx(Ke.Title,{className:"text-primary",children:T.nombre}),w.jsx(Ke.Subtitle,{className:"mb-2 text-muted",children:T.ubicacion}),w.jsx(Ke.Text,{children:T.descripcion}),w.jsxs("div",{className:"mt-auto",children:[w.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[w.jsxs("span",{className:"badge bg-secondary",children:["Capacidad: ",T.capacidad]}),w.jsx("span",{className:`badge ${T.disponibilidad?"bg-success":"bg-danger"}`,children:T.disponibilidad?"Disponible":"Ocupada"})]}),w.jsx(bn,{variant:"primary",className:"w-100",onClick:()=>v(`/reservas/${T.id}`),disabled:!T.disponibilidad,children:T.disponibilidad?"Reservar":"No disponible"})]})]})})},T.id))})]})}const U3=async n=>{try{return(await bA(Zo(Si,"reservas"),{...n,fecha:gt.fromDate(new Date(n.fecha)),estado:"activa",createdAt:gt.now(),updatedAt:gt.now()})).id}catch(e){throw console.error("Error en crearReserva:",e),e}},j3=async n=>{try{const e=Jh(Si,"reservas",n);await TA(e,{estado:"finalizada",updatedAt:gt.now()})}catch(e){throw console.error("Error en finalizarReserva:",e),e}},B3=(n,e)=>{const t=gA(Zo(Si,"reservas"),Th("salaId","==",n),Th("estado","==","activa"));return wA(t,s=>{const l=s.docs.map(c=>{var d;return{id:c.id,...c.data(),fecha:(d=c.data().fecha)==null?void 0:d.toDate()}});e(l)})},z3=async(n,e,t,a)=>{const s=new Date(e),l=new Date(s.getFullYear(),s.getMonth(),s.getDate(),parseInt(t.split(":")[0]),parseInt(t.split(":")[1])||0),c=new Date(s.getFullYear(),s.getMonth(),s.getDate(),parseInt(a.split(":")[0]),parseInt(a.split(":")[1])||0),d=gA(Zo(Si,"reservas"),Th("salaId","==",n),Th("estado","==","activa"));return!(await EA(d)).docs.map(v=>{const b=v.data(),T=b.fecha.toDate(),[N,I]=b.horaInicio.split(":").map(Number),[B,k]=b.horaFin.split(":").map(Number);return{inicio:new Date(T.getFullYear(),T.getMonth(),T.getDate(),N,I),fin:new Date(T.getFullYear(),T.getMonth(),T.getDate(),B,k)}}).some(v=>l<v.fin&&c>v.inicio)};function hb(){const{salaId:n}=jC(),e=bs(),[t,a]=S.useState(null),[s,l]=S.useState([]),[c,d]=S.useState({nombre:"",fecha:"",horaInicio:"08:00",horaFin:"09:00"}),[m,g]=S.useState(!0),[v,b]=S.useState(!1),[T,N]=S.useState(!1),[I,B]=S.useState(null),k=(K,ee)=>{const oe=new Date;return!ee.some(O=>{const C=new Date(O.fecha);if(C.toDateString()!==oe.toDateString())return!1;const[x,V]=O.horaInicio.split(":").map(Number),[L,j]=O.horaFin.split(":").map(Number),D=new Date(C.setHours(x,V,0,0)),tt=new Date(C.setHours(L,j,0,0));return oe>=D&&oe<tt})};S.useEffect(()=>{let K;return(async()=>{try{g(!0);const O=(await IA()).find(C=>C.id===n);if(!O){Ue.error("Sala no encontrada"),e("/salas");return}a(O),K=B3(n,C=>{l(C),g(!1)})}catch(oe){Ue.error("Error al cargar datos: "+oe.message),g(!1)}})(),()=>{K&&K()}},[n,e]);const q=async K=>{K.preventDefault(),b(!0);try{if(!c.nombre||!c.fecha){Ue.error("Todos los campos son requeridos");return}if(c.horaInicio>=c.horaFin){Ue.error("La hora de fin debe ser mayor a la hora de inicio");return}if(!await z3(n,c.fecha,c.horaInicio,c.horaFin)){Ue.error("El horario seleccionado no est disponible");return}B({...c,salaNombre:t==null?void 0:t.nombre,salaId:n}),N(!0)}catch(ee){Ue.error("Error al verificar disponibilidad: "+ee.message)}finally{b(!1)}},Y=async()=>{try{await U3(I),Ue.success("Reserva creada exitosamente!"),N(!1)}catch(K){Ue.error("Error al crear reserva: "+K.message)}},z=async K=>{if(window.confirm("Ests seguro de finalizar esta reserva?"))try{await j3(K),Ue.success("Reserva finalizada correctamente")}catch(ee){Ue.error("Error al finalizar reserva: "+ee.message)}};return m?w.jsxs(ua,{className:"text-center mt-5",children:[w.jsx(Hg,{animation:"border",role:"status",children:w.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),w.jsx("p",{children:"Cargando informacin de reservas..."})]}):w.jsxs(ua,{className:"mt-4",children:[w.jsx(Vb,{position:"top-right",autoClose:5e3}),t&&w.jsx(Ke,{className:"mb-4 shadow-sm",children:w.jsxs(Ke.Body,{children:[w.jsxs(Ke.Title,{className:"text-primary",children:[t.nombre,w.jsx(Xb,{bg:k(t,s)?"success":"danger",className:"ms-2",children:k(t,s)?"Disponible ahora":"Ocupada ahora"})]}),w.jsx(Ke.Text,{children:t.descripcion}),w.jsxs(Ke.Text,{children:[w.jsx("strong",{children:"Ubicacin:"})," ",t.ubicacion," |",w.jsx("strong",{children:" Capacidad:"})," ",t.capacidad," personas"]})]})}),w.jsxs(hs,{children:[w.jsx(Mn,{lg:6,children:w.jsx(Ke,{className:"mb-4",children:w.jsxs(Ke.Body,{children:[w.jsx(Ke.Title,{children:"Nueva Reserva"}),w.jsxs(Je,{onSubmit:q,children:[w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Nombre completo *"}),w.jsx(Je.Control,{type:"text",value:c.nombre,onChange:K=>d({...c,nombre:K.target.value}),required:!0,placeholder:"Ej: Juan Prez"})]}),w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Fecha *"}),w.jsx(Je.Control,{type:"date",value:c.fecha,onChange:K=>d({...c,fecha:K.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]}),w.jsxs(hs,{children:[w.jsx(Mn,{md:6,children:w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Hora inicio *"}),w.jsx(Je.Select,{value:c.horaInicio,onChange:K=>d({...c,horaInicio:K.target.value}),required:!0,children:Array.from({length:12},(K,ee)=>`${7+ee}:00`).map(K=>w.jsx("option",{value:K,children:K},K))})]})}),w.jsx(Mn,{md:6,children:w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Hora fin *"}),w.jsx(Je.Select,{value:c.horaFin,onChange:K=>d({...c,horaFin:K.target.value}),required:!0,children:Array.from({length:12},(K,ee)=>`${8+ee}:00`).map(K=>w.jsx("option",{value:K,children:K},K))})]})})]}),w.jsx(bn,{variant:"primary",type:"submit",disabled:v,className:"w-100",children:v?"Validando...":"Verificar Disponibilidad"})]})]})})}),w.jsx(Mn,{lg:6,children:w.jsx(Ke,{children:w.jsxs(Ke.Body,{children:[w.jsx(Ke.Title,{children:"Reservas Activas"}),s.length===0?w.jsx(zp,{variant:"info",children:"No hay reservas activas para esta sala"}):w.jsx("div",{className:"table-responsive",children:w.jsxs(qg,{striped:!0,bordered:!0,hover:!0,children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Fecha"}),w.jsx("th",{children:"Horario"}),w.jsx("th",{children:"Nombre"}),w.jsx("th",{children:"Acciones"})]})}),w.jsx("tbody",{children:s.map(K=>{var ee;return w.jsxs("tr",{children:[w.jsx("td",{children:(ee=K.fecha)==null?void 0:ee.toLocaleDateString()}),w.jsxs("td",{children:[K.horaInicio," - ",K.horaFin]}),w.jsx("td",{children:K.nombre}),w.jsx("td",{children:w.jsx(bn,{variant:"outline-danger",size:"sm",onClick:()=>z(K.id),children:"Finalizar"})})]},K.id)})})]})})]})})})]}),w.jsxs(li,{show:T,onHide:()=>N(!1),children:[w.jsx(li.Header,{closeButton:!0,children:w.jsx(li.Title,{children:"Confirmar Reserva"})}),w.jsxs(li.Body,{children:[w.jsx("p",{children:"Confirmar la siguiente reserva?"}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Sala:"})," ",I==null?void 0:I.salaNombre]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Fecha:"})," ",I==null?void 0:I.fecha]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Horario:"})," ",I==null?void 0:I.horaInicio," - ",I==null?void 0:I.horaFin]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Nombre:"})," ",I==null?void 0:I.nombre]})]})]}),w.jsxs(li.Footer,{children:[w.jsx(bn,{variant:"secondary",onClick:()=>N(!1),children:"Cancelar"}),w.jsx(bn,{variant:"primary",onClick:Y,children:"Confirmar Reserva"})]})]})]})}function H3(){const[n,e]=S.useState([]),[t,a]=S.useState(!1),[s,l]=S.useState(null),[c,d]=S.useState({nombre:"",descripcion:"",capacidad:"",ubicacion:"",disponibilidad:!0});S.useEffect(()=>{m()},[]);const m=async()=>{const T=await IA();e(T)},g=async T=>{T.preventDefault(),s?await V3(s.id,c):await k3(c),a(!1),m(),b()},v=T=>{l(T),d({nombre:T.nombre,descripcion:T.descripcion,capacidad:T.capacidad,ubicacion:T.ubicacion,disponibilidad:T.disponibilidad}),a(!0)},b=()=>{l(null),d({nombre:"",descripcion:"",capacidad:"",ubicacion:"",disponibilidad:!0})};return w.jsxs("div",{className:"p-3",children:[w.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[w.jsx("h2",{children:"Administrar Salas"}),w.jsx(bn,{onClick:()=>a(!0),children:"Agregar Sala"})]}),w.jsxs(qg,{striped:!0,bordered:!0,hover:!0,children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Nombre"}),w.jsx("th",{children:"Descripcin"}),w.jsx("th",{children:"Capacidad"}),w.jsx("th",{children:"Ubicacin"}),w.jsx("th",{children:"Acciones"})]})}),w.jsx("tbody",{children:n.map(T=>w.jsxs("tr",{children:[w.jsx("td",{children:T.nombre}),w.jsx("td",{children:T.descripcion}),w.jsx("td",{children:T.capacidad}),w.jsx("td",{children:T.ubicacion}),w.jsxs("td",{children:[w.jsx(bn,{variant:"warning",size:"sm",onClick:()=>v(T),children:"Editar"})," ",w.jsx(bn,{variant:"danger",size:"sm",onClick:()=>P3(T.id).then(m),children:"Eliminar"})]})]},T.id))})]}),w.jsxs(li,{show:t,onHide:()=>a(!1),children:[w.jsx(li.Header,{closeButton:!0,children:w.jsx(li.Title,{children:s?"Editar Sala":"Agregar Sala"})}),w.jsx(li.Body,{children:w.jsxs(Je,{onSubmit:g,children:[w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Nombre"}),w.jsx(Je.Control,{type:"text",value:c.nombre,onChange:T=>d({...c,nombre:T.target.value}),required:!0})]}),w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Descripcin"}),w.jsx(Je.Control,{as:"textarea",rows:3,value:c.descripcion,onChange:T=>d({...c,descripcion:T.target.value})})]}),w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Capacidad"}),w.jsx(Je.Control,{type:"number",value:c.capacidad,onChange:T=>d({...c,capacidad:T.target.value}),required:!0})]}),w.jsxs(Je.Group,{className:"mb-3",children:[w.jsx(Je.Label,{children:"Ubicacin"}),w.jsx(Je.Control,{type:"text",value:c.ubicacion,onChange:T=>d({...c,ubicacion:T.target.value}),required:!0})]}),w.jsx(Je.Group,{className:"mb-3",children:w.jsx(Je.Check,{type:"switch",label:"Disponible",checked:c.disponibilidad,onChange:T=>d({...c,disponibilidad:T.target.checked})})}),w.jsx(bn,{variant:"primary",type:"submit",children:"Guardar"})]})})]})]})}function q3(){const n=bs();return w.jsxs("div",{className:"not-found text-center mt-5",children:[w.jsx("h1",{className:"display-1",children:"404"}),w.jsx("h2",{className:"mb-4",children:"Pgina no encontrada"}),w.jsx("p",{children:"La pgina que buscas no existe o ha sido movida."}),w.jsx(bn,{variant:"primary",onClick:()=>n("/"),className:"mt-3",children:"Volver al Inicio"})]})}function F3(){const[n,e]=S.useState(""),[t,a]=S.useState(""),{login:s}=rd(),l=bs(),[c,d]=S.useState(""),m=async g=>{g.preventDefault(),d("");try{await s(n,t),l("/")}catch{d("Correo o contrasea incorrectos.")}};return w.jsxs("div",{className:"login-form",children:[w.jsx("h2",{children:"Iniciar sesin"}),w.jsxs("form",{onSubmit:m,children:[w.jsx("input",{type:"email",placeholder:"Correo",value:n,onChange:g=>e(g.target.value),required:!0}),w.jsx("input",{type:"password",placeholder:"Contrasea",value:t,onChange:g=>a(g.target.value),required:!0}),c&&w.jsx("p",{style:{color:"red"},children:c}),w.jsx("button",{type:"submit",children:"Entrar"})]}),w.jsxs("p",{children:["No tienes cuenta? ",w.jsx("a",{href:"/register",children:"Regstrate"})]})]})}function $3(){const[n,e]=S.useState(""),[t,a]=S.useState(""),{register:s}=rd(),l=bs(),[c,d]=S.useState(""),m=async g=>{g.preventDefault(),d("");try{await s(n,t),l("/")}catch{d("No se pudo registrar el usuario.")}};return w.jsxs("div",{className:"register-form",children:[w.jsx("h2",{children:"Registro"}),w.jsxs("form",{onSubmit:m,children:[w.jsx("input",{type:"email",placeholder:"Correo",value:n,onChange:g=>e(g.target.value),required:!0}),w.jsx("input",{type:"password",placeholder:"Contrasea",value:t,onChange:g=>a(g.target.value),required:!0}),c&&w.jsx("p",{style:{color:"red"},children:c}),w.jsx("button",{type:"submit",children:"Registrarse"})]}),w.jsxs("p",{children:["Ya tienes cuenta? ",w.jsx("a",{href:"/login",children:"Inicia sesin"})]})]})}const Lf=({children:n})=>{const{user:e,loading:t}=rd();return t?w.jsx("p",{children:"Cargando..."}):e?n:w.jsx(JC,{to:"/login"})};function G3(){return w.jsxs(AI,{basename:"/centro-deportivo",children:[w.jsx(b3,{}),w.jsxs("div",{className:"app-container",children:[w.jsx(Vb,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),w.jsxs(tI,{children:[w.jsx(ai,{path:"/",element:w.jsx(w3,{})}),w.jsx(ai,{path:"/login",element:w.jsx(F3,{})}),w.jsx(ai,{path:"/register",element:w.jsx($3,{})}),w.jsx(ai,{path:"/salas",element:w.jsx(Lf,{children:w.jsx(L3,{})})}),w.jsx(ai,{path:"/reservas",element:w.jsx(Lf,{children:w.jsx(hb,{})})}),w.jsx(ai,{path:"/reservas/:salaId",element:w.jsx(Lf,{children:w.jsx(hb,{})})}),w.jsx(ai,{path:"/admin/salas",element:w.jsx(Lf,{children:w.jsx(H3,{})})}),w.jsx(ai,{path:"*",element:w.jsx(q3,{})})]})]})]})}const By=document.createElement("link");By.href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Roboto+Condensed:wght@400;700&display=swap";By.rel="stylesheet";document.head.appendChild(By);lC.createRoot(document.getElementById("root")).render(w.jsx(Ne.StrictMode,{children:w.jsxs(T3,{children:[" ",w.jsx(G3,{})]})}));
